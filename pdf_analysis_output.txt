--- START OF am1.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  1 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: Wprowadzenie do programowania aplikacji mobilnych  
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
1. TreÅ›ci programowe:  
Åšrodowisko programistyczne AndroidStudio, tworzenie nowego projektu, struktura projektu, 
uruchamiania aplikacji na urzÄ…dzeniach mobilnych oraz na emulatorze, pliki Java oraz XML,  
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest wprowadzenie studentÃ³w do tematu programowania aplikacji mobilnych w 
systemie operacyjnym Android. Poznanie Å›rodowiska programistycznego AndroidStudio, struktury 
projektu oraz podstawowych narzÄ™dzi.  
 
3. MateriaÅ‚y dydaktyczne  
 
â€¢ Aplikacje natywne 
Aplikacje natywne pisane sÄ… specjalnie pod konkretny system operacyjny (Android albo iOS), dziÄ™ki 
czemu majÄ… najlepszÄ… wydajnoÅ›Ä‡ i peÅ‚ny dostÄ™p do funkcji urzÄ…dzenia. 
 
Android 
â€¢ JÄ™zyki: 
o Kotlin (obecnie preferowany przez Google) 
o Java (starsze projekty nadal czÄ™sto w nim istniejÄ…) 
â€¢ NarzÄ™dzia: 
o Android Studio (oficjalne IDE z emulatorami, debuggerem, design toolami) 
â€¢ Biblioteki: 
o Jetpack (komponenty UI, architektura, nawigacja) 
o Retrofit (komunikacja z API) 
iOS 
â€¢ JÄ™zyki: 
o Swift (gÅ‚Ã³wny jÄ™zyk Apple) 
o Objective-C (starsze projekty) 
â€¢ NarzÄ™dzia: 
o Xcode (IDE od Apple, emulator iPhone/iPad, Interface Builder) 
â€¢ Frameworki: 
o SwiftUI (deklaratywne UI, nowoczesne podejÅ›cie) 
o UIKit (starsze, ale wciÄ…Å¼ uÅ¼ywane podejÅ›cie) 
 
 
â€¢ Aplikacje cross-platformowe (wieloplatformowe) 
 

Jedna baza kodu dziaÅ‚a na Androidzie i iOS (czasem teÅ¼ na Web i Desktop). OszczÄ™dza czas i 
pieniÄ…dze, choÄ‡ czasami kosztem wydajnoÅ›ci lub peÅ‚nego dostÄ™pu do specyficznych funkcji 
urzÄ…dzenia. 
Popularne rozwiÄ…zania 
â€¢ Flutter (Google) 
o JÄ™zyk: Dart 
o NarzÄ™dzie: Android Studio, Visual Studio Code 
o Zalety: szybkie UI, â€hot reloadâ€, dziaÅ‚a na Android, iOS, Web, Desktop 
â€¢ React Native (Meta/Facebook) 
o JÄ™zyk: JavaScript / TypeScript 
o NarzÄ™dzia: Visual Studio Code, Expo (do szybkiego startu), Metro bundler 
o Zalety: duÅ¼a spoÅ‚ecznoÅ›Ä‡, Å‚atwa integracja z kodem natywnym 
â€¢ Xamarin / .NET MAUI (Microsoft) 
o JÄ™zyk: C# 
o NarzÄ™dzie: Visual Studio 
o Zalety: integracja z .NET, multiplatforma (Android, iOS, Windows, macOS) 
â€¢ Ionic + Capacitor 
o JÄ™zyk: JavaScript / TypeScript (Angular, React, Vue) 
o NarzÄ™dzie: Visual Studio Code 
o Zalety: aplikacje wyglÄ…dajÄ… jak mobilne, a pod spodem to aplikacje webowe w 
wrapperze 
 
â€¢ JeÅ›li chcesz najlepszej wydajnoÅ›ci i peÅ‚nego dostÄ™pu do sprzÄ™tu â€“ wybierasz natywne 
podejÅ›cie. 
â€¢ JeÅ›li zaleÅ¼y Ci na szybszym czasie developmentu i jednym kodzie na wiele platform â€“ lepiej 
crossowe. 
 
 
â€¢ Programowanie dla systemu operacyjnego Android w Å›rodowisku 
Android Studio  
 
KrÃ³tka historia Androida 
â€¢ 2003 â€“ w kalifornijskim Palo Alto powstaÅ‚a firma Android Inc., zaÅ‚oÅ¼ona przez 
Andyâ€™ego Rubina i Richarda Minera. PoczÄ…tkowo system miaÅ‚ byÄ‡ 
wykorzystywany w aparatach cyfrowych, pÃ³Åºniej zmieniono koncepcjÄ™ na 
telefony. 
â€¢ 2005 â€“ Google kupuje Android Inc. i zaczyna rozwijaÄ‡ system jako otwartÄ… 
platformÄ™ dla smartfonÃ³w. 
â€¢ 2007 â€“ powstaje Open Handset Alliance â€“ konsorcjum firm wspierajÄ…cych 
rozwÃ³j Androida (Google, HTC, Motorola, Samsung i inni).  
Android 0.5 Milestone 3 to pierwsza wersja android uruchamiana na 
emulatorze. W tym roku pojawiÅ‚ siÄ™ pierwszy iPhone.  
â€¢ 2008 â€“ na rynek trafia pierwszy telefon z Androidem: HTC Dream (T-Mobile 
G1). W Polsce  - ERA G1 2009 
â€¢ 2010â€“2012 â€“ Android staje siÄ™ najpopularniejszym systemem mobilnym na 
Å›wiecie, wyprzedzajÄ…c Symbiana i iOS.  
â€¢ 2014 â€“ pojawia siÄ™ Material Design, nowy jÄ™zyk projektowania interfejsÃ³w od 
Google. 
â€¢ 2019 â€“ Google odchodzi od nazw â€cukierkowychâ€ i przechodzi na numeracjÄ™ 
â€“ np. Android 10 zamiast â€Qâ€. 
â€¢ DziÅ› (2025) â€“ Android to najpopularniejszy system mobilny na Å›wiecie, 
uÅ¼ywany przez miliardy urzÄ…dzeÅ„: smartfony, tablety, zegarki, telewizory, a 
nawet samochody. 
 
Kluczowe cechy Androida 
o OtwartoÅ›Ä‡ i darmowa licencja 
o Android jest oparty na jÄ…drze Linuxa i rozwijany jako projekt open source 
(AOSP â€“ Android Open Source Project). 
o DziÄ™ki temu producenci urzÄ…dzeÅ„ mogli Å‚atwo adoptowaÄ‡ system bez opÅ‚at 
licencyjnych (w przeciwieÅ„stwie do np. Windows Phone). 
o Ogromna elastycznoÅ›Ä‡ i moÅ¼liwoÅ›Ä‡ personalizacji 
o UÅ¼ytkownik moÅ¼e zmieniaÄ‡ launcher (aplikacja odpowiedzialna za ekran 
gÅ‚Ã³wny i menu aplikacji), widÅ¼ety, motywy, a nawet caÅ‚e ROM-y (ROM w 
Å›wiecie Androida oznacza system operacyjny Android - jego wersjÄ™ 
instalowanÄ… na urzÄ…dzeniu). 
o Producenci mogÄ… dostosowywaÄ‡ interfejs (Samsung One UI, Xiaomi MIUI, 
Huawei EMUI). 
o Szeroka dostÄ™pnoÅ›Ä‡ urzÄ…dzeÅ„ 
o Android dziaÅ‚a na telefonach od tanich modeli po flagowe smartfony. 
o DziÄ™ki temu staÅ‚ siÄ™ systemem â€dla kaÅ¼degoâ€, w przeciwieÅ„stwie do iOS, 
ktÃ³ry jest tylko na iPhone. 
o Ogromny ekosystem aplikacji (Google Play) 
o Miliony aplikacji i gier, Å‚atwy dostÄ™p do narzÄ™dzi dla deweloperÃ³w. 
o Google Play Store umoÅ¼liwia szybkie publikowanie i aktualizowanie 
aplikacji. 
o Integracja z usÅ‚ugami Google 
o Gmail, Google Maps, YouTube, Google Drive czy Asystent Google to 
aplikacje, ktÃ³re zwiÄ™kszyÅ‚y atrakcyjnoÅ›Ä‡ systemu. 
o Wsparcie dla wielu producentÃ³w i urzÄ…dzeÅ„ 
o Android jest stosowany nie tylko w smartfonach, ale teÅ¼ w tabletach, 
telewizorach (Android TV), smartwatch 
o System bazujÄ…cy na jÄ…drze SO Linux  
o DuÅ¼y udziaÅ‚ w rynku (okoÅ‚o 73%) 
 
Åšrodowisko programistyczne Android Studio  
 
â€¢ Android Studio to oficjalne Å›rodowisko programistyczne (IDE) do tworzenia aplikacji na 
system Android. 
â€¢ Oparte jest na popularnym IntelliJ IDEA od firmy JetBrains. 
â€¢ ZostaÅ‚o ogÅ‚oszone przez Google w 2013 roku, a od 2014 jest oficjalnym narzÄ™dziem dla 
deweloperÃ³w Androida (wczeÅ›niej Eclipse) . 
 
ğŸ”¹ GÅ‚Ã³wne funkcje Android Studio 
â€¢ Edytor kodu z podpowiadaniem skÅ‚adni, refaktoryzacjÄ… i analizÄ… bÅ‚Ä™dÃ³w. 
â€¢ Projektant interfejsu (Layout Editor) â€“ graficzne tworzenie widokÃ³w w XML. 
â€¢ Emulator Androida â€“ uruchamianie i testowanie aplikacji na wirtualnych urzÄ…dzeniach. 
â€¢ Debuggowanie i profilowanie â€“ narzÄ™dzia do Å›ledzenia bÅ‚Ä™dÃ³w i optymalizacji wydajnoÅ›ci. 
â€¢ Gradle â€“ system automatyzacji budowania aplikacji i zarzÄ…dzania zaleÅ¼noÅ›ciami. 
â€¢ Integracja z Git â€“ kontrola wersji kodu bezpoÅ›rednio w IDE. 
 
ğŸ”¹ ObsÅ‚ugiwane jÄ™zyki programowania 
â€¢ Kotlin â€“ obecnie preferowany jÄ™zyk przez Google. 
â€¢ Java â€“ nadal szeroko uÅ¼ywana, szczegÃ³lnie w starszych projektach. 
â€¢ C++ â€“ w przypadku aplikacji wymagajÄ…cych kodu natywnego (NDK). 
 
ğŸ”¹ Struktura projektu w Android Studio 
â€¢ app/java â€“ kod ÅºrÃ³dÅ‚owy aplikacji. 
â€¢ app/res â€“ zasoby: layouty (XML), obrazy, style, napisy. 
â€¢ AndroidManifest.xml â€“ opis aplikacji (uprawnienia, aktywnoÅ›ci, ikona). 
â€¢ Gradle Scripts â€“ konfiguracja projektu, zaleÅ¼noÅ›ci, kompilacja. 
â€¢  
 
 
-----------------------------------------------------------------------------------------------------------------------------------
---------------------- 
Pliki konfiguracyjne â€“ skrypt moduÅ‚owy build.gradle.kts (kotlin) zamiast 
build.gradel 
 
To jest konfiguracja projektu Android w Android Studio w nowym stylu Kotlin DSL (czyli 
build.gradle.kts zamiast build.gradle). 
 

 

 
1. Sekcja plugins 
 
â€¢ OkreÅ›la wtyczki Gradle uÅ¼ywane w projekcie. 
â€¢ android.application oznacza, Å¼e jest to aplikacja Android (a nie biblioteka). 
â€¢ Alias (libs.plugins...) pochodzi z pliku libs.versions.toml, ktÃ³ry centralizuje zarzÄ…dzanie 
wersjami. 
 
2. Sekcja android 
 
â€¢ namespace â€“ przestrzeÅ„ nazw aplikacji (odpowiednik package). 
â€¢ compileSdk â€“ numer wersji Android SDK, na ktÃ³rej kompilowana jest aplikacja (API 36 = 
Android 14).  OkreÅ›la, jakie API moÅ¼esz uÅ¼ywaÄ‡ w kodzie. JeÅ›li dasz compileSdk = 36, moÅ¼esz 
pisaÄ‡ kod uÅ¼ywajÄ…cy funkcji i klas z Androida 14 (API 36). Nie wpÅ‚ywa bezpoÅ›rednio na to, na 
jakich urzÄ…dzeniach aplikacja bÄ™dzie dziaÅ‚aÄ‡. 
â€¢  
 
 
 
 
â€¢ applicationId â€“ unikalny identyfikator aplikacji (waÅ¼ny m.in. w Google Play). 
â€¢ minSdk â€“ minimalna wersja Androida (API 24 = Android 7.0). 
â€¢ targetSdk â€“ docelowa wersja Androida (API 36). To docelowa wersja Androida, na ktÃ³rej 
aplikacja zostaÅ‚a przetestowana i jest zoptymalizowana. Informuje system Android, jak 
powinien traktowaÄ‡ aplikacjÄ™: jeÅ›li aplikacja ma niÅ¼szy targetSdk niÅ¼ aktualny system â†’ 
Android wÅ‚Ä…cza tryb kompatybilnoÅ›ci, Å¼eby aplikacja dziaÅ‚aÅ‚a, ale moÅ¼e np. ograniczyÄ‡ dostÄ™p 
do nowszych funkcji. JeÅ›li targetSdk = wersja systemu â†’ aplikacja dziaÅ‚a â€natywnieâ€ bez trybu 
kompatybilnoÅ›ci. Google Play wymaga, aby aplikacje miaÅ‚y aktualny targetSdk, bo inaczej 
mogÄ… byÄ‡ odrzucane przy publikacji. 
 
â€¢ versionCode â€“ techniczny numer wersji (inkrementowany przy aktualizacjach). 
â€¢ versionName â€“ wersja aplikacji widoczna dla uÅ¼ytkownika. 
â€¢ testInstrumentationRunner â€“ runner testÃ³w dla Androida (JUnit + Espresso). 

 
 
 
â€¢ Definiuje rÃ³Å¼ne tryby budowania aplikacji. 
â€¢ release â€“ konfiguracja dla wersji produkcyjnej. 
â€¢ isMinifyEnabled = false â†’ wyÅ‚Ä…czona minifikacja (moÅ¼na wÅ‚Ä…czyÄ‡ dla mniejszych APK). 
â€¢ proguardFiles(...) â†’ pliki konfiguracyjne do optymalizacji i zaciemniania kodu. 
 
 
 
â€¢ sourceCompatibility - okreÅ›la wersjÄ™ jÄ™zyka Java, w ktÃ³rej tworzony jest projekt. Kompilator 
zaakceptuje skÅ‚adniÄ™ i funkcje dostÄ™pne w Javie 11 (np. var w zmiennych lokalnych). JeÅ›li 
sprÃ³bujesz uÅ¼yÄ‡ nowszych konstrukcji (np. z Javy 17), kompilator zgÅ‚osi bÅ‚Ä…d. 
â€¢ targetCompatibility - OkreÅ›la dla jakiej wersji JVM ma zostaÄ‡ wygenerowany kod bajtowy 
(class files). MoÅ¼esz pisaÄ‡ w Javie 11, ale wygenerowaÄ‡ kod dziaÅ‚ajÄ…cy np. na JVM z Javy 8 
(jeÅ›li ustawisz targetCompatibility = JavaVersion.VERSION_1_8). W praktyce mÃ³wi: â€ta 
aplikacja ma dziaÅ‚aÄ‡ na maszynie wirtualnej Javy w wersji Xâ€. 
 
 
 
â€¢ WÅ‚Ä…cza dodatkowe funkcje. 
â€¢ viewBinding = true â€“ aktywuje View Binding, czyli nowoczesny sposÃ³b dostÄ™pu do 
widokÃ³w zamiast findViewById. 
 
 

 
 
â€¢ Definiuje biblioteki potrzebne w projekcie. 
â€¢ implementation â€“ zaleÅ¼noÅ›ci aplikacji, dodaje bibliotekÄ™ tylko do kodu aplikacji.: 
â€¢ libs.appcompat â€“ kompatybilnoÅ›Ä‡ wsteczna (AndroidX) (wsparcie dla starszych wersji 
Androida).. 
â€¢ libs.material â€“ komponenty Material Design. 
â€¢ libs.activity â€“ obsÅ‚uga cyklu Å¼ycia Activity AndroidX. 
â€¢ libs.constraintlayout â€“ elastyczny ukÅ‚ad ConstraintLayout. 
â€¢  
â€¢ testImplementation â€“ biblioteki do testÃ³w jednostkowych (JUnit). 
â€¢ androidTestImplementation â€“ biblioteki do testÃ³w instrumentalnych (JUnit + Espresso). 
 
-----------------------------------------------------------------------------------------------------------------------------------
---------------------- 
Pliki konfiguracyjne â€“ skrypt dla caÅ‚ego projektu build.gradle.kts  
 
 
 
 Sekcja plugins 
â€¢ plugins { ... } â€“ deklarujesz wtyczki Gradle. 
â€¢ alias(libs.plugins.android.application) â€“ odwoÅ‚anie do aliasu z pliku libs.versions.toml. 
â€¢ Ten alias odpowiada wtyczce com.android.application, czyli pluginowi dla moduÅ‚Ã³w 
aplikacji Android. 
â€¢ apply false â€“ oznacza, Å¼e plugin jest dostÄ™pny dla projektu, ale nie jest stosowany na 
poziomie root. 
 
 
-----------------------------------------------------------------------------------------------------------------------------------
---------------------- 
Plik konfiguracyjny â€“ AndroidManifest.xml 
 

 
 
1. NagÅ‚Ã³wek pliku 
 
 
 
â€¢ Deklaruje plik XML i kodowanie (utf-8). 
â€¢ xmlns:android â†’ przestrzeÅ„ nazw dla atrybutÃ³w Androida (np. android:label). 
â€¢ xmlns:tools â†’ przestrzeÅ„ nazw uÅ¼ywana w Android Studio (np. do adnotacji 
developerskich, ostrzeÅ¼eÅ„ itp.). 
 
2. Sekcja <application> 
 

 
 
Atrybuty: 
â€¢ android:allowBackup="true" 
o Pozwala systemowi tworzyÄ‡ kopiÄ™ zapasowÄ… danych aplikacji (np. w chmurze 
Google). 
â€¢ android:dataExtractionRules 
o Wskazuje zasady eksportu/eksportu danych w pliku XML 
(res/xml/data_extraction_rules.xml). 
â€¢ android:fullBackupContent 
o OkreÅ›la, ktÃ³re dane aplikacji sÄ… doÅ‚Ä…czone do peÅ‚nej kopii zapasowej 
(res/xml/backup_rules.xml). 
â€¢ android:icon="@mipmap/ic_launcher" 
o Ikona aplikacji (widoczna w systemie i launcherze). 
â€¢ android:label="@string/app_name" 
o Nazwa aplikacji (pokazywana pod ikonÄ…). Pobierana z pliku res/values/strings.xml. 
â€¢ android:roundIcon="@mipmap/ic_launcher_round" 
o OkrÄ…gÅ‚a wersja ikony (dla systemÃ³w, ktÃ³re jej wymagajÄ…). 
â€¢ android:supportsRtl="true" 
o WÅ‚Ä…cza obsÅ‚ugÄ™ ukÅ‚adÃ³w od prawej do lewej (RTL, np. arabski, hebrajski). 
â€¢ android:theme="@style/Theme.JavaProjectExample" 
o DomyÅ›lny motyw aplikacji (styl w res/values/styles.xml). 
 
3. Sekcja <activity> 
 
 
 
â€¢ android:name=".MainActivity" 

â€¢ OkreÅ›la klasÄ™ Activity, ktÃ³ra bÄ™dzie uruchamiana. 
â€¢ . oznacza, Å¼e jest w gÅ‚Ã³wnym pakiecie aplikacji. 
 
â€¢ android:exported="true" 
â€¢ WymÃ³g od Androida 12 (API 31). 
â€¢ true â†’ oznacza, Å¼e aktywnoÅ›Ä‡ moÅ¼e byÄ‡ uruchamiana przez inne aplikacje (np. launcher 
systemu). 
 
4. Sekcja <intent-filter> 
 
 
 
â€¢ Definiuje, w jaki sposÃ³b aktywnoÅ›Ä‡ moÅ¼e byÄ‡ uruchamiana. 
â€¢  <action android:name="android.intent.action.MAIN" /> 
â€¢ Oznacza, Å¼e to jest gÅ‚Ã³wna aktywnoÅ›Ä‡ aplikacji (punkt wejÅ›cia). 
â€¢ <category android:name="android.intent.category.LAUNCHER" /> 
â€¢ Powoduje, Å¼e aktywnoÅ›Ä‡ pojawia siÄ™ w launcherze (lista aplikacji w telefonie). 
 
 
- Oficjalna strona â€“ Android dla programistÃ³w https://developer.android.com/  
- Pobierz Android Studio: https://developer.android.com/studio/ 
- Informacje o wersjach Android SDK: https://developer.android.com/studio/releases/platforms  
 
Nazwa kodowa Numery wersji Data pierwszego wydania   API 
Apple Pie 1.0 23 wrzeÅ›nia 2008 1 
Banana Bread 1.1 9 lutego 2009 2 
Cupcake 1.5 27 kwietnia 2009 3 
Donut 1.6 15 wrzeÅ›nia 2009 4 
Eclair 2.0-2.1 26 paÅºdziernika 2009 5-7 
Froyo 2.2-2.2.3 20 maja 2010 8 
Gingerbread 2.3-2.3.7 6 grudnia 2010 9-10 

Honeycomb 3.0-3.2.6 22 lutego 2011 11-13 
Ice Cream Sandwich 4.0-4.0.4 18 paÅºdziernika 2011 14-15 
Jelly Bean[8]
 4.1-4.3.1 9 lutego 2012 16-18 
KitKat[8]
 4.4-4.4.4 31 paÅºdziernika 2013 19-20 
Lollipop 5.0-5.1.1 12 listopada 2014 21-22 
Marshmallow 6.0-6.0.1 5 paÅºdziernika 2015 23 
Nougat 7.0-7.1.2 22 sierpnia 2016 24-25 
Oreo 8.0-8.1 21 sierpnia 2017 26-27 
Pie 9 6 sierpnia 2018 28 
Android 10 (wewnÄ™trznie Quince Tart) 10 3 wrzeÅ›nia 2019 29 
Android 11 (wewnÄ™trznie Red Velvet Cake) 11 8 wrzeÅ›nia 2020 30 
Android 12 (wewnÄ™trznie Snow Cone') 12-12L 4 paÅºdziernika 2021 31-32 
Android 13 (wewnÄ™trznie Tiramisu') 13 15 sierpnia 2022 33 
Android 14 (wewnÄ™trznie: Upside Down 
Cake) 14 4 paÅºdziernika 2023 34 
Android 15 (wewnÄ™trznie: Vanilla Ice 
Cream) 15 15 paÅºdziernika 2024 35 
Android 16  wewnÄ™trznie: Baklava 16 3 czerwca 2025 36 
 
 
Dla prawidÅ‚owego dziaÅ‚ania emulatora systemu android wymagane jest wÅ‚Ä…czenie virtualizacji: 
Virtualization: Enabled  
 
  
 
 


--- END OF am1.pdf ---

--- START OF am2.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  2 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: Interfejs uÅ¼ytkownika â€“ RelativeLayout, ViewBinding, 
obsÅ‚uga kontrolek w kodzie aktywnoÅ›ci 
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
1. TreÅ›ci programowe:  
Tworzenie nowego widoku z siatkÄ… RelativeLayout. Podstawowe parametry layout-u (kolory, 
ustawienia, marginesy, grawitacja i inne). Pobieranie danych wprowadzonych w pola tekstowe z 
poziomu kodu Javy. Deklaracja tekstu w zasobach projektu. ObsÅ‚uga zdarzeÅ„ zwiÄ…zanych z 
przyciskami.  
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci tworzenia interfejsu uÅ¼ytkownika w domyÅ›lnej siatce 
rozmieszczenia RelativeLayout oraz obsÅ‚uga komponentÃ³w z poziomu jÄ™zyka Java.   
 
3. MateriaÅ‚y dydaktyczne  
 
â€¢ Struktura pliku aktywnoÅ›ci  
 

 
 
AppCompatActivity to klasa bazowa dla aktywnoÅ›ci w Androidzie, ktÃ³ra: 
â€¢ pozwala korzystaÄ‡ z nowoczesnych funkcji Androida nawet na starszych wersjach systemu, 
â€¢ obsÅ‚uguje ActionBar/Toolbar, motywy Material Design i kompatybilnoÅ›Ä‡ wstecznÄ…, 
â€¢ dziedziczy po FragmentActivity, wiÄ™c umoÅ¼liwia uÅ¼ywanie fragmentÃ³w. 
 
To podstawa wiÄ™kszoÅ›ci aktywnoÅ›ci w nowoczesnych aplikacjach Android. 
 
Metoda onCreate bÄ™dzie omÃ³wiona na kolejnych zajÄ™ciach (cykl Å¼ycia aktywnoÅ›ci) 
 
 
â€¢ Przypisanie referencji do kontrolek poprzez funkcje findViewById: 
 

 
 
â€¢ OdwoÅ‚ywanie siÄ™ do elementÃ³w EML-owych metodÄ… ViewBinding: 
 

 
 
Aby moÅ¼na byÅ‚o korzystaÄ‡ z funkcjonalnoÅ›ci ViewBigding naleÅ¼y wÅ‚Ä…czyÄ‡  ViewBinding w 
build.gradle (module: app) 
 
PrzykÅ‚ad dla jÄ™zyka Kotlin (build.gradle.kts): 
 
 
 
PrzykÅ‚ad dla jÄ™zyka Groovy (build.gradle): 
 

 
 
Po dopisanie nowej funkcjonalnoÅ›ci pamiÄ™taj aby zsynchronizowaÄ‡ projekt: 
 
 
â€¢ PrzykÅ‚adowa instrukcja konwersji typÃ³w z String do int: 
 
 
 
NajczÄ™Å›ciej uÅ¼ywane  atrybuty wykorzystywane w siatce RelativeLayout: 
 
RelativeLayout jest jednym z najbardziej elastycznych i potÄ™Å¼nych kontenerÃ³w (grup widokÃ³w) 
uÅ¼ywanych w Androidzie do projektowania interfejsÃ³w uÅ¼ytkownika. SÅ‚uÅ¼y do rozmieszczania 
widokÃ³w potomnych wzglÄ™dem siebie lub wzglÄ™dem krawÄ™dzi kontenera rodzica. 
 
android:id="@+id/editTextImie" ustawienie identyfikatora danego obiektu 
android:layout_width="match_pare
nt" 
okreÅ›lenie szerokoÅ›ci ( match_parent  -szerokoÅ›Ä‡ rodzica)  
android:layout_height="wrap_conte
nt" 
okreÅ›lenie wysokoÅ›ci  ( wrap_content -wysokoÅ›Ä‡  
zawartoÅ›ci 
android:hint="Tekst ..." ustawienie tekstu wskazÃ³wki   
android:text="Wprowadz imie" ustawienie gÅ‚Ã³wnego tekstu   

android:textColor="#ff0000" okreÅ›lenie koloru dla tekstu 
android:background="#aabbcc" okreÅ›lenie koloru tÅ‚a   
android:gravity="center" WyrÃ³wnanie zawartoÅ›ci danego obiektu do  
Å›rodka 
 
 
PozostaÅ‚e:  
android:layout_above Umieszcza dolnÄ… krawÄ™dÅº tego widoku powyÅ¼ej 
podanego identyfikatora widoku zakotwiczenia.  
android:layout_below Umieszcza gÃ³rnÄ… krawÄ™dÅº tego widoku poniÅ¼ej 
podanego identyfikatora widoku zakotwiczenia.  
android:layout_alignBaseline Umieszcza liniÄ™ bazowÄ… tego widoku na linii bazowej 
danego identyfikatora widoku zakotwiczenia.  
android:layout_alignBottom  Sprawia, Å¼e dolna krawÄ™dÅº tego widoku pasuje do 
dolnej krawÄ™dzi danego identyfikatora widoku 
zakotwiczenia.  
android:layout_alignEnd Sprawia, Å¼e koÅ„cowa krawÄ™dÅº tego widoku pasuje 
do koÅ„cowej krawÄ™dzi danego identyfikatora 
widoku zakotwiczenia.  
android:layout_alignLeft Sprawia, Å¼e lewa krawÄ™dÅº tego widoku pasuje do 
lewej krawÄ™dzi danego identyfikatora widoku 
zakotwiczenia.  
android:layout_alignParentBottom JeÅ›li ma wartoÅ›Ä‡ true, dolna krawÄ™dÅº tego widoku 
pasuje do dolnej krawÄ™dzi elementu nadrzÄ™dnego.  
android:layout_alignParentEnd JeÅ›li ma wartoÅ›Ä‡ true, krawÄ™dÅº koÅ„cowa tego 
widoku odpowiada krawÄ™dzi koÅ„cowej elementu 
nadrzÄ™dnego.  
android:layout_alignParentLeft JeÅ›li ma wartoÅ›Ä‡ true, lewa krawÄ™dÅº tego widoku 
pasuje do lewej krawÄ™dzi elementu nadrzÄ™dnego.  
android:layout_alignParentRight JeÅ›li ma wartoÅ›Ä‡ true, prawa krawÄ™dÅº tego widoku 
pasuje do prawej krawÄ™dzi elementu nadrzÄ™dnego.  
android:layout_alignParentStart JeÅ›li ma wartoÅ›Ä‡ true, krawÄ™dÅº poczÄ…tkowa tego 
widoku odpowiada krawÄ™dzi poczÄ…tkowej elementu 
nadrzÄ™dnego.  
android:layout_alignParentTop JeÅ›li ma wartoÅ›Ä‡ true, gÃ³rna krawÄ™dÅº tego widoku 
pasuje do gÃ³rnej krawÄ™dzi elementu nadrzÄ™dnego.  
android:layout_alignRight Sprawia, Å¼e prawa krawÄ™dÅº tego widoku pasuje do 
prawej krawÄ™dzi danego identyfikatora widoku 
zakotwiczenia.  
android:layout_alignStart Sprawia, Å¼e krawÄ™dÅº poczÄ…tkowa tego widoku 
odpowiada krawÄ™dzi poczÄ…tkowej danego 
identyfikatora widoku zakotwiczenia.  
android:layout_alignTop Sprawia, Å¼e gÃ³rna krawÄ™dÅº tego widoku pasuje do 
gÃ³rnej krawÄ™dzi danego identyfikatora widoku 
zakotwiczenia.  
android:layout_alignWithParentIfMissing JeÅ›li ustawione na true, element nadrzÄ™dny bÄ™dzie 
uÅ¼ywany jako kotwica, gdy nie moÅ¼na znaleÅºÄ‡ 
kotwicy dla ukÅ‚adÃ³w_toLeftOf, ukÅ‚ad_toRightOf itp.  
android:layout_centerHorizontal  JeÅ›li ma wartoÅ›Ä‡ true, centruje to dziecko poziomo 
w obrÄ™bie elementu nadrzÄ™dnego.  
android:layout_centerInParent JeÅ›li ma wartoÅ›Ä‡ true, centruje to dziecko w 
poziomie i w pionie wzglÄ™dem jego elementu 
nadrzÄ™dnego.  
android:layout_centerVertical JeÅ›li ma wartoÅ›Ä‡ true, centruje to dziecko pionowo 
w obrÄ™bie jego elementu nadrzÄ™dnego.  
android:layout_toEndOf Umieszcza krawÄ™dÅº poczÄ…tkowÄ… tego widoku na 
koÅ„cu danego identyfikatora widoku zakotwiczenia.  
android:layout_toLeftOf Umieszcza prawÄ… krawÄ™dÅº tego widoku na lewo od 
danego identyfikatora widoku zakotwiczenia.  
android:layout_toRightOf Umieszcza lewÄ… krawÄ™dÅº tego widoku na prawo od 
danego identyfikatora widoku zakotwiczenia.  
android:layout_toStartOf  Umieszcza koÅ„cowÄ… krawÄ™dÅº tego widoku na 
poczÄ…tku danego identyfikatora widoku 
zakotwiczenia.  
 
â€¢ PrzykÅ‚ad widoku stworzonego w siatce RelativeLayout 
 
  
 
 
<?xml version="1.0" encoding="utf-8"?> 
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    xmlns:tools="http://schemas.android.com/tools" 
    tools:context=".MainActivity" 
    android:id="@+id/main" 
    android:background="#FFEB3B"> 

 
    <TextView 
        android:id="@+id/textViewLogo" 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:text="RelativLayout" 
        android:textSize="26dp" 
        android:layout_marginTop="60dp" 
        android:gravity="center" 
        android:textStyle="bold" 
        /> 
    <TextView 
        android:layout_below="@+id/textViewLogo" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Imie: " 
        android:id="@+id/textViewImie" 
        android:textSize="22dp" 
        android:layout_marginTop="20dp" 
        android:layout_marginLeft="20dp" 
        /> 
 
    <EditText 
        android:id="@+id/editTextImie" 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:hint="Wpisz swoje imie" 
        android:layout_toRightOf="@+id/textViewImie" 
        android:layout_alignBaseline="@+id/textViewImie" 
        android:layout_marginRight="20dp" 
        android:textSize="22dp" 
        android:background="#A3B7C8" 
        /> 
 
    <Button 
        android:id="@+id/buttonKliknijMnie" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:backgroundTint="#4276D0" 
        android:textColor="#FFEB3B" 
        android:textSize="22dp" 
        android:layout_below="@+id/textViewImie" 
        android:layout_margin="20dp" 
        android:layout_centerHorizontal="true" 
        android:text="Kliknij mnie"/> 
 
</RelativeLayout> 
 
 
Definicja koloru w pliku colors.xml znajdujÄ…cego siÄ™ z zasobach res->values: 
  <color name="kolorPrzycisku">#d9d919</color> 
 
UÅ¼ycie koloru podczas definicji obiektu (np. przycisku) w pliku widoku (XML)  np. gra_layput.xml 
  android:background="@color/kolorPrzycisku" 
 
Definicja tekst w pliku strings.xml znajdujÄ…cego siÄ™ z zasobach res->values: 
 <string name="etykieta_przycisku_OK">OK</string> 
 
 
Oraz uÅ¼ycie tekst podczas definicji obiektu (np. przycisku) w pliku widoku (XML)  np. 
gra_layput.xml 
 android:text="@string/etykieta_przycisku_OK" 
 
 
 
 
4. Zadania  
 
Zadanie 1. 
Zaprojektuj widok aplikacji opierajÄ…c siÄ™ na obiekcie XML o nazwie RelativeLayout. Napisz program 
realizujÄ…cy funkcje prostego kalkulatora, jak na zdjÄ™ciu poniÅ¼ej. Wynik powinien byÄ‡ obliczony i 
wyÅ›wietlony w niebieskim polu tekstowym natychmiast po wciÅ›niÄ™ciu jednego w dolnych 
przyciskÃ³w + - * /.  
Wszystkie uÅ¼yte w kodzie teksty oraz kolory umieÅ›Ä‡ w odpowiednich plikach zasobÃ³w. Do obsÅ‚ugi 
przyciskÃ³w uÅ¼yj mechanizmu ViewBinding.  
 
 
 
Zadanie 2. 
Napis aplikacjÄ™ wedÅ‚ug wÅ‚asnego pomysÅ‚u wykorzystujÄ…cÄ… siatkÄ™ RalativLayout. UÅ¼yj w aplikacji 
przyciski, pola tekstowe, pola edycji tekstu.  
 

 

--- END OF am2.pdf ---

--- START OF am3.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  3 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: Interfejs uÅ¼ytkownika â€“ LinearLayout, motywy, 
jednostki, context, komponenty CheckBox oraz RadioButton 
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
1. TreÅ›ci: 
Motywy â€“ uÅ¼ycie oraz modyfikacja. Tworzenie nowego widoku z siatkÄ… LinearLayout. Podstawowe 
parametry layout-u. Przypisywanie nowego widoku do aktywnoÅ›ci.  
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci tworzenia interfejsu uÅ¼ytkownika w siatce 
LinearLayout. UÅ¼ywanie i zmiana motywÃ³w domyÅ›lnych, zrozumienie jednostek miary, 
zrozumienie pojÄ™cia context oraz wykorzystania obiektÃ³w RadioButton  
 
3. MateriaÅ‚y dydaktyczne  
 
â€¢ Jednostki miary:  
 
px - piksele, najbardziej znana jednostka miary wyÅ›wietlaczy. Jednostka ta nie jest zalecana na 
urzÄ…dzenia mobilne, poniewaÅ¼ majÄ… one rÃ³Å¼ne rozdzielczoÅ›ci przy tej samej przekÄ…tnej ekranu.  
in â€“ cale, rÃ³wnieÅ¼ niezalecane. 
pt â€“ punkty, ten sam problem co z powyÅ¼szymi jednostkami  (pt to 1/72 czÄ™Å›Ä‡ cala). 
dp (dip) â€“ Density-independent Pixels - jednostka niezaleÅ¼na od gÄ™stoÅ›ci pikseli. Najbardziej 
abstrakcyjna jednostka, ktÃ³ra uniezaleÅ¼nia element layoutu od rozdzielczoÅ›ci oraz wielkoÅ›ci 
wyÅ›wietlacza. DziÄ™ki temu teÅ¼ jest to najbardziej polecana jednostka do projektowania 
wyglÄ…du aplikacji mobilnych. Jednostka ta bazuje na wyÅ›wietlaczu 160dpi (160punktÃ³w na 
cal). DziÄ™ki temu 1dp jest odpowiednikiem 1 piksela przy gÄ™stoÅ›ci 160dpi. OczywiÅ›cie stosunek 
piksel-dp jest zmieniany wraz ze zmianÄ… gÄ™stoÅ›ci wyÅ›wietlacza. 
sp - Scale-independent Pixels. Jednostka o dziaÅ‚aniu podobnym do dp, z tÄ… rÃ³Å¼nicÄ…, Å¼e podczas 
skalowania pod uwagÄ™ brane sÄ… rÃ³wnieÅ¼ ustawienia uÅ¼ytkownika. DokÅ‚adnie, jednostka ta jest 
zaleÅ¼na od wartoÅ›ci Settings.System.FONT_SCALE. Dlatego teÅ¼ sp powinniÅ›my stosowaÄ‡ do 
definiowania wielkoÅ›ci czcionek oraz wszystkich wymiarÃ³w z nimi zwiÄ…zanych. 
 

  
 Rysunek przedstawia proporcje wielkoÅ›ci jednostki od gÄ™stoÅ›ci ekranu 
  
â€¢ Chmurka - Toast:  
 
Toast â€“ â€chmurkaâ€ wyÅ›wietlajÄ…ca niewielkÄ… porcjÄ™ informacji.  
 
String text = "PrzykÅ‚adowy tekst komunikatu"; 
Toast toast = Toast.makeText(getApplicationContext(), text, 
Toast.LENGTH_SHORT); 
toast.show(); 
 
Toast.makeText(getApplicationContext(), text, Toast.LENGTH_SHORT).show();  
// wywoÅ‚anie bez tworzenia obiektu 
 
 
â€¢ Context 
 
W duÅ¼ym skrÃ³cie: 
Context to obiekt, ktÃ³ry daje dostÄ™p do zasobÃ³w i Å›rodowiska aplikacji. 
MoÅ¼esz o nim myÅ›leÄ‡ jako o â€uchwycieâ€ (handle) do wszystkiego, co zwiÄ…zane z aplikacjÄ… â€” 
systemem Android, plikami, zasobami (strings.xml, colors.xml), bazami danych, itp. 
 
Context umoÅ¼liwia: 
â€¢ dostÄ™p do zasobÃ³w (getResources(), getString(), getColor()) 
â€¢ uruchamianie nowych aktywnoÅ›ci (startActivity()) 
â€¢ tworzenie widokÃ³w (new Button(context)) 
â€¢ pobieranie usÅ‚ug systemowych (getSystemService()) 
â€¢ otwieranie plikÃ³w, baz danych, preferencji (getSharedPreferences()) 
 

 
 
Tutaj this oznacza Context â€” w tym przypadku aktywnoÅ›Ä‡ (Activity). 
Metoda makeText() potrzebuje Context, Å¼eby wiedzieÄ‡, w jakiej aplikacji i na jakim ekranie 
wyÅ›wietliÄ‡ komunikat. 
 
Typ Contextu Gdzie uÅ¼ywany Co oznacza 
Activity context (this lub MainActivity.this) wewnÄ…trz aktywnoÅ›ci Odnosi siÄ™ do konkretnego ekranu (aktywnoÅ›ci) 
Application context (getApplicationContext()) w caÅ‚ej aplikacji Globalny kontekst aplikacji (nie zaleÅ¼y od aktywnoÅ›ci) 
Service context wewnÄ…trz usÅ‚ugi (Service) Kontekst komponentu dziaÅ‚ajÄ…cego w tle 
 
RÃ³Å¼nica miÄ™dzy this a getApplicationContext() 
 
 
 
â€¢ this â†’ kontekst bieÅ¼Ä…cej Activity 
â€¢ getApplicationContext() â†’ kontekst caÅ‚ej aplikacji 
 
RÃ³Å¼nica: 
â€¢ this jest zwiÄ…zany z ekranem (uÅ¼ywaj do UI) 
â€¢ getApplicationContext() jest globalny (uÅ¼ywaj w logice, usÅ‚ugach, itp.) 
â€¢ Nigdy nie trzymaj referencji do Activity context poza jej Å¼yciem (bo moÅ¼e spowodowaÄ‡ 
wyciek pamiÄ™ci) 
 
UÅ¼ycie getApplicationContext() jest konieczne i preferowane, gdy musisz uÅ¼yÄ‡ kontekstu poza 
cyklem Å¼ycia AktywnoÅ›ci i nie chcesz, aby TwÃ³j kod utrzymywaÅ‚ jej referencjÄ™ (aby uniknÄ…Ä‡ 
wyciekÃ³w pamiÄ™ci). Dotyczy to sytuacji, gdy: 
â€¢ UÅ¼ywasz kontekstu w klasie Singleton1  lub innym komponencie o dÅ‚ugim cyklu Å¼ycia. 
â€¢ JesteÅ› w usÅ‚udze (Service) lub odbiorniku rozgÅ‚oszeÅ„ (BroadcastReceiver). 
â€¢ Potrzebujesz dostÄ™pu do zasobÃ³w (np. plikÃ³w, bazy danych) w sposÃ³b niezaleÅ¼ny od tego, 
czy jakaÅ› AktywnoÅ›Ä‡ jest aktualnie widoczna. 
 
1Singleton jest jednym z najpopularniejszych wzorcÃ³w projektowych (ang. Design Patterns), 
naleÅ¼Ä…cym do kategorii wzorcÃ³w kreacyjnych. Jego podstawowym celem jest zagwarantowanie, Å¼e 
dana klasa ma tylko jednÄ… instancjÄ™ (jeden obiekt) w caÅ‚ej aplikacji i zapewnienie globalnego 
punktu dostÄ™pu do tej instancji. 
  
 
â€¢ Motywy 
 
Motyw (theme) to zestaw ustawieÅ„ wizualnych, ktÃ³re definiujÄ… jak wyglÄ…da caÅ‚a aplikacja lub jej 
poszczegÃ³lne elementy (np. kolory, czcionki, tÅ‚a, style przyciskÃ³w, pÃ³l tekstowych itd.). 
MoÅ¼na powiedzieÄ‡, Å¼e motyw to "ubranie" aplikacji â€“ decyduje o jej stylu graficznym. 
Motyw ustala np.: 
 

 
Co definiuje motyw PrzykÅ‚ad 
Kolor tÅ‚a aplikacji colorBackground 
Kolor gÅ‚Ã³wny (akcentowy) colorPrimary 
Kolor przyciskÃ³w colorPrimaryContainer, colorButtonNormal 
Kolor tekstu colorOnPrimary, android:textColor 
Czcionki fontFamily, textAppearance 
Styl okien i paskÃ³w windowActionBar, statusBarColor 
Zachowanie w trybie dzieÅ„/noc Theme.Material3.DayNight 
 
KaÅ¼da aplikacja Android ma przypisany gÅ‚Ã³wny motyw, zwykle w pliku: 
 
 
 
 
 
â€¢ name="Theme.MyApplication" â€” nazwa Twojego motywu, 
â€¢ parent="Theme.Material3.DayNight.NoActionBar" â€” motyw bazowy (czyli styl z biblioteki 
Google Material Design), 
â€¢ wewnÄ…trz <item> ustawiasz konkretne kolory, czcionki i inne cechy. 
 
Motyw dzienny i nocny (DayNight) 
Android pozwala tworzyÄ‡ dwa warianty motywu: 
â€¢ jasny motyw â†’ w res/values/themes.xml 
â€¢ ciemny motyw â†’ w res/values-night/themes.xml 
System automatycznie wybiera odpowiedni zestaw kolorÃ³w w zaleÅ¼noÅ›ci od trybu urzÄ…dzenia 
(dzieÅ„/noc). 
PrzykÅ‚ad: 
 
res/values/themes.xml (jasny) 
 
 
 

res/values-night/themes.xml (ciemny) 
 
 
 
 
â€¢ Szablon rozmieszczenia obiektÃ³w - LinearLayout  
 
LinearLayout to jeden z podstawowych ukÅ‚adÃ³w (layoutÃ³w) w Androidzie. 
UmoÅ¼liwia ustawianie elementÃ³w jeden za drugim â€” w pionie lub poziomie. 
 
 NajwaÅ¼niejsze cechy: 
â€¢ Atrybut android:orientation decyduje o kierunku: 
o vertical â€“ elementy jeden pod drugim 
o horizontal â€“ elementy obok siebie 
â€¢ KaÅ¼dy element moÅ¼e mieÄ‡ wÅ‚asne layout_weight, Å¼eby okreÅ›liÄ‡, jak dzieli przestrzeÅ„. 
 
 
Atrybut Opis 
android:padding Ustawia margines wewnÄ™trzny elementu â€” odstÄ™p miÄ™dzy krawÄ™dziÄ… a jego zawartoÅ›ciÄ…. 
android:gravity OkreÅ›la wyrÃ³wnanie zawartoÅ›ci wewnÄ…trz elementu (np. tekstu w TextView). 
android:layout_gravity="center" OkreÅ›la pozycjÄ™ elementu wzglÄ™dem rodzica (np. wyÅ›rodkowanie przycisku w ukÅ‚adzie). 
android:orientation="vertical" Ustawia ukÅ‚ad pionowy elementÃ³w w LinearLayout â€” jeden pod drugim. 
android:orientation="horizontal" Ustawia ukÅ‚ad poziomy elementÃ³w w LinearLayout â€” obok siebie. 
android:layout_weight OkreÅ›la proporcjÄ™ zajmowanego miejsca przez element w LinearLayout (np. dwa przyciski z wagÄ… â€1â€ zajmÄ… po 50%). 
wrap_content Element dopasowuje rozmiar do swojej zawartoÅ›ci (np. dÅ‚ugoÅ›ci tekstu). 
match_parent Element zajmuje caÅ‚Ä… dostÄ™pnÄ… przestrzeÅ„ rodzica (100% szerokoÅ›ci lub wysokoÅ›ci). 
  
 
PrzykÅ‚ad wykorzystania siatki LinearLayout: 
W przykÅ‚adnie wykorzystano jeden gÅ‚Ã³wny LinearLayout w orientacji pionowej (vertical) oraz trzy 
LinearLayouty w orientacji poziomej (horizontal). 
W pierwszym wstawiono przyciski 1,2,3 gdzie ich szerokoÅ›Ä‡ okreÅ›lona jest przez wagÄ™ 
layout_weight. 
Przycisk nr 4 umieszczono jako osobny obiekt naleÅ¼Ä…cy do gÅ‚Ã³wnej siatki z szerokoÅ›ciÄ… ustawionÄ… 
jako match_parent (rozciÄ…gniÄ™ty do szerokoÅ›ci rodzica, czyli gÅ‚Ã³wnej siatki LinearLayout). 
Przyciski 5,6,7 rozmieszczono w osobnym LinearLayout z orientacjÄ… poziomÄ… (horizontal) z 
szerokoÅ›ciÄ… wrap_content (zawartoÅ›Ä‡ obiektu), wyrÃ³wnane jako zawartoÅ›Ä‡ LinearLayoutu do 
Å›rodka (android:gravity="center"). 
 Przyciski 8,9 to przykÅ‚ad orientacji poziomej, gdzie pierwszy ma szerokoÅ›Ä‡ wrap_content, a drugi 
match_parent. 
Ostatni przykÅ‚ad przycisku nr 10 pokazuje wyrÃ³wnanie obiektu szerokoÅ›ci wrap_content jako 
caÅ‚oÅ›ci do Å›rodka obiektu â€matkiâ€ (android:layout_gravity="center"). 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 

    android:orientation="vertical" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:gravity="center"> 
 
    <LinearLayout 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:orientation="horizontal"> 
        <Button 
            android:layout_width="0dp" 
            android:layout_height="wrap_content" 
            android:text="1" 
            android:layout_weight="1"/> 
        <Button 
            android:layout_width="0dp" 
            android:layout_height="wrap_content" 
            android:text="2" 
            android:layout_weight="2"/> 
        <Button 
            android:layout_width="0dp" 
            android:layout_height="wrap_content" 
            android:text="3" 
            android:layout_weight="1"/> 
    </LinearLayout> 
 
    <Button 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:text="4" 
        /> 
    <LinearLayout 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:orientation="horizontal" 
        android:gravity="center"> 
        <Button 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="5" 
            /> 
        <Button 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="6" 
            /> 
        <Button 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="7" 
            /> 
    </LinearLayout> 
 
    <LinearLayout 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:orientation="horizontal" 
        android:gravity="center"> 
        <Button 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="8" 
            /> 
 
        <Button 
            android:layout_width="match_parent" 
            android:layout_height="wrap_content" 
            android:text="9" 
            /> 
    </LinearLayout> 
 
    <Button 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="10" 
        android:layout_gravity="center"/> 
 
</LinearLayout> 
 
 
 
 
â€¢ ObsÅ‚uga zdarzenia zwiÄ…zane z obiektem RadioButton  
 
 activity_main.xml 
 

 
 
 
<RadioGroup 
    android:layout_width="match_parent" 
    android:layout_height="wrap_content" 
    android:orientation="vertical"> 
 
<RadioButton 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:text="Czerwony" 
    android:onClick="actionRed"/> 
<RadioButton 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:onClick="actionGreen" 
    android:text="zielony"/> 
</RadioGroup> 
 
MainActivity.java 
 
public class MainActivity extends AppCompatActivity { 
    LinearLayout linearLayout; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
        linearLayout = (LinearLayout)findViewById(R.id.linearLayoutGeneral); 
    } 
 
    public void actionRed(View view) { 
        linearLayout.setBackgroundColor(Color.RED); 
    } 
 
    public void actionGreen(View view) { 
        linearLayout.setBackgroundColor(Color.GREEN); 
    } 
} 
 
PrzykÅ‚ad 2 
activity_main.xml 
 
<RadioGroup 
    android:id="@+id/radioGroup" 
    android:layout_width="match_parent" 
    android:layout_height="wrap_content" 
    android:orientation="vertical"> 
 
    <RadioButton 
        android:id="@+id/radio_czerwony" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 

        android:text="Czerwony"/> 
 
    <RadioButton 
        android:id="@+id/radio_zielony" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Zielony"/> 
</RadioGroup> 
 
MainActivity.java 
 
binding.radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() { 
    @Override 
    public void onCheckedChanged(@NonNull RadioGroup radioGroup, int i) { 
 
        if (i == R.id.radio_czerwony) { 
            Toast.makeText(MainActivity.this, "Wybrano: Czerwony", Toast.LENGTH_SHORT).show(); 
        } else if (i == R.id.radio_zielony) { 
            Toast.makeText(MainActivity.this, "Wybrano: Zielony", Toast.LENGTH_SHORT).show(); 
        } 
    } 
}); 
 
 
ObsÅ‚ugÄ™ zdarzeÅ„ moÅ¼na rÃ³wieÅ¼ zrobiÄ‡ poprzez implementacjÄ™ interfejsu 
RadioGroup.OnCheckedChangeListener(); 
 
public class MainActivity extends AppCompatActivity implements 
RadioGroup.OnCheckedChangeListener{ 
    ActivityMainBinding binding; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
 
        binding = ActivityMainBinding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
        binding.radioGroup.setOnCheckedChangeListener(this); 
    } 
 
    @Override 
    public void onCheckedChanged(@NonNull RadioGroup radioGroup, int i) { 
        if (i == R.id.radio_czerwony) { 
            Toast.makeText(MainActivity.this, "Wybrano: Czerwony", Toast.LENGTH_SHORT).show(); 
        } else if (i == R.id.radio_zielony) { 
            Toast.makeText(MainActivity.this, "Wybrano: Zielony", Toast.LENGTH_SHORT).show(); 
        } 
    } 
} 
 
 
CzÄ™sty bÅ‚Ä…d podczas uÅ¼ywania instrukcji switch z identyfikatorami zasobÃ³w (resource IDs) w 
Androidzie. BÅ‚Ä…d constant expression required pojawia siÄ™, poniewaÅ¼ wartoÅ›ci w case muszÄ… byÄ‡ 
staÅ‚ymi znanymi w czasie kompilacji, a identyfikatory zasobÃ³w, takie jak R.id.radio_czerwony, nie 
sÄ… uznawane za takie w kontekÅ›cie bloku switch w bibliotekach, ktÃ³re nie sÄ… finalne. Aby to 
naprawiÄ‡, powinieneÅ› zastÄ…piÄ‡ instrukcjÄ™ switch seriÄ… instrukcji if-else if-else. 
 
switch (i) { 
    case R.id.radio_czerwony -> 
            Toast.makeText(MainActivity.this, "Wybrano: Czerwony", Toast.LENGTH_SHORT).show(); 
 
    case R.id.radio_zielony -> 
            Toast.makeText(MainActivity.this, "Wybrano: Zielony", Toast.LENGTH_SHORT).show(); 
 
    default -> 
            Toast.makeText(MainActivity.this, "Nie wybrano nic", Toast.LENGTH_SHORT).show(); 
} 
 
 
â€¢ Pobranie stanu z obiektu Radiobutton 
 
 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:orientation="vertical" 
    android:layout_height="match_parent" 
    android:background="#673AB7" 
    android:padding="40dp" 
    tools:context=".MainActivity"> 
 
    <RadioGroup 
        android:id="@+id/radioGroup" 
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" 
        android:orientation="vertical"> 
 
        <RadioButton 
            android:id="@+id/radio_czerwony" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 

            android:text="Czerwony"/> 
 
        <RadioButton 
            android:id="@+id/radio_zielony" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Zielony"/> 
    </RadioGroup> 
 
    <Button 
        android:id="@+id/button" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Sprawdz kolor" 
        /> 
 
</LinearLayout> 
 
 
binding.button.setOnClickListener(new View.OnClickListener() { 
    @Override 
    public void onClick(View view) { 
        if (binding.radioGroup.getCheckedRadioButtonId() == R.id.radio_czerwony) { 
            Toast.makeText(MainActivity.this, "Kolor czerwony", Toast.LENGTH_SHORT).show(); 
        }else if (binding.radioGroup.getCheckedRadioButtonId() == R.id.radio_zielony){ 
            Toast.makeText(MainActivity.this, "Kolor zielony", Toast.LENGTH_SHORT).show(); 
        }else { 
            Toast.makeText(MainActivity.this, "Nie wybrano koloru", Toast.LENGTH_SHORT).show(); 
        } 
    } 
}); 
 
lub  
 
setContentView(binding.getRoot()); 
 
binding.button.setOnClickListener(new View.OnClickListener() { 
    @Override 
    public void onClick(View view) { 
        if (binding.radioCzerwony.isChecked()){ 
            Toast.makeText(MainActivity.this, "Czerwony", Toast.LENGTH_SHORT).show(); 
        }else if (binding.radioZielony.isChecked()){ 
            Toast.makeText(MainActivity.this, "Zielony", Toast.LENGTH_SHORT).show(); 
        }else { 
            Toast.makeText(MainActivity.this, "Nie wybrano koloru", Toast.LENGTH_SHORT).show(); 
        } 
    } 
}); 
 
â€¢ Pobranie stanu z obiektu CheckBox 
 
 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:orientation="vertical" 
    android:layout_height="match_parent" 
    android:background="#673AB7" 
    android:padding="40dp" 
    tools:context=".MainActivity"> 
 
        <CheckBox 
            android:id="@+id/checkbox_czerwony" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Czerwony"/> 
 
        <CheckBox 
            android:id="@+id/checkbox_zielony" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:text="Zielony"/> 
 
    <Button 
        android:id="@+id/button" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Sprawdz kolor" 
        /> 
 
</LinearLayout> 
 
 
binding.button.setOnClickListener(new View.OnClickListener() { 
    @Override 
    public void onClick(View view) { 
        String message=""; 
        if (binding.checkboxCzerwony.isChecked()){ 

            message+=binding.checkboxCzerwony.getText().toString(); 
        } 
        if (binding.checkboxZielony.isChecked()) { 
            message+=binding.checkboxZielony.getText().toString(); 
        } 
        if (message.equals("")) 
            message="nie wybrano Å¼adnego koloru"; 
        Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT).show(); 
    } 
}); 
 
Do obsÅ‚ugi zdarzenia zwiÄ…zanego z wyborem opcji checkBox moÅ¼na uÅ¼yÄ‡ interfejsu jak w przypadku obiektu 
RadioBatton CompoundButton.OnCheckedChangeListener  
 
 
--------------------------------------------------------------------------------------------------------------------- 
4. Zadania  
 
Zadanie 1. 
UtwÃ³rz interfejs uÅ¼ytkownika uÅ¼ywajÄ…c siatki rozmieszczenia obiektÃ³w LinearLayout, jak na rysunku obok. 
Widok utwÃ³rz w kodzie XML. Po naciÅ›niÄ™ciu przycisku w chmurce (obiekt Toast) powinny pojawiÄ‡ siÄ™ 
wszystkie informacje zapisane w polach tekstowych oraz obiekcie RadioButton.  
 
 
 
Zadanie 2. 
Zmodyfikuj kod programu z przykÅ‚adu z instrukcji powyÅ¼ej zmieniajÄ…c jego gÅ‚Ã³wny motyw:  
- motyw dzienny: kolor przyciskÃ³w granatowy, kolor tekstu czerwony i kolor tÅ‚a Å¼Ã³Å‚ty. 
- motyw nocny:  kolor przyciskÃ³w zielony, kolor tÅ‚a granatowy, kolor tekstu czarny. 
 

     
 
Zadanie 3. 
Napisz program, w ktÃ³rym uÅ‚Ã³Å¼ komponenty widoku, jak na zdjÄ™ciu poniÅ¼ej.  
Po naciÅ›niÄ™ciu przycisku generowany jest kolor pobrany wg opcji wyboru z chcekBox-Ã³w. Pomocna moÅ¼e 
okazaÄ‡ siÄ™ konstrukcja: 
  
String kolor="#"+sCzerwony+sZielony+sniebieski; 
binding.main.setBackgroundColor(Color.parseColor(kolor)); 
 
Kolory dostÄ™pne w obiektach RadioButton ustawiajÄ… kolor tekstu â€KOLORâ€ bezpoÅ›rednio po wybraniu 
jednej z dostÄ™pnych opcji koloru.  
 

   
 
 
 


--- END OF am3.pdf ---

--- START OF am4.pdf ---
 
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  4 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: intencje jawienie zdefiniowane     
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
 
1. TreÅ›ci programowe:  
Tworzenie nowych aktywnoÅ›ci. Intencje. Przekazywanie wartoÅ›ci przez intencje. Intencje 
wywoÅ‚ujÄ…ce aktywnoÅ›ci w sposÃ³b jawny i niejawny.   
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci uruchamiania nowych aktywnoÅ›ci poprzez Intencje oraz 
przekazywanie danych pomiÄ™dzy aktywnoÅ›ciami rÃ³wnieÅ¼ przez Intencje.  
 
3. MateriaÅ‚y dydaktyczne  
 
Intencje sÄ… jednym z podstawowych komponentÃ³w aplikacji w systemie Android. Intencje 
odpowiadajÄ… przede wszystkim za obsÅ‚ugÄ™ rozkazÃ³w wydawanych przez uÅ¼ytkownika np.: â€zrÃ³b 
zdjÄ™cieâ€, zadzwoÅ„ do â€¦â€, â€uruchom oknoâ€. NajwaÅ¼niejszym zadaniem Intencji jest uruchamianie 
odpowiednich AktywnoÅ›ci.  
Intencje moÅ¼emy uÅ¼ywaÄ‡ do uruchamiania innych aktywnoÅ›ci w sposÃ³b jawny oraz niejawny.  
W tej instrukcji opisany zostanie jawny sposÃ³b wywoÅ‚ywania aktywnoÅ›ci. AktywnoÅ›ci wywoÅ‚ywane 
niejawnie opisane zostanÄ… w nastÄ™pnej instrukcji.  
 
âœ“ Jawne definiowanie AktywnoÅ›ci  
Jawne definiowanie aktywnoÅ›ci to takie gdzie tworzÄ…c nowÄ… Intencje podajemy dokÅ‚adny typ 
(KlasÄ™) uruchamianej AktywnoÅ›ci. Klasa ta musi znajdowaÄ‡ siÄ™ w tym samym projekcie co 
aktywnoÅ›Ä‡ wywoÅ‚ujÄ…ca. Np.:   
 
Intent intent = new Intent(MainActivity.this, SecondActivity.class); 
startActivity(intent); 
 
Przekazywanie danych miÄ™dzy aktywnoÅ›ciami 
MoÅ¼esz przekazywaÄ‡ dane dodajÄ…c je do intencjci za pomocÄ… metody putExtra(): 
WysyÅ‚anie danych: 
Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
// Przekazywanie danych rÃ³Å¼nych typÃ³w 
intent.putExtra("KEY_STRING", "PrzykÅ‚adowy tekst"); 
intent.putExtra("KEY_INT", 123); 

intent.putExtra("KEY_BOOLEAN", true); 
intent.putExtra("KEY_FLOAT", 3.14f); 
intent.putExtra("KEY_LONG", 9876543210L); 
 
// JeÅ›li masz wÅ‚asny obiekt implementujÄ…cy Serializable  
MyObject myObject = new MyObject("Jan", 25); 
intent.putExtra("KEY_OBJECT", myObject); 
 
// JeÅ›li masz obiekt implementujÄ…cy Parcelable (np. klasy Androidowe) 
MyParcelableObject parcelableObject = new MyParcelableObject("Dane"); 
intent.putExtra("KEY_PARCELABLE", parcelableObject); 
 
// Uruchomienie drugiej aktywnoÅ›ci 
startActivity(intent); 
Odbieranie danych w drugiej aktywnoÅ›ci: 
String user = getIntent().getStringExtra("username"); 
//onCreate  
    Intent intent = getIntent(); 
 
    String stringValue = intent.getStringExtra("KEY_STRING"); 
    int intValue = intent.getIntExtra("KEY_INT", 0); 
    boolean boolValue = intent.getBooleanExtra("KEY_BOOLEAN", false); 
    float floatValue = intent.getFloatExtra("KEY_FLOAT", 0f); 
    long longValue = intent.getLongExtra("KEY_LONG", 0L); 
 
    // Dla Serializable 
    MyObject myObject = (MyObject) intent.getSerializableExtra("KEY_OBJECT"); 
 
    // Dla Parcelable (opisane poniÅ¼ej)  
    MyParcelableObject parcelableObject = intent.getParcelableExtra("KEY_PARCELABLE"); 
----------------------------------------------------------------------------------------------------------------------- 
PrzykÅ‚ad 1 
Aplikacja przekazujÄ…ca wartoÅ›Ä‡ z aktywnoÅ›ci pierwszej do drugiej bez odpowiedzi aktywnoÅ›ci 
drugiej.  
 
AktywnoÅ›Ä‡ pierwsza  
 
 
 
activity_main.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<androidx.constraintlayout.widget.ConstraintLayout 
xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:background="@android:color/holo_orange_light" 
    tools:context=".MainActivity"> 
 
    <Button 
        android:id="@+id/button" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="PrzeÅ›lij dane do drugiej aktywnoÅ›ci" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintHorizontal_bias="0.498" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        app:layout_constraintVertical_bias="0.623" /> 
 
    <TextView 
        android:id="@+id/textView" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:text="Aktywnosc pierwsza " 
        android:textAlignment="center" 
        android:textSize="34sp" 
        app:layout_constraintBottom_toTopOf="@+id/editTextText" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        app:layout_constraintVertical_bias="0.66" /> 

 
    <EditText 
        android:id="@+id/editTextText" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:layout_marginStart="16dp" 
        android:layout_marginEnd="16dp" 
        android:layout_marginBottom="112dp" 
        android:ems="10" 
        android:hint="Wprowadz tekst do wysÅ‚ania" 
        android:inputType="text" 
        app:layout_constraintBottom_toTopOf="@+id/button" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toStartOf="parent" /> 
</androidx.constraintlayout.widget.ConstraintLayout> 
 
MainActivity.java 
 
package com.example.dwie_aktywnosci; 
import android.content.Intent; 
import android.os.Bundle; 
import android.view.View; 
import android.widget.Toast; 
import androidx.appcompat.app.AppCompatActivity; 
 
import com.example.dwie_aktywnosci.databinding.ActivityMainBinding; 
 
public class MainActivity extends AppCompatActivity { 
    private  ActivityMainBinding binding; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding = ActivityMainBinding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        binding.button.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View view) { 
                String wiadomosc = binding.editTextText.getText().toString().trim(); 
 
                if (!wiadomosc.isEmpty()) { 
                    Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
                    intent.putExtra("KEY_WIADOMOSC", wiadomosc); 
                    startActivity(intent); 
                } else { 
                    Toast.makeText(MainActivity.this, "Wpisz wiadomoÅ›Ä‡!", Toast.LENGTH_SHORT).show(); 
                } 
            } 
        }); 
    } 
} 
AktywnoÅ›Ä‡ druga  
 
AktywnoÅ›Ä‡ druga  
 
 
 
activity_main2.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<androidx.constraintlayout.widget.ConstraintLayout 
xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:background="@color/design_default_color_secondary" 
    tools:context=".MainActivity2"> 
 
    <Button 
        android:id="@+id/button" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="ZwrÃ³Ä‡ dane do pierszej aktywnoÅ›ci" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintHorizontal_bias="0.498" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        app:layout_constraintVertical_bias="0.623" /> 
 
    <TextView 
        android:id="@+id/textView" 
        android:layout_width="0dp" 

        android:layout_height="wrap_content" 
        android:text="Aktywnosc druga" 
        android:textAlignment="center" 
        android:textSize="34sp" 
        app:layout_constraintBottom_toTopOf="@+id/editTextText" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        app:layout_constraintVertical_bias="0.66" /> 
 
    <EditText 
        android:id="@+id/editTextText" 
        android:layout_width="0dp" 
        android:layout_height="wrap_content" 
        android:layout_marginStart="16dp" 
        android:layout_marginEnd="16dp" 
        android:layout_marginBottom="112dp" 
        android:ems="10" 
        android:hint="Wprowadz tekst do wysÅ‚ania" 
        android:inputType="text" 
        app:layout_constraintBottom_toTopOf="@+id/button" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toStartOf="parent" /> 
</androidx.constraintlayout.widget.ConstraintLayout> 
 
 
MainActivity2.java 
 
package com.example.dwie_aktywnosci; 
import android.content.Intent; 
import android.os.Bundle; 
import android.view.View; 
import androidx.appcompat.app.AppCompatActivity; 
import com.example.dwie_aktywnosci.databinding.ActivityMain2Binding; 
 
public class MainActivity2 extends AppCompatActivity { 
    private ActivityMain2Binding binding; 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding= ActivityMain2Binding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        //odbieranie danych z pierwszej aktywnoÅ›ci 
        Intent intent = getIntent(); 
 
        // Sprawdzenie, czy intent nie jest null i czy zawiera dane 
        if (intent != null && intent.hasExtra("KEY_WIADOMOSC")) { 
            String wiadomosc = intent.getStringExtra("KEY_WIADOMOSC"); 
 
            // Dodatkowe sprawdzenie na null 
            if (wiadomosc != null) { 
                binding.editTextText.setText(wiadomosc); 
            } else { 
                binding.editTextText.setText(""); // lub inny tekst domyÅ›lny 
            } 
        } 
 
        binding.button.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View view) { 
                finish(); 
            } 
        }); 
    } 
} 
 
 
----------------------------------------------------------------------------------------------------------------------- 
PrzykÅ‚ad 2 
Aplikacja przekazujÄ…ca wartoÅ›Ä‡ z aktywnoÅ›ci pierwszej do drugiej oraz zwracanie wartoÅ›ci z 
drugiej do pierwszej przy pomocy intencji 
 
MainActivity.java 
 
package com.example.dwie_aktywnosci; 
import android.app.Activity; 
import android.content.Intent; 
import android.os.Bundle; 
import androidx.activity.EdgeToEdge; 
import androidx.activity.result.ActivityResult; 
import androidx.activity.result.ActivityResultCallback; 
import androidx.activity.result.ActivityResultLauncher; 
import androidx.activity.result.contract.ActivityResultContracts; 
import androidx.appcompat.app.AppCompatActivity; 
import com.example.dwie_aktywnosci.databinding.ActivityMainBinding; 
 
public class MainActivity extends AppCompatActivity { 
    private  ActivityMainBinding binding; 
 
    // Rejestrujemy launcher do odbioru wyniku z innej aktywnoÅ›ci  
 
    private final ActivityResultLauncher<Intent> getResult = 
            registerForActivityResult( 
                    new ActivityResultContracts.StartActivityForResult(), 
                    new ActivityResultCallback<ActivityResult>() { 
                         
                        @Override 
                        public void onActivityResult(ActivityResult result) { 
                            if (result.getResultCode() == Activity.RESULT_OK) { 
                                Intent data = result.getData(); 
                                if (data != null) { 
                                    String returnedText = data.getStringExtra("RESULT_KEY"); 
                                    binding.editTextText.setText(returnedText); 
                                } 
                            } 
                        } 
                    }); 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding = ActivityMainBinding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        binding.button.setOnClickListener(v -> { 
            String text = binding.editTextText.getText().toString(); 
 
            Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
            intent.putExtra("KEY_DANE", text); 
            getResult.launch(intent); // Jawne uruchomienie drugiej aktywnoÅ›ci 
        }); 
    } 
} 
 
 
MainActivity2.java 
 
package com.example.dwie_aktywnosci; 
import android.app.Activity; 
import android.content.Intent; 
import android.os.Bundle; 
import android.view.View; 
import androidx.appcompat.app.AppCompatActivity; 
import com.example.dwie_aktywnosci.databinding.ActivityMain2Binding; 
 
public class MainActivity2 extends AppCompatActivity { 
    private ActivityMain2Binding binding; 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding= ActivityMain2Binding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        //odbieranie danych z pierwszej aktywnoÅ›ci 
        Intent intent= getIntent(); 
        String dane = intent.getStringExtra("KEY_DANE"); 
        binding.editTextText.setText(dane); 
         
        binding.button.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View view) { 
                String odpowiedz = binding.editTextText.getText().toString(); 
 
                Intent resultIntent = new Intent(); 
                //Wstawianie wartoÅ›ci do intencji wyniku 
                resultIntent.putExtra("RESULT_KEY", odpowiedz); 
 
                // Ustaw wynik i zakoÅ„cz aktywnoÅ›Ä‡ 
                setResult(Activity.RESULT_OK, resultIntent); 
                finish(); 
            } 
        }); 
    } 
} 
 
 
----------------------------------------------------------------------------------------------------------------------- 
âœ“ Interfejs Parcelable  
 
W Androidzie Parcelable to interfejs, ktÃ³ry pozwala na szybkie i efektywne przesyÅ‚anie obiektÃ³w 
miÄ™dzy komponentami aplikacji (np. miÄ™dzy Activity lub Fragment) za pomocÄ… IntentÃ³w lub 
Bundle. 
 
â€¢ Obiekt implementujÄ…cy Parcelable moÅ¼e byÄ‡ â€spakowanyâ€ w IntencjÄ™ i wysÅ‚any do innej 
aktywnoÅ›ci. 
â€¢ Android zamienia obiekt na specjalny strumieÅ„ bajtÃ³w i odtwarza go w miejscu 
docelowym. 
â€¢ Jest szybszy niÅ¼ Serializable, dlatego jest rekomendowany w Androidzie. 
 
PrzykÅ‚ad wykorzystania interfejsu Parcelable do przesyÅ‚ania danych w aktywnoÅ›ciach.  
 
package com.example.dwie_aktywnosci; 
 
import android.os.Parcel; // â€“ specjalny kontener Androida do zapisywania i odczytywania danych w 
postaci strumienia bajtÃ³w. 
import android.os.Parcelable; 
 
// Klasa Osoba implementujÄ…ca Parcelable â€“ pozwala przesyÅ‚aÄ‡ obiekty miÄ™dzy Activity lub 
Fragment 
public class Osoba implements Parcelable { 
    private String imie;  // Pole przechowujÄ…ce imiÄ™ osoby 
    private int wiek;     // Pole przechowujÄ…ce wiek osoby 
 
    // Konstruktor gÅ‚Ã³wny â€“ uÅ¼ywany do tworzenia nowego obiektu klasy Osoba 
    public Osoba(String imie, int wiek) { 
        this.imie = imie; 
        this.wiek = wiek; 
    } 
 
    // Konstruktor odczytujÄ…cy dane z Parcel 
    // Android uÅ¼ywa go przy odtwarzaniu obiektu z Intencji lub Bundle 
    protected Osoba(Parcel in) { 
        // KolejnoÅ›Ä‡ odczytu musi odpowiadaÄ‡ kolejnoÅ›ci zapisu w writeToParcel() 
        imie = in.readString(); 
        wiek = in.readInt(); 
    } 
 
    // Metoda writeToParcel â€“ pakowanie danych obiektu do Parcel 
    // Parcel to strumieÅ„ bajtÃ³w uÅ¼ywany do przesyÅ‚ania danych miÄ™dzy komponentami 
    @Override 
    public void writeToParcel(Parcel dest, int flags) { 
        dest.writeString(imie); // zapis imienia 
        dest.writeInt(wiek);    // zapis wieku 
    } 
 
    // Metoda describeContents 
    // Zwykle zwraca 0, chyba Å¼e obiekt zawiera FileDescriptor (rzadko uÅ¼ywane) 
    @Override 
    public int describeContents() { 
        return 0; 
    } 
 
    // CREATOR â€“ wymagany przez Androida do odtworzenia obiektu z Parcel 
    // Tworzy nowy obiekt Osoba z Parcel oraz tablice obiektÃ³w 
    public static final Creator<Osoba> CREATOR = new Creator<Osoba>() { 
        @Override 
        public Osoba createFromParcel(Parcel in) { 
            // WywoÅ‚uje konstruktor odczytujÄ…cy z Parcel 
            return new Osoba(in); 
        } 
 
        @Override 
        public Osoba[] newArray(int size) { 
            // Tworzy tablicÄ™ obiektÃ³w Osoba 
            return new Osoba[size]; 
        } 
    }; 
 
    // Gettery â€“ umoÅ¼liwiajÄ… odczyt danych z obiektu 
    public String getImie() { return imie; } 
    public int getWiek() { return wiek; } 
} 
 
WysyÅ‚anie danych w pierwszej aktywnoÅ›ci: 
Osoba osoba = new Osoba("Jan", 25); 
Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
intent.putExtra("KEY_OSOBA", osoba); 
startActivity(intent); 
 
Odbieranie obiektu klasy Osoba w drugiej aktywnoÅ›ci:  
//odbieranie danych z pierwszej aktywnoÅ›ci 
Intent intent = getIntent(); 
Osoba osoba = intent.getParcelableExtra("KEY_OSOBA"); 
String imie = osoba.getImie(); 
int wiek = osoba.getWiek(); 
 
WysyÅ‚anie duÅ¼ej iloÅ›ci obiektÃ³w  
// Tworzymy duÅ¼Ä… listÄ™ obiektÃ³w Osoba 
ArrayList<Osoba> listaOsob = new ArrayList<>(); 
for (int i = 1; i <= 100; i++) { 
    listaOsob.add(new Osoba("Osoba " + i, 20 + i)); 
} 
// Tworzymy Intent do drugiej aktywnoÅ›ci 
Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
 
// Przekazujemy listÄ™ OsÃ³b jako ParcelableArrayList 
intent.putParcelableArrayListExtra("KEY_LISTA_OSOB", listaOsob); 
 
startActivity(intent); 
 
Odbieranie duÅ¼ej iloÅ›ci obiektÃ³w:  
Intent intent = getIntent(); 
ArrayList<Osoba> listaOsob = intent.getParcelableArrayListExtra("KEY_LISTA_OSOB"); 
 
if (listaOsob != null && !listaOsob.isEmpty()) { 
    StringBuilder builder = new StringBuilder(); 
    for (Osoba o : listaOsob) { 
        builder.append(o.getImie()).append(" - ").append(o.getWiek()).append("\n"); 
    } 
    binding.textView.setText(builder.toString()); 
} else { 
    binding.textView.setText("Brak danych do wyÅ›wietlenia"); 
} 
 
putParcelableArrayListExtra jest specjalnie przystosowane do przesyÅ‚ania list Parcelable. 
 
Dla bardzo duÅ¼ych danych (setki lub tysiÄ…ce obiektÃ³w) lepiej rozwaÅ¼yÄ‡: 
â€¢ zapis w Room / SQLite, 
â€¢ uÅ¼ycie ViewModel lub Repository, 
â€¢ zamiast przesyÅ‚ania wszystkiego w Intencji, przesyÅ‚aÄ‡ np. tylko ID i pobieraÄ‡ dane z bazy. 
DziÄ™ki Parcelable przesyÅ‚anie 100-200 obiektÃ³w dziaÅ‚a pÅ‚ynnie, jest znacznie szybsze niÅ¼ 
Serializable. 
 
âœ“ StringBuilder 
 
StringBuilder w Javie to klasa sÅ‚uÅ¼Ä…ca do efektywnego tworzenia i modyfikowania Å‚aÅ„cuchÃ³w 
tekstowych. 
â€¢ Pozwala dodawaÄ‡ (append), wstawiaÄ‡ (insert), usuwaÄ‡ (delete) lub zamieniaÄ‡ (replace) 
tekst w jednym obiekcie. 
â€¢ Szybszy niÅ¼ konkatenacja StringÃ³w (+) w pÄ™tli, bo String w Javie jest niezmienny 
(immutable). 
â€¢ Po zakoÅ„czeniu modyfikacji moÅ¼na zamieniÄ‡ na zwykÅ‚y String: 
 
String wynik = stringBuilder.toString(); 
 
PrzykÅ‚ad uÅ¼ycia:  
StringBuilder builder = new StringBuilder(); 
builder.append("Jan"); 
builder.append(" "); 
builder.append("Kowalski"); 
builder.append(" ma "); 
builder.append(25); 
builder.append(" lat."); 
 
    String wynik = builder.toString(); 
System.out.println(wynik); // Jan Kowalski ma 25 lat. 
 
4. Zadania  
 
Zadanie 1. 
Napisz aplikacjÄ™ wg wÅ‚asnego pomysÅ‚u skÅ‚adajÄ…cÄ… siÄ™ z trzech aktywnoÅ›ci.  
â€¢ Pierwsza powinna umoÅ¼liwiÄ‡ uruchomienie drugiej przekazujÄ…c jej cztery wartoÅ›ci rÃ³Å¼nego typu 
pobrane z komponentÃ³w takich jak EditText, CheckBox oraz RadioButton.  
â€¢ W pierwszej aktywnoÅ›ci powinna znaleÅºÄ‡ siÄ™ rÃ³wnieÅ¼ metoda uruchamiajÄ…ca aktywnoÅ›Ä‡ trzeciÄ….  
 Aplikacja powinna umoÅ¼liwiÄ‡ przesyÅ‚anie co najmniej jednej wartoÅ›ci z pierwszej aktywnoÅ›ci do 
trzeciej oraz kilka z trzeciej do pierwszej.  
Przekazane wartoÅ›ci przedstaw w kontrolkach aktualnych aktywnoÅ›ci. 
 
Zadanie 2. 
Napisz aplikacjÄ™ przekazujÄ…ca dane z pierwszej aktywnoÅ›ci do drugiej. Dane powinny byÄ‡ reprezentowane 
przez klasÄ™ Punkt, w ktÃ³rej wystÄ™pujÄ… takie skÅ‚adowe jak zmienna x, y (int) oraz kolor (int), metodÄ™ 
zwracajÄ…cÄ… ciÄ…g znakÃ³w w postaci np. â€x=100 y=200 kolor=112233â€. UtwÃ³rz 100 obiektÃ³w w aktywnoÅ›ci 
pierwszej oraz przeÅ›lij jÄ… do aktywnoÅ›ci drugiej. Wynik wyÅ›wietl w polu tekstowych TextView.  
 

--- END OF am4.pdf ---

--- START OF am5.pdf ---
 
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  5 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: intencje niejawienie zdefiniowane     
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
 
1. TreÅ›ci programowe:  
Tworzenie nowych aktywnoÅ›ci. Intencje. Przekazywanie wartoÅ›ci przez intencje. Intencje 
wywoÅ‚ujÄ…ce aktywnoÅ›ci w sposÃ³b jawny i niejawny.   
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci uruchamiania nowych aktywnoÅ›ci poprzez Intencje oraz 
przekazywanie danych pomiÄ™dzy aktywnoÅ›ciami rÃ³wnieÅ¼ przez Intencje.  
 
3. MateriaÅ‚y dydaktyczne  
 
Intencje sÄ… jednym z podstawowych komponentÃ³w aplikacji w systemie Android. Intencje 
odpowiadajÄ… przede wszystkim za obsÅ‚ugÄ™ rozkazÃ³w wydawanych przez uÅ¼ytkownika np.: â€zrÃ³b 
zdjÄ™cieâ€, zadzwoÅ„ do â€¦â€, â€uruchom oknoâ€. NajwaÅ¼niejszym zadaniem Intencji jest uruchamianie 
odpowiednich AktywnoÅ›ci.  
Intencje moÅ¼emy uÅ¼ywaÄ‡ do uruchamiania innych aktywnoÅ›ci w sposÃ³b jawny oraz niejawny.  
 
- Niejawne definiowanie AktywnoÅ›ci â€“ to takie, gdzie nie podajemy konkretnej nazwy klasy, tylko 
mÃ³wimy co chcemy zrobiÄ‡ i na jakich danych chcemy tÄ™ czynnoÅ›Ä‡ wykonaÄ‡. System sam dopasuje 
istniejÄ…cÄ… AktywnoÅ›Ä‡, ktÃ³rych w systemie moÅ¼e byÄ‡ wiÄ™cej niÅ¼ jedna. DokÅ‚adne sprecyzowanie, 
ktÃ³ra aktywnoÅ›Ä‡ bÄ™dzie najlepsza odbywa siÄ™ poprzez filtry (bÄ™dÄ… omawiane poniÅ¼ej). 
 
âœ“ Akcje â€“ ACTION 
 
Akcja systemowa to wbudowana akcja systemu Android, zdefiniowana przez Google. 
SÅ‚uÅ¼y do dzielenia siÄ™ danymi (np. tekstem, obrazem, plikiem) z innymi aplikacjami. 
 
ACTION w Androidzie to staÅ‚a w klasie Intent, ktÃ³ra okreÅ›la rodzaj operacji, jakÄ… chcesz wykonaÄ‡. 
â€¢ MÃ³wi systemowi â€co chcesz zrobiÄ‡â€ â€” np. wyÅ›wietliÄ‡ stronÄ™, edytowaÄ‡ kontakt, 
zadzwoniÄ‡, wysÅ‚aÄ‡ plik. 
â€¢ Jest zawsze czÄ™Å›ciÄ… Intentu, np. Intent.ACTION_VIEW, Intent.ACTION_EDIT, 
Intent.ACTION_DIAL. 
â€¢ Android uÅ¼ywa jej, Å¼eby wybraÄ‡ odpowiedniÄ… aplikacjÄ™ lub komponent, ktÃ³ry potrafi 
obsÅ‚uÅ¼yÄ‡ danÄ… akcjÄ™. 
 
Niejawna intencja zwykle zawiera: 
1. AkcjÄ™ (Action) â€” co ma byÄ‡ wykonane 

2. Dane (Data) â€” nad czym ma byÄ‡ wykonane 
3. (opcjonalnie) Typ danych (MIME type) â€” np. "image/png", "text/plain" 
 
NajczÄ™Å›ciej uÅ¼ywane akcje systemowe: 
Akcja Typ PrzykÅ‚ad 
ACTION_VIEW OtwÃ³rz dane / aplikacjÄ™ przeglÄ…darka, mapy, galeria 
ACTION_EDIT Edytuj dane kontakt, zdjÄ™cie 
ACTION_DIAL OtwÃ³rz dialer numer telefonu 
ACTION_CALL ZadzwoÅ„ (z pozwoleniem) numer telefonu 
ACTION_SEND UdostÄ™pnij dane tekst, obraz 
ACTION_PICK Wybierz dane kontakt, zdjÄ™cie 
ACTION_GET_CONTENT Wybierz plik z pamiÄ™ci galeria, dokumenty 
ACTION_INSERT Dodaj nowy element kontakt, wydarzenie 
ACTION_MAIN GÅ‚Ã³wna aktywnoÅ›Ä‡ aplikacji ekran startowy 
 
UruchamiajÄ…c aktywnoÅ›Ä‡ poprzez  intencje, jak w przykÅ‚adzie poniÅ¼ej Android pokaÅ¼e listÄ™ 
wszystkich aplikacji, ktÃ³re potrafiÄ… obsÅ‚uÅ¼yÄ‡ akcjÄ™ SEND z danym typem danych (text/plain): Gmail, 
Messenger, SMS, Bluetooth, WhatsApp, Notatki itp. 
 
Intent intent = new Intent(Intent.ACTION_SEND); 
intent.setType("text/plain"); 
intent.putExtra(Intent.EXTRA_TEXT, "CzeÅ›Ä‡, to wiadomoÅ›Ä‡!"); 
startActivity(Intent.createChooser(intent, "UdostÄ™pnij przez:")); 
 
-------------------------------------------------------------------------------------------------------------------- 
âœ“ MoÅ¼emy definiowaÄ‡ wÅ‚asne akcje (sposÃ³b deklaracji opisany poniÅ¼ej w 
czÄ™Å›ci filtrÃ³w): 
 
<action android:name="com.example.nazwaaplikacji.SHOW_NUMBER" />  
 
To Twoja wÅ‚asna akcja, zdefiniowana tylko w Twojej aplikacji. 
Nie jest znana systemowi Android ani innym aplikacjom, dopÃ³ki nie dodasz jej do swojego 
AndroidManifest.xml. 
NUMBER  niestandardowa akcja - dziaÅ‚a tylko miÄ™dzy aplikacjami, ktÃ³re Ty sam zaprojektujesz,  
sÅ‚uÅ¼y np. do komunikacji wewnÄ™trznej lub specyficznej integracji. 
 
Intent intent = new Intent("com.example.nazwaaplikacji.SHOW_NUMBER"); 
 
 
NajczÄ™Å›ciej uÅ¼ywane typy MIME 
Typ danych MIME type PrzykÅ‚ad uÅ¼ycia 
ZwykÅ‚y tekst "text/plain" wiadomoÅ›Ä‡, notatka, link 
Obraz "image/*" lub "image/jpeg" zdjÄ™cie z aparatu 
Wideo "video/*" film z galerii 
Audio "audio/*" plik MP3 
Typ danych MIME type PrzykÅ‚ad uÅ¼ycia 
Plik dowolny "*/*" pozwala uÅ¼ytkownikowi wybraÄ‡ dowolny 
typ 
PDF "application/pdf" dokument PDF 
HTML "text/html" zawartoÅ›Ä‡ stron WWW 
 
Metoda setType() ustawia MIME type, czyli tzw. typ zawartoÅ›ci (Content Type) â€” uÅ¼ywany przez 
Androida (i Internet ogÃ³lnie) do okreÅ›lenia rodzaju danych. 
 
PrzykÅ‚ad 1 â€” otwieranie strony WWW 
Intent intent = new Intent(Intent.ACTION_VIEW); 
intent.setData(Uri.parse("https://www.google.com")); 
startActivity(intent); 
 
Android znajdzie aplikacjÄ™ (np. Chrome, Firefox), ktÃ³ra potrafi â€wyÅ›wietliÄ‡â€ (ACTION_VIEW) adres 
URL. 
UÅ¼ytkownik moÅ¼e zostaÄ‡ zapytany, ktÃ³rÄ… aplikacjÄ… chce to otworzyÄ‡ (tzw. â€chooserâ€). 
 
PrzykÅ‚ad 2 â€” wykonanie poÅ‚Ä…czenia telefonicznego 
Intent intent = new Intent(Intent.ACTION_DIAL); 
intent.setData(Uri.parse("tel:123456789")); 
startActivity(intent); 
 
Otwiera aplikacjÄ™ telefonu z gotowym numerem, ale bez automatycznego dzwonienia (bez 
uprawnieÅ„ CALL_PHONE). 
 
PrzykÅ‚ad 3 â€” wysÅ‚anie e-maila 
Intent intent = new Intent(Intent.ACTION_SEND); 
intent.setType("message/rfc822"); // typ MIME dla e-maili 
intent.putExtra(Intent.EXTRA_EMAIL, new String[]{"kontakt@example.com"}); 
intent.putExtra(Intent.EXTRA_SUBJECT, "Temat wiadomoÅ›ci"); 
intent.putExtra(Intent.EXTRA_TEXT, "TreÅ›Ä‡ wiadomoÅ›ci..."); 
startActivity(Intent.createChooser(intent, "Wybierz aplikacjÄ™ e-mail")); 
Android wyÅ›wietli listÄ™ aplikacji obsÅ‚ugujÄ…cych e-maile (np. Gmail, Outlook). 
 
Metoda putExtra() sÅ‚uÅ¼y do doÅ‚Ä…czania dodatkowych danych (np. tekstu, liczb, adresÃ³w, obiektÃ³w) 
do obiektu Intent. 
DziaÅ‚a jak â€plecakâ€ z informacjami, ktÃ³re przenosisz miÄ™dzy ekranami (Activity) lub aplikacjami. 
 
Intent.EXTRA_TEXT - to staÅ‚a (konstanta) zdefiniowana w klasie Intent, ktÃ³ra ma wartoÅ›Ä‡: 
public static final String EXTRA_TEXT = "android.intent.extra.TEXT"; 
Czyli to po prostu standardowy klucz, ktÃ³rego Android i inne aplikacje uÅ¼ywajÄ… do rozpoznawania 
tekstu przesyÅ‚anego w Intent. 
 
PrzykÅ‚ad 4 â€” udostÄ™pnianie tekstu 
Intent shareIntent = new Intent(Intent.ACTION_SEND); 
shareIntent.setType("text/plain"); 
shareIntent.putExtra(Intent.EXTRA_TEXT, "To jest treÅ›Ä‡ do udostÄ™pnienia"); 
startActivity(Intent.createChooser(shareIntent, "UdostÄ™pnij przez")); 
 
System pokaÅ¼e listÄ™ aplikacji (np. Messenger, WhatsApp, Twitter), ktÃ³re mogÄ… przyjÄ…Ä‡ tekst. 
 
PrzykÅ‚ad 5 â€” otwarcie mapy z konkretnymi wspÃ³Å‚rzÄ™dnymi 
Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("geo:50.123,7.1434?z=19")); 
startActivity(intent); 
Otworzy aplikacjÄ™ mapowÄ… (np. Google Maps) i pokaÅ¼e dokÅ‚adnie wskazanÄ… lokalizacjÄ™ z 
okreÅ›lonym zoomem. 
 
â€¢ Intent.ACTION_VIEW  oznacza, Å¼e chcesz wyÅ›wietliÄ‡ coÅ› (tu: lokalizacjÄ™). 
â€¢ Uri.parse("geo:50.123,7.1434?z=19")  to adres URI w formacie geo:latitude,longitude. 
 
â€¢ 50.123 - szerokoÅ›Ä‡ geograficzna (latitude) 
â€¢ 7.1434 - dÅ‚ugoÅ›Ä‡ geograficzna (longitude) 
â€¢ z=19 - poziom przybliÅ¼enia (zoom), gdzie: 
o 1 = caÅ‚y Å›wiat 
o 20 = bardzo blisko (ulica / budynek) 
 
PrzykÅ‚ad 6 â€” wyszukiwanie miejsca po nazwie 
Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse("geo:0,0?q=PANS Krosno")); 
startActivity(intent); 
Otworzy aplikacjÄ™ mapowÄ… (np. Google Maps) i wyszuka podanÄ… lokalizacjÄ™ po nazwie. 
JeÅ›li miejsce istnieje w Google Maps â€” pokaÅ¼e jego dokÅ‚adny punkt na mapie. 
 
â€¢ geo:0,0 - uÅ¼ywane, gdy nie podajesz konkretnych wspÃ³Å‚rzÄ™dnych. 
â€¢ q=PANS Krosno - zapytanie wyszukiwania (q = query), czyli szukaj miejsca o nazwie â€PANS 
Krosnoâ€. 
 
MoÅ¼esz teÅ¼ Å‚Ä…czyÄ‡ oba podejÅ›cia. Otworzy mapÄ™ w danym miejscu i zaznaczy â€Restauracja Romaâ€ 
jako punkt. 
Intent intent = new Intent(Intent.ACTION_VIEW, 
Uri.parse("geo:50.123,7.1434?q=Restauracja+Roma")); 
startActivity(intent); 
 
PrzykÅ‚ad 7 - edycja kontaktu 
Intent intent = new Intent(Intent.ACTION_EDIT); 
intent.setDataAndType(uri, mimeType); 
startActivity(intent); 
To niejawna intencja, wiÄ™c Android sam wybiera aplikacjÄ™, ktÃ³ra potrafi dany typ danych otworzyÄ‡ 
w trybie edycji. 
â€¢ uri - adres zasobu, ktÃ³ry chcesz edytowaÄ‡ (np. Uri pliku, kontaktu, zdjÄ™cia itp.) 
â€¢ mimeType - typ danych, np. "image/*", "text/plain", "vnd.android.cursor.item/contact" 
â€¢  
Intent.ACTION_EDIT informuje system, Å¼e chcesz edytowaÄ‡ okreÅ›lony zasÃ³b (np. plik, kontakt, 
zdjÄ™cie). 
 
Intent intent = new Intent(Intent.ACTION_EDIT); 
intent.setData(Uri.parse("content://contacts/people/1")); // ID kontaktu = 1 
startActivity(intent); 
Otworzy aplikacjÄ™ â€Kontaktyâ€ z formularzem edycji wskazanego kontaktu. 
 
PrzykÅ‚ad 8 - edycja pliku tekstowego 
Uri uri = Uri.parse("file:///storage/emulated/0/Documents/notatka.txt"); 
Intent intent = new Intent(Intent.ACTION_EDIT); 
intent.setDataAndType(uri, "text/plain"); 
intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); 
startActivity(intent); 
Android otworzy aplikacjÄ™, ktÃ³ra potrafi edytowaÄ‡ pliki tekstowe (np. notatnik). 
Uwaga: od Androida 7 (Nougat) nie moÅ¼na uÅ¼ywaÄ‡ Å›cieÅ¼ek file:// bezpoÅ›rednio - trzeba korzystaÄ‡ z 
FileProvider i content://. 
 
PrzykÅ‚ad 9 - edycja notatki (tekst jako dane) 
Intent intent = new Intent(Intent.ACTION_EDIT); 
intent.setType("text/plain"); 
intent.putExtra(Intent.EXTRA_TEXT, "To jest tekst do edycji"); 
startActivity(Intent.createChooser(intent, "Wybierz aplikacjÄ™ do edycji")); 
JeÅ›li masz dane tekstowe, ktÃ³re chcesz przekazaÄ‡ do aplikacji do edycji (np. aplikacji notatnika) 
Android zapyta, jakÄ… aplikacjÄ… otworzyÄ‡ tekst â€” uÅ¼ytkownik moÅ¼e wybraÄ‡ np. Keep, Notatnik, 
Gmail itd. 
 
PrzykÅ‚ad 10 -  edycja zdjÄ™cia (np. w aplikacji Galeria) 
Uri imageUri = Uri.parse("content://media/external/images/media/45"); 
Intent intent = new Intent(Intent.ACTION_EDIT); 
intent.setDataAndType(imageUri, "image/*"); 
intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); 
startActivity(Intent.createChooser(intent, "Wybierz edytor zdjÄ™Ä‡")); 
Otworzy aplikacjÄ™ (np. GaleriÄ™ lub Photoshop Express) w trybie edycji obrazu. 
 
âœ“ WybÃ³r aplikacji  
 
Zawsze uÅ¼ywaj Intent.createChooser(), aby uÅ¼ytkownik mÃ³gÅ‚ wybraÄ‡ aplikacjÄ™: 
startActivity(Intent.createChooser(intent, "Wybierz aplikacjÄ™")); 
 
âœ“ Filtry - Wybieranie aplikacji przez Android  
 
System uÅ¼ywa filtrÃ³w intencji (<intent-filter>) zdefiniowanych w plikach AndroidManifest.xml 
wszystkich aplikacji. 
KaÅ¼dy komponent (np. Activity) moÅ¼e zadeklarowaÄ‡, jakie akcje i dane potrafi obsÅ‚uÅ¼yÄ‡. 
 
PrzykÅ‚ad filtra intencji w manifestcie: 
<activity android:name=".DisplayMessageActivity"> 
    <intent-filter> 
        <action android:name="android.intent.action.VIEW" /> 
        <category android:name="android.intent.category.DEFAULT" /> 
        <data android:mimeType="text/plain" /> 
    </intent-filter> 
</activity> 
 
Atrybut android:exported to bardzo waÅ¼ny element w AndroidManifest.xml, ktÃ³ry okreÅ›la, czy 
komponent aplikacji (np. Activity, Service, Receiver) moÅ¼e byÄ‡ uruchamiany przez inne aplikacje. 
 
<activity 
    android:name=".MainActivity2" 
    android:exported="false" /> 
<activity 
 
android:exported="false" oznacza, Å¼e: 
â€¢ ta aktywnoÅ›Ä‡ (lub inny komponent) nie moÅ¼e byÄ‡ uruchomiona spoza aplikacji, 
â€¢ moÅ¼e byÄ‡ uruchamiana tylko wewnÄ™trznie, przez Intenty pochodzÄ…ce z tej samej aplikacji. 
Od Androida 12 (API 31) ten atrybut jest wymagany dla wszystkich komponentÃ³w (Activity, 
Service, Receiver), ktÃ³re majÄ… intent-filter â€” w przeciwnym razie aplikacja siÄ™ nie zbuduje. 
 
 
<activity 
    android:name=".MainActivity" 
    android:exported="true"> 
    <intent-filter> 
        <action android:name="android.intent.action.MAIN"/> 
        <category android:name="android.intent.category.LAUNCHER"/> 
    </intent-filter> 
</activity> 
 
<activity 
    android:name=".HiddenActivity" 
    android:exported="false" /> 
 
android.intent.action.MAIN  mÃ³wi systemowi Android â€To jest gÅ‚Ã³wna akcja aplikacji â€” 
uruchom jÄ… jako pierwszÄ…, gdy uÅ¼ytkownik wÅ‚Ä…cza aplikacjÄ™ z listy.â€ 
android.intent.category.LAUNCHER mÃ³wi â€PokaÅ¼ ikonÄ™ tej aktywnoÅ›ci w launcherze (czyli na 
ekranie gÅ‚Ã³wnym, wÅ›rÃ³d innych aplikacji).â€ 
 
PrzykÅ‚ad peÅ‚nego intent-filter z data 
 
<activity android:name=".WebViewActivity"> 
    <intent-filter> 
        <action android:name="android.intent.action.VIEW" /> 
        <category android:name="android.intent.category.DEFAULT" /> 
        <category android:name="android.intent.category.BROWSABLE" /> 
        <data android:scheme="https" android:host="www.mojastrona.pl" /> 
    </intent-filter> 
</activity> 
 
 
Ten zapis mÃ³wi Androidowi â€JeÅ›li uÅ¼ytkownik kliknie link HTTPS prowadzÄ…cy do 
www.mojastrona.pl, zaproponuj otwarcie go w mojej aplikacji (w aktywnoÅ›ci WebViewActivity).â€ 
 
Po zainstalowaniu aplikacji, jeÅ›li uÅ¼ytkownik kliknie np.: 
s 
 
Android zapyta: 
â€Czy chcesz otworzyÄ‡ ten link w przeglÄ…darce, czy w aplikacji TwojejNazwaAppki?â€ 
A jeÅ›li uÅ¼ytkownik wybierze TwojÄ… aplikacjÄ™ i zaznaczy Zawsze, to wszystkie takie linki bÄ™dÄ… 
otwierane odtÄ…d w niej. 
 
 

Schemat  
(android:scheme) Co obsÅ‚uguje PrzykÅ‚ad linku 
https Strony internetowe https://example.com 
http Strony internetowe (bez 
HTTPS) http://example.com 
geo Lokalizacje GPS geo:52.2297,21.0122 
tel Numery telefonÃ³w tel:123456789 
mailto Adresy e-mail mailto:kontakt@example.com 
content DostÄ™p do plikÃ³w przez 
ContentProvider content://media/external/images/media/5 
file Lokalne pliki file:///sdcard/plik.txt 
 
âœ“ Kategorie (Categories) 
 
Kategorie (<category>) okreÅ›lajÄ… rodzaj kontekstu lub przeznaczenie aktywnoÅ›ci, czyli w jakich 
sytuacjach system Android moÅ¼e jÄ… uruchomiÄ‡. 
OprÃ³cz akcji i danych, intencja moÅ¼e mieÄ‡ kategoriÄ™, ktÃ³ra okreÅ›la kontekst, w jakim akcja ma byÄ‡ 
wykonana. 
NajczÄ™Å›ciej uÅ¼ywane: 
 
Kategoria Znaczenie 
Intent.CATEGORY_DEFAULT DomyÅ›lna â€” wymagana przy wiÄ™kszoÅ›ci intencji 
Intent.CATEGORY_BROWSABLE Pozwala otworzyÄ‡ aktywnoÅ›Ä‡ z przeglÄ…darki lub z linku 
Intent.CATEGORY_LAUNCHER UÅ¼ywana dla gÅ‚Ã³wnej aktywnoÅ›ci aplikacji 
 
  <category android:name="android.intent.category.DEFAULT" />  oznacza, Å¼e aktywnoÅ›Ä‡ moÅ¼e byÄ‡ 
uruchomiona przez â€zwykÅ‚yâ€ (domyÅ›lny) Intent, wysÅ‚any z kodu aplikacji metodÄ… 
startActivity(intent), czyli taki, ktÃ³ry nie ma jawnie okreÅ›lonej kategorii. 
 
PrzykÅ‚ad z kategoriÄ… BROWSABLE (deep link) 
<activity android:name=".WebViewActivity"> 
    <intent-filter> 
        <action android:name="android.intent.action.VIEW" /> 
        <category android:name="android.intent.category.DEFAULT" /> 
        <category android:name="android.intent.category.BROWSABLE" /> 
        <data android:scheme="https" android:host="www.mojastrona.pl" />  
    </intent-filter> 
</activity> 
 
Teraz, gdy ktoÅ› kliknie w link https://www.mojastrona.pl â€” Android zaproponuje otwarcie Twojej 
aplikacji. 
 
âœ“ Pozwolenia (Permissions) 
 
Pozwolenia w Androidzie to mechanizm ochrony prywatnoÅ›ci i bezpieczeÅ„stwa uÅ¼ytkownika. 
KaÅ¼da aplikacja, ktÃ³ra chce uzyskaÄ‡ dostÄ™p do wraÅ¼liwych danych lub funkcji systemowych, musi 
najpierw poprosiÄ‡ o zgodÄ™ uÅ¼ytkownika. 
 
Dwa gÅ‚Ã³wne typy pozwoleÅ„: 
Normal permissions 
â€¢ DotyczÄ… czynnoÅ›ci o niskim ryzyku (np. dostÄ™p do Internetu). 
â€¢ SÄ… automatycznie przyznawane po instalacji aplikacji. 
 
PrzykÅ‚ad: 
<uses-permission android:name="android.permission.INTERNET" /> 
Dangerous permissions 
â€¢ DotyczÄ… dostÄ™pu do prywatnych danych uÅ¼ytkownika lub sprzÄ™tu (np. lokalizacja, kamera, 
kontakty). 
â€¢ WymagajÄ… potwierdzenia przez uÅ¼ytkownika w czasie dziaÅ‚ania aplikacji (runtime 
permission). 
  
PrzykÅ‚ad: 
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /> 
Android chroni uÅ¼ytkownika przed naduÅ¼yciami â€” np. aplikacja nie moÅ¼e: 
â€¢ wykonywaÄ‡ poÅ‚Ä…czeÅ„ bez zgody, 
â€¢ Å›ledziÄ‡ lokalizacji bez zgody, 
â€¢ wysyÅ‚aÄ‡ wiadomoÅ›ci SMS bez zgody. 
DziÄ™ki temu uÅ¼ytkownik ma kontrolÄ™ nad tym, do czego aplikacja ma dostÄ™p. 
 
PrzykÅ‚ad  
JeÅ›li chciaÅ‚byÅ› wykonaÄ‡ poÅ‚Ä…czenie automatycznie: 
Intent intent = new Intent(Intent.ACTION_CALL, Uri.parse("tel:123456789")); 
startActivity(intent); 
Tutaj aplikacja wykonuje poÅ‚Ä…czenie bez udziaÅ‚u uÅ¼ytkownika, wiÄ™c wymagane jest: 
<uses-feature 
    android:name="android.hardware.telephony" 
    android:required="false" /> 
<uses-permission android:name="android.permission.CALL_PHONE" /> 
 
I dodatkowo musisz poprosiÄ‡ uÅ¼ytkownika o zgodÄ™ w czasie dziaÅ‚ania aplikacji (runtime): 
// ------------------------------w onCreate ---------------------------------------- 
Intent callIntent = new Intent(Intent.ACTION_CALL); 
callIntent.setData(Uri.parse("tel:123456789")); 
 
ActivityResultLauncher<String> requestPermissionLauncher = 
        registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -> { 
            if (isGranted) { 
                // Pozwolenie przyznane - wykonaj akcjÄ™ raz po zezwoleniu  
                 startActivity(callIntent); 
            } else { 
                Toast.makeText(this, "Brak pozwolenia na wykonanie poÅ‚Ä…czenia", 
Toast.LENGTH_SHORT).show(); 
            } 
        }); 
//-------------------------------------------------------------------------------------- 
binding.button.setOnClickListener(v -> { 
    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) == 
PackageManager.PERMISSION_GRANTED) { 
  // Pozwolenie przyznane wczeÅ›niej - wykonaj akcjÄ™ przy kolejnych klikniÄ™ciach  
         startActivity(callIntent); 
    } else { 
        requestPermissionLauncher.launch(Manifest.permission.CALL_PHONE); 
    } 
}); 
 
Pozwolenia lokalizacyjne (jeÅ›li chcesz uÅ¼yÄ‡ GPS w aplikacji) 
JeÅ›li Twoja aplikacja chciaÅ‚aby sama pobieraÄ‡ pozycjÄ™ uÅ¼ytkownika (a nie tylko otwieraÄ‡ mapÄ™), 
wtedy musisz dodaÄ‡ jedno z tych pozwoleÅ„: 
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />  
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" /> 
PozostaÅ‚e pozwolenia: https://developer.android.com/reference/android/Manifest.permission 
 
âœ“ FunkcjonalnoÅ›Ä‡ <uses-feature> 
 
Tag <uses-feature> w Androidzie jest czÄ™sto mylony z <uses-permission>, ale jego rola jest inna. 
<uses-feature> to deklaracja w pliku AndroidManifest.xml, ktÃ³ra informuje system Android oraz 
Sklep Google Play, 
Å¼e Twoja aplikacja wymaga lub opcjonalnie korzysta z okreÅ›lonych funkcji sprzÄ™towych lub 
programowych urzÄ…dzenia. 
 
<uses-permission>  mÃ³wi â€chcÄ™ mieÄ‡ dostÄ™p doâ€¦â€ (np. do kamery, internetu, kontaktÃ³w) 
<uses-feature>  mÃ³wi â€moja aplikacja potrzebuje sprzÄ™tu lub funkcjiâ€¦â€ (np. kamery, GPS, 
Bluetooth) 
 
PrzykÅ‚ad 1 - aplikacja wymaga kamery 
<uses-feature android:name="android.hardware.camera" android:required="true" /> 
Twoja aplikacja nie uruchomi siÄ™ na urzÄ…dzeniu bez kamery. 
W Google Play takie urzÄ…dzenia nie zobaczÄ… Twojej aplikacji (zostanie odfiltrowana). 
 
Inne przykÅ‚ady: 
PrzykÅ‚ad 2 - kamera jest tylko opcjonalna 
<uses-feature android:name="android.hardware.camera" android:required="false" /> 
Twoja aplikacja moÅ¼e dziaÅ‚aÄ‡ bez kamery, ale jeÅ›li jest â€” to jÄ… wykorzysta. 
Google Play nie blokuje instalacji na urzÄ…dzeniach bez kamery. 
 
PrzykÅ‚ad 3 â€” GPS (lokalizacja) 
<uses-feature android:name="android.hardware.location.gps" android:required="true" /> 
Aplikacja wymaga sprzÄ™towego GPS, np. aplikacja nawigacyjna. 
Bez GPS nie bÄ™dzie dziaÅ‚aÄ‡ wiÄ™c nie pojawi siÄ™ w Sklepie Play na urzÄ…dzeniach bez tej funkcji. 
 
PrzykÅ‚ad 4 â€” Bluetooth 
<uses-feature android:name="android.hardware.bluetooth" android:required="false" /> 
Aplikacja moÅ¼e korzystaÄ‡ z Bluetooth, ale nie jest to wymagane. 
 
-------------------------------------------------------------------------------------------------------------------------- 
âœ“ PrzykÅ‚ad uÅ¼ycia intencji do uruchomienia innej aktywnoÅ›ci w sposÃ³b niejawny  
 
              

 
 
 
----- Aplikacja 1 ----- 
 
activity_main.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    tools:context=".MainActivity"> 
 
    <LinearLayout 
        android:orientation="vertical" 
        android:gravity="center" 
        android:padding="20dp" 
        android:layout_width="match_parent" 
        android:layout_height="match_parent"> 
 

        <EditText 
            android:id="@+id/editTextMessage" 
            android:hint="Wpisz wiadomoÅ›Ä‡" 
            android:layout_width="match_parent" 
            android:layout_height="wrap_content" 
            android:inputType="text" /> 
 
        <Button 
            android:id="@+id/btnSend" 
            android:text="WyÅ›lij wiadomoÅ›Ä‡" 
            android:layout_width="wrap_content" 
            android:layout_height="wrap_content" 
            android:layout_marginTop="20dp"/> 
    </LinearLayout> 
 
</LinearLayout> 
 
MainActivity.java 
package com.example.ap1; 
 
import android.content.Intent; 
import android.os.Bundle; 
import android.view.View; 
import android.widget.Button; 
import android.widget.EditText; 
 
import androidx.appcompat.app.AppCompatActivity; 
 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        EditText editTextMessage = findViewById(R.id.editTextMessage); 
        Button btnSend = findViewById(R.id.btnSend); 
 
        btnSend.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View v) { 
                String message = editTextMessage.getText().toString(); 
 
                // Tworzymy NIEJAWNY Intent z akcjÄ… systemowÄ… SEND 
                Intent sendIntent = new Intent(); 
                sendIntent.setAction(Intent.ACTION_SEND); 
                sendIntent.putExtra(Intent.EXTRA_TEXT, message); 
                sendIntent.setType("text/plain"); 
 
                // Pokazujemy uÅ¼ytkownikowi listÄ™ aplikacji, ktÃ³re mogÄ… to obsÅ‚uÅ¼yÄ‡ 
                Intent shareIntent = Intent.createChooser(sendIntent, "Wybierz aplikacjÄ™ do wysÅ‚ania"); 
                startActivity(shareIntent); 
            } 
        }); 
    } 
} 
 
----- Aplikacja 2 ----- 
 
activity_main.xml 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:orientation="vertical" 
    android:gravity="center" 
    android:background="#C59147" 
    tools:context=".MainActivity"> 
 
    <TextView 
        android:id="@+id/textViewReceived" 
        android:text="Brak wiadomoÅ›ci" 
        android:textSize="24sp" 
        android:textColor="#000" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content"/> 
</LinearLayout> 
 
MainActivity.java 
 
package com.example.ap2; 
 
import android.content.Intent; 
import android.os.Bundle; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        TextView textView = findViewById(R.id.textViewReceived); 
        Intent intent = getIntent(); 
 
        // Sprawdzamy, czy aplikacja zostaÅ‚a uruchomiona z akcjÄ… SEND 
        if (Intent.ACTION_SEND.equals(intent.getAction()) && intent.getType() != null) { 
            if ("text/plain".equals(intent.getType())) { 
                String receivedText = intent.getStringExtra(Intent.EXTRA_TEXT); 
                if (receivedText != null) { 
                    textView.setText("Odebrano: " + receivedText); 
                } 
            } 
        } 
    } 
} 
 
AndroidManifest.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<manifest xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:tools="http://schemas.android.com/tools"> 
 
    <application 
        android:allowBackup="true" 
        android:dataExtractionRules="@xml/data_extraction_rules" 
        android:fullBackupContent="@xml/backup_rules" 
        android:icon="@mipmap/ic_launcher" 
        android:label="@string/app_name" 
        android:roundIcon="@mipmap/ic_launcher_round" 
        android:supportsRtl="true" 
        android:theme="@style/Theme.Ap2"> 
        <activity 
            android:name=".MainActivity" 
            android:exported="true"> 
            <intent-filter> 
                <action android:name="android.intent.action.MAIN" /> 
                <category android:name="android.intent.category.LAUNCHER" /> 
 
                <!-- ğŸ”¹ ObsÅ‚uguje akcjÄ™ SEND --> 
                <action android:name="android.intent.action.SEND" /> 
                <!-- ğŸ”¹ Kategoria dla intentÃ³w z innych aplikacji --> 
                <category android:name="android.intent.category.DEFAULT" /> 
                <!-- ğŸ”¹ OkreÅ›lamy, Å¼e ta aktywnoÅ›Ä‡ przyjmuje dane tekstowe --> 
                <data android:mimeType="text/plain" /> 
 
            </intent-filter> 
        </activity> 
    </application> 
 
</manifest> 
 
 
---------------------------------------------------------------------------------------------------------- 
4. Zadania  
Zadanie 1 
Przetestuj wszystkie przykÅ‚ady opisujÄ…ce akcje pozwalajÄ…ce uruchamiaÄ‡ aktywnoÅ›ci innych aplikacji opisane 
na poczÄ…tku instrukcji.  
PamiÄ™taj o dodaniu odpowiednich pozwoleÅ„ w pliku AndroidManifest.xml 
 
Zadanie 2. 
Napisz dwie aplikacje mobilne: 
1. AppSender â€” wysyÅ‚a dane (np. liczbÄ™ caÅ‚kowitÄ…) za pomocÄ… niejawnego Intentu. 
2. AppReceiver â€” odbiera dane z Intentu i wyÅ›wietla wynik (np. podwojonÄ… wartoÅ›Ä‡ liczby). 
UÅ¼yj niejawnego Intent (czyli bez podawania nazwy klasy, tylko akcji). 
UwzglÄ™dnij wymagane pozwolenia i filtry w manifestach. 
UÅ¼yj wÅ‚asnej akcji a nie systemowej. To oznacza Å¼e tylko nasza pierwsza aplikacjÄ… bÄ™dzie mogÅ‚a uruchamiaÄ‡ 
naszÄ… drugÄ… (bez obcych aplikacji) 
 
Zadanie 3 
Przetestuj aplikacjÄ™ z powyÅ¼szego przykÅ‚adu modyfikujÄ…c jej funkcje tak aby uÅ¼ywaÅ‚a jednej z akcji opisanych 
na poczÄ…tku instrukcji,   
 
 

--- END OF am5.pdf ---

--- START OF am6.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  6 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: Organizacja danych w pamiÄ™ci urzÄ…dzenia poprzez klasÄ™ 
SharedPreferences, PreferencesScreen, pasek TollBar, Menu, ikony 
Tryb studiÃ³w: stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
1. TreÅ›ci programowe:   
Przechowywanie danych podrÄ™cznych, mechanizm SharedPreferences, Preferences DataStore  oraz 
format JSON. 
 
2. Cel zajÄ™Ä‡:  
Celem zajÄ™Ä‡ jest opanowanie ussmiejÄ™tnoÅ›ci przechowywania i wspÃ³Å‚dzielenia danych w caÅ‚ej 
aplikacji w postaci pliku w pamiÄ™ci urzÄ…dzenia. Student zdobÄ™dzie wiedzÄ™ niezbÄ™dnÄ… do 
programowania aplikacji w systemie Android, ktÃ³ra bÄ™dzie zdolna do przechowywania danych np. 
konfiguracyjnych po zamkniÄ™ciu programu.   
 
 
3. MateriaÅ‚y dydaktyczne  
 
---------------------------------------------------------------------------------------- 
âœ“ SharedPreferences 
 
Jednym ze sposobÃ³w przechowywania danych w aplikacji napisanej w OS Android jest mechanizm 
opisany w klasie SharedPreferences. SÅ‚uÅ¼y on do organizacji niewielkich iloÅ›ci danych (np. 
ustawienia programu, wynik - poziom gry, itd.). ObsÅ‚uguje nastÄ™pujÄ…ce typy: boolean, float, int, 
long, String. Dane zapisane w ten sposÃ³b mogÄ… byÄ‡ wspÃ³Å‚dzielone przez wszystkie klasy projektu 
(a nawet przez inne aplikacje) oraz nie zostanÄ… utracone po wyÅ‚Ä…czeniu programu. Jest to 
bezpieczny sposÃ³b nieobciÄ…Å¼ajÄ…cy system. 
 
PrzykÅ‚ad â€“ zapis danych  
PoniÅ¼szy przykÅ‚ad przedstawia sposÃ³b zapisania wartoÅ›ci dwÃ³ch zmiennych, caÅ‚kowitej oraz 
tekstowej.   
 
int valueInt=111; 
String valueString="OK"; 
 
SharedPreferences sharedPreferences=getSharedPreferences("SETTINGS", 
Context.MODE_PRIVATE); 
SharedPreferences.Editor editor = sharedPreferences.edit(); 
editor.putInt("KEY_ID_VALUE1", valueInt); 
editor.putString("KEY_ID_VALUE2", valueString); 
editor.commit(); 
 

 
PrzykÅ‚ad â€“ odczyt danych       
PoniÅ¼szy przykÅ‚ad przedstawia sposÃ³b odczytania wartoÅ›ci oraz przypisanie ich do  zmiennych, 
caÅ‚kowitej i tekstowej.  
 
int valueInt=0 
String valueString=""; 
SharedPreferences prefMaxButton=getSharedPreferences("SETTINGS", Context.MODE_PRIVATE); 
valueInt=prefMaxButton.getInt("KEY_ID_VALUE1", 10); 
valueString=prefMaxButton.getString("KEY_ID_VALUE2", "FALSE"); 
 
 
Cykl Å¼ycia aktywnoÅ›ci pokazane na poniÅ¼szym rysunku pozwoli zrozumieÄ‡ moment uruchomienia 
metody onResume() wykorzystany w przykÅ‚adzie.  
 
 
 
 
PrzykÅ‚ad ukazujÄ…cy wykorzystanie klasy SharePreferences do zapisywania nieduÅ¼ych danych w 
pamiÄ™ci urzÄ…dzenia oraz do przekazywania tych wartoÅ›ci pomiÄ™dzy aktywnoÅ›ciami. CzÄ™sto 
wykorzystujemy ten mechanizm do zapisywania ustawieÅ„ aplikacji, do ktÃ³rych dostÄ™p majÄ… 
wszystkie aktywnoÅ›Ä‡ w ramach aplikacji. Aplikacja zapisuje dwa typy danych. Pierwsza to wartoÅ›Ä‡ 
caÅ‚kowita (na staÅ‚e zapisanÄ… w programie), drugÄ… to wartoÅ›Ä‡  tekstowÄ… pobranÄ… z pola tekstowego.  
 
AktywnoÅ›Ä‡ pierwsza: 

 
package com.example.dwie_aktywnosci; 
 
import android.content.Context; 
import android.content.Intent; 
import android.content.SharedPreferences; 
import android.os.Bundle; 
import android.view.View; 
import androidx.appcompat.app.AppCompatActivity; 
import com.example.dwie_aktywnosci.databinding.ActivityMainBinding; 
 
public class MainActivity extends AppCompatActivity { 
    private ActivityMainBinding binding; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding = ActivityMainBinding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        binding.button.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View view) { 
                Intent intent = new Intent(MainActivity.this, MainActivity2.class); 
                String wiadomosc = binding.editTextText.getText().toString(); 
 
                int id=111; 
                SharedPreferences sharedPreferences=getSharedPreferences("DATA",  
Context.MODE_PRIVATE); 
                SharedPreferences.Editor editor = sharedPreferences.edit(); 
                editor.putInt("KEY_ID_VALUE1", id );        // zapisanie wartoÅ›ci caÅ‚kowitej 
                editor.putString("KEY_ID_VALUE2", binding.editTextText.getText().toString());    // 
zapisanie wartoÅ›ci typu String 
                editor.commit(); 
 
                startActivity(intent); 
            } 
        }); 
    } 
 
    @Override 
    protected void onResume() { 
        super.onResume(); 
 
        SharedPreferences prefMaxButton=getSharedPreferences("DATA", Context.MODE_PRIVATE); 
        if(!prefMaxButton.contains("KEY_ID_VALUE2") || 
!prefMaxButton.contains("KEY_ID_VALUE1")) 
            return; 
 
        int valueInt=0; 
        String valueString=prefMaxButton.getString("KEY_ID_VALUE2", "FALSE"); 
 
        valueInt=prefMaxButton.getInt("KEY_ID_VALUE1", 0); 
        binding.editTextText.setText(valueString); 
        binding.editTextText.append(" "+valueInt+"\n"); 
    } 
} 
AktywnoÅ›Ä‡ druga: 
 
package com.example.dwie_aktywnosci; 
 
import android.content.Context; 
import android.content.SharedPreferences; 
import android.os.Bundle; 
import android.view.View; 
import androidx.appcompat.app.AppCompatActivity; 
import com.example.dwie_aktywnosci.databinding.ActivityMain2Binding; 
 
public class MainActivity2 extends AppCompatActivity { 
    private ActivityMain2Binding binding; 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        binding = ActivityMain2Binding.inflate(getLayoutInflater()); 
        setContentView(binding.getRoot()); 
 
        SharedPreferences prefMaxButton=getSharedPreferences("DATA", Context.MODE_PRIVATE); 
        int valueInt=0; 
        String valueString=prefMaxButton.getString("KEY_ID_VALUE2", "FALSE"); 
 
        valueInt=prefMaxButton.getInt("KEY_ID_VALUE1", 0); 
        binding.editTextText2.setText(valueString); 
 
        binding.editTextText2.setText(valueString); 
        binding.editTextText2.append(" "+valueInt+"\n"); 
 
        binding.button3.setOnClickListener(new View.OnClickListener() { 
            @Override 
            public void onClick(View view) { 
                int id=222; 
                SharedPreferences sharedPreferences=getSharedPreferences("DATA", 
Context.MODE_PRIVATE); 
                SharedPreferences.Editor editor = sharedPreferences.edit(); 
                editor.putInt("KEY_ID_VALUE1", id ); 
                editor.putString("KEY_ID_VALUE2", binding.editTextText2.getText().toString()); 
                editor.commit(); 
                finish(); 
            } 
        }); 
    } 
} 
 
Pliki widokÃ³w XML moÅ¼na pobraÄ‡ z przykÅ‚adu z instrukcji nr 4 
 
Alternatywnie, jeÅ›li potrzebujesz tylko jednego wspÃ³Å‚dzielonego pliku preferencji dla swojej 
aktywnoÅ›ci, moÅ¼esz uÅ¼yÄ‡ metody getPreferences(): 
 
 
SharedPreferences sharedPref = getPreferences(Context.MODE_PRIVATE); 
 
 
Lokalizacja pliku DATA.xml zapisanego przez SharePreferences: 
 
 
 

 
 
 
---------------------------------------------------------------------------------------- 
âœ“ Ustawienia  
 
PoniÅ¼ej opisano, jak utworzyÄ‡ prosty ekran ustawieÅ„ za pomocÄ… Biblioteka ustawieÅ„ AndroidaX. 
 
 
 
- NaleÅ¼y dodaj zaleÅ¼noÅ›Ä‡ z biblioteki preferencji do swojego elementu (build.gradle) plik: 

 
Kotlin:  
dependencies { 
    implementation("androidx.preference:preference-ktx:1.2.0") 
} 
 
Groovy: 
dependencies { 
  implementation "androidx.preference:preference-ktx:1.2.0" 
} 
 
----------------------------------------------------------------------------------------------- 
<PreferenceScreen> to gÅ‚Ã³wny kontener w pliku XML, w ktÃ³rym definiuje siÄ™ ustawienia aplikacji w 
Androidzie. 
DziaÅ‚a jak â€ekran ustawieÅ„â€ â€” zawiera inne elementy, takie jak <Preference>, 
<SwitchPreferenceCompat>, <SeekBarPreference> itd. 
â€¢ Jest rootem pliku z preferencjami (res/xml/settings_preferences.xml). 
â€¢ OkreÅ›la jeden ekran ustawieÅ„ (moÅ¼e teÅ¼ zawieraÄ‡ pod-ekrany). 
â€¢ KaÅ¼de dziecko <PreferenceScreen> to pojedyncze ustawienie. 
 
Plik preferences.xml (res/xml/settings_preferences.xml): 
 
<PreferenceScreen xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:android="http://schemas.android.com/apk/res/android"> 
 
    <Preference 
        app:key="user" 
        app:title="UÅ¼ytkownik" 
        /> 
 
    <EditTextPreference 
        app:key="adres_email" 
        app:title="Adres email" 
        /> 
 
    <SwitchPreferenceCompat 
        app:key="notification" 
        app:title="WÅ‚Ä…cz powiadomienia" 
        /> 
 
    <SeekBarPreference 
        app:title="Wiek" 
        app:key="seek" 
        app:defaultValue="19" 
        android:max="100" 
        android:stepSize="1" 
        app:showSeekBarValue="true" 
        /> 
</PreferenceScreen> 
 
Przestrzenie nazw (namespaces), czyli informujÄ… Androida, skÄ…d pochodzÄ… uÅ¼ywane atrybuty: 
 
 
 
xmlns:android - zawiera standardowe atrybuty Androida, np. android:layout_width, android:text, 
android:background. 
xmlns:app - zawiera dodatkowe (niestandardowe) atrybuty z bibliotek AndroidX lub Material 
Design, np. app:title, app:key, app:showSeekBarValue. 
DziÄ™ki nim system wie, ktÃ³re atrybuty naleÅ¼Ä… do Androida, a ktÃ³re pochodzÄ… z bibliotek aplikacji. 
 
Opis komponentÃ³w i atrybutÃ³w dla ustawieÅ„   
 
Aby utworzyÄ‡ obiekt widoku XML, naleÅ¼y utworzyÄ‡ klasÄ™ fragmentu dziedziczÄ…cÄ… 
po PreferenceFragmentCompat oraz nadpisaÄ‡ onCreatePreferences() podajÄ…c zasÃ³b XML: 
 
plik: MySettingsFragment.java 
 
import android.os.Bundle; 
import androidx.preference.PreferenceFragmentCompat; 
 
public class MySettingsFragment extends PreferenceFragmentCompat { 
    @Override 
    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) { 
        setPreferencesFromResource(R.xml.preferences, rootKey); 
    } 
} 
 
plik: SettingsActivity.java 
  
import android.os.Bundle; 
import androidx.activity.EdgeToEdge; 
import androidx.appcompat.app.AppCompatActivity; 
import androidx.core.graphics.Insets; 
import androidx.core.view.ViewCompat; 
import androidx.core.view.WindowInsetsCompat; 
 
public class SettingsActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        EdgeToEdge.enable(this); 
        setContentView(R.layout.activity_settings); 
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> { 
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars()); 
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom); 

            return insets; 
        }); 
        //dodanie fragmentu do aktywnoÅ›ci  
        getSupportFragmentManager() 
                .beginTransaction() 
                .replace(R.id.frame_settings, new MySettingsFragment()) 
                .commit(); 
    } 
} 
 
plik: settings.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:orientation="vertical" 
    tools:context=".SettingsActivity"> 
 
    <FrameLayout 
        android:id="@+id/frame_settings" 
        android:layout_width="match_parent" 
        android:layout_height="match_parent" 
        /> 
</LinearLayout> 
 
AktywnoÅ›Ä‡ gÅ‚Ã³wna MainActivity.java 
 
import android.content.Intent; 
import android.content.SharedPreferences; 
import android.os.Bundle; 
import android.widget.Button; 
import android.widget.EditText; 
import androidx.activity.EdgeToEdge; 
import androidx.appcompat.app.AppCompatActivity; 
import androidx.core.graphics.Insets; 
import androidx.core.view.ViewCompat; 
import androidx.core.view.WindowInsetsCompat; 
import androidx.preference.PreferenceManager; 
 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        EdgeToEdge.enable(this); 
        setContentView(R.layout.activity_main); 
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> { 
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars()); 
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom); 
            return insets; 
        }); 
 
        Button buttonSettings = findViewById(R.id.buttonSettings); 
        buttonSettings.setOnClickListener(v -> { 
            Intent intent = new Intent(MainActivity.this, SettingsActivity.class); 
            startActivity(intent); 
        }); 
 
        var preferences = PreferenceManager.getDefaultSharedPreferences(this); 
        if (!preferences.contains("initialized")) { 
            SharedPreferences.Editor editor =  preferences.edit(); 
            editor.putString("user", "Nowy uÅ¼ytkownik"); 
            editor.putString("adres_email", "email@poczta.com"); 
            editor.putInt("seek", 25); 
            editor.putBoolean("notifications_enabled", true); 
            editor.putBoolean("initialized", true); // znacznik inicjalizacji 
            editor.apply(); 
        } 
    } 
 
    @Override 
    protected void onResume() { 
        super.onResume(); 
        var preferences = PreferenceManager.getDefaultSharedPreferences(this).getAll(); 
 
        EditText editText = findViewById(R.id.editTextSettings); 
        preferences.forEach((key, value) -> { 
            editText.append(key + " " + value+"\n"); 
        }); 
        editText.append("\n"); 
    } 
} 
 
---------------------------------------------------------------------------------------- 
âœ“ Tablice w XML 
 
Tablice deklarujesmy w res/values/arrays.xml za pomocÄ… <string-array>, <integer-array> lub 
<array>. 
 
 
 
<?xml version="1.0" encoding="utf-8"?> 
 
<resources> 
<string-array name="array_kolory_string"> 
    <item>Czerwony</item> 
    <item>Zielony</item> 
    <item>Niebieski</item> 
</string-array> 
 
<string-array name="array_kolory_wartosci"> 
    <item>red</item> 
    <item>green</item> 
    <item>blue</item> 
</string-array> 
 
<string-array name="array_kolory_domyslne"> 
    <item>blue</item> 
</string-array> 
 
<integer-array name="punkty"> 
    <item>10</item> 
    <item>20</item> 
    <item>30</item> 
</integer-array> 
 
<array name="flagi"> 
    <item>true</item> 
    <item>false</item> 
    <item>true</item> 
</array> 
</resources> 
 
UÅ¼ycie w kodzie w Javie: : 
 
 
String[] kolory = getResources().getStringArray(R.array.kolory); 
int[] punkty = getResources().getIntArray(R.array.punkty); 
 
 

Wykorzystanie tablic w oknie ustawieÅ„: 
 
<MultiSelectListPreference 
    app:key="kolory" 
    app:title="Wybierz kolory motywu" 
    app:summary="Zaznacz jeden lub wiÄ™cej kolorÃ³w" 
    app:entries="@array/array_kolory_string" 
    app:entryValues="@array/array_kolory_wartosci" 
    app:defaultValue="@array/array_kolory_domyslne"  
/> 
 
<ListPreference 
    app:key="kolory" 
    app:title="Wybierz kolor motywu" 
    app:summary="ZmieÅ„ kolor gÅ‚Ã³wny aplikacji" 
    app:entries="@array/array_kolory_string" 
    app:entryValues="@array/array_kolory_wartosci" 
    app:defaultValue="blue"  
/> 
 
 
 
 
MoÅ¼emy rÃ³wnieÅ¼ dodaÄ‡ ikony do ustawieÅ„:  
 
android:icon="@drawable/outline_document_search_24" 
 
 

 
 
Grupowanie ustawieÅ„:  
 
 
 
<PreferenceScreen xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:android="http://schemas.android.com/apk/res/android"> 
 
    <!-- Kategoria: WyglÄ…d aplikacji --> 
    <PreferenceCategory 
        app:title="WyglÄ…d aplikacji"> 
 
        <MultiSelectListPreference 
            app:key="kolory" 
            app:title="Wybierz kolory motywu" 
            app:summary="Zaznacz jeden lub wiÄ™cej kolorÃ³w" 
            app:entries="@array/array_kolory_string" 
            app:entryValues="@array/array_kolory_wartosci" 
            app:defaultValue="@array/array_kolory_domyslne" /> 
    </PreferenceCategory> 
 
    <!--  Kategoria: Dane uÅ¼ytkownika --> 
    <PreferenceCategory 
        app:title="Dane uÅ¼ytkownika"> 
 
        <Preference 

            app:key="user" 
            app:title="UÅ¼ytkownik" /> 
 
        <EditTextPreference 
            app:key="adres_email" 
            app:title="Adres email" /> 
 
        <SeekBarPreference 
            app:title="Wiek" 
            app:key="seek" 
            app:defaultValue="19" 
            android:max="100" 
            android:stepSize="1" 
            app:showSeekBarValue="true" /> 
    </PreferenceCategory> 
 
    <!--  Kategoria: Powiadomienia --> 
    <PreferenceCategory 
        app:title="Powiadomienia"> 
 
        <SwitchPreferenceCompat 
            app:key="notification" 
            app:title="WÅ‚Ä…cz powiadomienia" /> 
    </PreferenceCategory> 
 
</PreferenceScreen> 
 
---------------------------------------------------------------------------------------- 
âœ“ Toolbar 
 
Toolbar to nowoczesny odpowiednik starego ActionBar â€” pasek u gÃ³ry aplikacji, ktÃ³ry moÅ¼e 
wyÅ›wietlaÄ‡: 
â€¢ tytuÅ‚ ekranu, 
â€¢ przycisk cofania (â†), 
â€¢ menu akcji (np. ikony ustawieÅ„, wyszukiwania), 
â€¢ a nawet wÅ‚asne widoki (np. logo, pole wyszukiwania) 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:orientation="vertical" 
   tools:context=".MainActivity"> 
     
    <androidx.appcompat.widget.Toolbar 
    android:id="@+id/toolbar" 
    android:layout_width="match_parent" 
    android:layout_height="?attr/actionBarSize" 
    android:background="?attr/colorPrimary" 
    android:elevation="8dp" 
    android:theme="@style/ThemeOverlay.AppCompat.ActionBar" 
    app:popupTheme="@style/ThemeOverlay.AppCompat.Light"/> 
 
</LinearLayout> 
 
Kod w klasie MainActivity w klasie onCreate(): 
 
Toolbar toolbar = findViewById(R.id.toolbar); 
setSupportActionBar(toolbar); 
 
StrzaÅ‚ka w stecz:  
 
 
Toolbar toolbar = findViewById(R.id.toolbar); 
setSupportActionBar(toolbar); 
 
if (getSupportActionBar() != null) { 
    getSupportActionBar().setDisplayHomeAsUpEnabled(true); 
    getSupportActionBar().setDisplayShowHomeEnabled(true); 
} 
 
ObsÅ‚uga zdarzenia zwiÄ…zanego z klikniÄ™ciem na strzaÅ‚kÄ™  
 
@Override  
public boolean onSupportNavigateUp() { 
    finish(); // wrÃ³Ä‡ do poprzedniej aktywnoÅ›ci 
    return true; 
} 
 
---------------------------------------------------------------------------------------- 
âœ“ Toolbar i Menu 
 

 
 
Ustawienie nazwy w androidmanifest.xml 
 
 
 
Plik menu_1.xml zapisany w utworzonym folderze menu: 
 
 
 
 
<menu xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto"> 
 
    <item android:id="@+id/menu_ustawienia" 
        android:icon="@drawable/outline_document_search_24" 
        android:title="Ustawienia" 
        app:showAsAction="always"/> 
 
    <item 
        android:id="@+id/opcja_menu1" 
        android:icon="@drawable/baseline_headset_24" 
        android:title="TytuÅ‚" 

        app:showAsAction="ifRoom"/> 
 
    <item android:id="@+id/opcja_menu2" 
        android:title="Ustawienia" 
        app:showAsAction="never"/> 
</menu> 
 
Metoda onCreateOptionsMenu nadpisana w pliku aktywnoÅ›ci MainActivity.java: 
 
@Override 
public boolean onCreateOptionsMenu(Menu menu) { 
    MenuInflater inflater = getMenuInflater(); 
    inflater.inflate(R.menu.menu_1, menu); 
    return true; 
} 
 
ObsÅ‚uga przyciskÃ³w menu:  
 
@Override 
public boolean onOptionsItemSelected(MenuItem item) { 
    // Handle item selection. 
    if (item.getItemId()==R.id.menu_ustawienia){ 
        Intent intent = new Intent(MainActivity.this, SettingsActivity.class); 
        startActivity(intent); 
 
    }else if (item.getItemId()==R.id.manu_opcja1) { 
        EditText editText = findViewById(R.id.editTextSettings); 
        editText.append("Wybrano opcjÄ™ 1\n"); 
 
    }else if (item.getItemId()==R.id.menu_opcja2) { 
        EditText editText = findViewById(R.id.editTextSettings); 
        editText.append("Wybrano innÄ… opcje 2\n"); 
    } 
    return super.onOptionsItemSelected(item); 
} 
 
Generowanie ikon:  
 
 
 
 
 
 
 
DomyÅ›lna lokalizacja pliku utworzonej ikony:  

 
 
----------------------------------------------------------------------------------------- 
4. Zadania  
 
Zadanie 1. 
Napisz program wg wÅ‚asnego pomysÅ‚u wykorzystujÄ…cy mechanizm zarzÄ…dzania danymi  
SharedPreferences.  
Aplikacja powinna zapisywaÄ‡ i pobieraÄ‡ dane z poziomu rÃ³Å¼nych AktywnoÅ›ci.  
 
Zadanie 2. 
Napisz program, w ktÃ³rym utwÃ³rz okno ustawieÅ„ zawierajÄ…ce typy kontrolek pozwalajÄ…ce ustawiÄ‡ 
parametry dla TextView, jak w kodzie poniÅ¼ej. W oknie ustawieÅ„ wstaw pasek toolBar ze strzaÅ‚kÄ… 
pozwalajÄ…cÄ… wyjÅ›Ä‡ z aktywnoÅ›ci ustawieÅ„. Pobierz ustawienia i ustaw je dla pola tekstowego TextView, 
ktÃ³re powinno byÄ‡ widoczne w gÅ‚Ã³wnej aktywnoÅ›ci.  
MoÅ¼na wykorzystaÄ‡ z poziomu kodu Java takie funkcje jak:  
 
// Zmiana koloru tÅ‚a TextView 
public void ustawKolorTla(TextView textView, int kolor) { 
    textView.setBackgroundColor(kolor); 
} 
 
// Zmiana koloru tekstu 
public void ustawKolorTekstu(TextView textView, int kolor) { 
    textView.setTextColor(kolor); 
} 
 
// Zmiana rozmiaru czcionki (w SP) 
public void ustawRozmiarCzcionki(TextView textView, float rozmiarSp) { 
    textView.setTextSize(rozmiarSp); 
} 
 
// Zmiana stylu tekstu (np. pogrubienie) 
public void ustawStylTekstu(TextView textView, boolean pogrubiony) { 

    if (pogrubiony) 
        textView.setTypeface(null, Typeface.BOLD); 
    else 
        textView.setTypeface(null, Typeface.NORMAL); 
} 
 
// Zmiana treÅ›ci tekstu 
public void ustawTekst(TextView textView, String nowyTekst) { 
    textView.setText(nowyTekst); 
} 
  
MoÅ¼na przypisaÄ‡ kolor jako int np. do TextView: 
 
textView.setTextColor(Color.parseColor("#2196F3")); // niebieski 
// lub 
textView.setTextColor(0xFF2196F3); 
 
 

--- END OF am6.pdf ---

--- START OF am7.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  7 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat:  WspÃ³Å‚bieÅ¼ne wykonywanie zadaÅ„ â€“ wÄ…tki 
Tryb studiÃ³w: 
stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
 
1. TreÅ›ci programowe:  
RÃ³wnolegÅ‚e wykonywanie operacji. WÄ…tki. Kolejki komunikatÃ³w.  
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest zrozumienie dziaÅ‚ania wspÃ³Å‚pracy wspÃ³Å‚bieÅ¼nie wykonywanych zadaÅ„ w 
ramach kilku wÄ…tkÃ³w programu oraz zapoznanie siÄ™ ze strukturÄ… programu, gdzie waÅ¼nym 
elementem jest przekazywanie komunikatÃ³w pomiÄ™dzy wÄ…tkami.  
 
3. MateriaÅ‚y dydaktyczne  
 
âœ“ Thread  
 
W Androidzie gÅ‚Ã³wny wÄ…tek UI to wÄ…tek, na ktÃ³rym dziaÅ‚a interfejs uÅ¼ytkownika. 
â€¢ Jest tworzony automatycznie przy starcie aplikacji. 
â€¢ ObsÅ‚uguje wszystkie operacje na widokach (TextView, Button, RecyclerView itp.). 
â€¢ Nie wolno w nim wykonywaÄ‡ dÅ‚ugich operacji, bo spowoduje to zamroÅ¼enie UI (ANR). 
â€¢ MoÅ¼esz w nim uÅ¼ywaÄ‡ Handler(Looper.getMainLooper()), runOnUiThread() lub Kotlin 
lifecycleScope.launch(Dispatchers.Main) do aktualizacji widokÃ³w. 
 
Nie wolno modyfikowaÄ‡ UI (TextView, Button itd.) spoza wÄ…tku gÅ‚Ã³wnego. 
 
Runnable 
Interfejs, ktÃ³ry reprezentuje zadanie do wykonania. 
Zawiera jednÄ… metodÄ™: void run(); Jest to kod, ktÃ³ry moÅ¼na uruchomiÄ‡ w wÄ…tku lub przez 
Handler. 
 
Thread 
Fizyczny wÄ…tek wykonania w systemie. 
UmoÅ¼liwia wykonywanie kodu rÃ³wnolegle z innymi wÄ…tkami. 
MoÅ¼na rÃ³wnieÅ¼: 
â€¢ uruchomiÄ‡ Runnable w Thread, 
â€¢ tworzyÄ‡ nowe wÄ…tki, 
â€¢ wspÃ³Å‚pracowaÄ‡ z Handlerem. 
 
Handler 

Obiekt sÅ‚uÅ¼Ä…cy do przesyÅ‚ania zadaÅ„ (Runnable/Message) do wÄ…tku powiÄ…zanego z 
okreÅ›lonym Looperem. 
Handler odpowiada za: 
â€¢ post(Runnable) - wykonanie kodu w innym wÄ…tku 
â€¢ sendMessage() - wysyÅ‚anie wiadomoÅ›ci do obsÅ‚ugi 
â€¢ wywoÅ‚ywanie handleMessage() lub Runnable 
 
Looper 
PÄ™tla zdarzeÅ„ dziaÅ‚ajÄ…ca w wÄ…tku. 
Jej zadaniem jest: 
â€¢ ciÄ…gle pobieraÄ‡ zadania z MessageQueue 
â€¢ przekazywaÄ‡ je do Handlera 
â€¢ dziaÅ‚aÄ‡ dopÃ³ki wÄ…tek Å¼yje 
GÅ‚Ã³wny wÄ…tek Androida ma Looper domyÅ›lnie. 
 
Looper.getMainLooper() - Tworzy Handler powiÄ…zany z gÅ‚Ã³wnym wÄ…tkiem UI .Zawsze dziaÅ‚a 
niezaleÅ¼nie od tego, w ktÃ³rym wÄ…tku jesteÅ›. 
 
Looper.myLooper() -  zwraca Looper bieÅ¼Ä…cego wÄ…tkuCzyli: 
â€¢ jeÅ›li kod dziaÅ‚a w gÅ‚Ã³wnym wÄ…tku - zwrÃ³ci Looper gÅ‚Ã³wnego wÄ…tku 
â€¢ jeÅ›li kod dziaÅ‚a w zwykÅ‚ym Thread - zwrÃ³ci null (bo nie ma Looperâ€™a) 
 
Handler uÅ¼ywa Looperâ€™a, aby wiedzieÄ‡, na ktÃ³rym wÄ…tku ma odbieraÄ‡ wiadomoÅ›ci i 
aktualizowaÄ‡ UI. 
 
MessageQueue 
Kolejka zadaÅ„ (ang. MessageQueue) powiÄ…zana jest z Looperem. 
Przechowuje: 
â€¢ Runnable (gdy uÅ¼ywasz post()) 
â€¢ Message (gdy uÅ¼ywasz sendMessage()) 
Looper pobiera z niej zadania w pÄ™tli i przekazuje do Handlera. 
 
Wszystkie wywoÅ‚ania post(), postDelayed(), sendMessage() trafiajÄ… do kolejki 
 
Callback (Handler.Callback) 
Interfejs, ktÃ³ry pozwala przechwyciÄ‡ Message zanim Handler wywoÅ‚a handleMessage(). 
JeÅ›li Callback zwrÃ³ci true, wiadomoÅ›Ä‡ jest uznana za obsÅ‚uÅ¼onÄ… i nie trafi do 
handleMessage() 
 
Prosty opis:  
â€¢ Looper = â€pracownikâ€, ktÃ³ry caÅ‚y czas odbiera i obsÅ‚uguje wiadomoÅ›ci 
â€¢ MessageQueue = â€stos dokumentÃ³wâ€, ktÃ³re czekajÄ… na realizacjÄ™ 
â€¢ Handler = â€sekretarkaâ€, ktÃ³ra wysyÅ‚a dokumenty do pracownika 
â€¢ Looper.myLooper() = â€daj mi pracownika tego biura (tego wÄ…tku)â€ 
 
------------------------------------------------------------------------------------------------ 
Przekazywanie danych z â€naszegoâ€ (drugiego  wÄ…tku) do wÄ…tku gÅ‚Ã³wnego UI. 
 
â€¢ runOnUiThread(() 
 
Kiedy uÅ¼ywamy runOnUiThread()? 
â€¢ gdy jesteÅ› w Activity 
â€¢ gdy chcesz natychmiast wykonaÄ‡ kod na UI Thread 
â€¢ gdy nie masz swojego Handlera 
 
Wady: 
â€¢ dziaÅ‚a tylko w Activity 
â€¢ nie zadziaÅ‚a w Service, Thread albo klasie pomocniczej (chyba Å¼e przekaÅ¼esz 
referencjÄ™ do Activity) 
â€¢ trudniej testowaÄ‡ 
 
PrzykÅ‚ad 1 
TextView textView = findViewById(R.id.textView); 
 
new Thread(new Runnable() { 
    @Override 
    public void run() { 
 
        String mmessage = "Dane z wÄ…tku drugiego"; 
        runOnUiThread(() -> textView.setText("Wynik: " + mmessage)); 
    } 
}).start(); 
 
Lub 
TextView textView = findViewById(R.id.textView); 
new Thread(new Runnable() { 
    @Override 
    public void run() { 
        String mmessage = "Dane z wÄ…tku drugiego"; 
        runOnUiThread(new Runnable() { 
            @Override 
            public void run() { 
                textView.setText("Wynik: " + mmessage); 
            } 
        }); 
    } 
}).start(); 
 
 
â€¢ handleMessage 
 
KaÅ¼dy Handler jest powiÄ…zany z pewnym Looperem. 
NajczÄ™Å›ciej: 
â€¢ new Handler(Looper.getMainLooper()) - kolejka gÅ‚Ã³wnego wÄ…tku UI 
â€¢ new Handler(HandlerThread.getLooper()) - kolejka wÄ…tku roboczego 
 
Handler otrzymuje wiadomoÅ›Ä‡ i wywoÅ‚uje handleMessage() 
JeÅ›li w kolejce znajdzie siÄ™ Message, Handler przetwarza je: 
â€¢ JeÅ¼eli Handler ma ustawiony Callback  wywoÅ‚a siÄ™ callback.handleMessage(msg) 
â€¢ JeÅ›li nie wywoÅ‚a siÄ™ metoda handleMessage(msg) Twojego Handlera 
Czyli to jest miejsce, w ktÃ³rym odbierasz i przetwarzasz zadanie wysÅ‚ane do Handlera. 
 
 
PrzykÅ‚ad 2  
 
    TextView textView = findViewById(R.id.textView); 
    Handler mainHandler = new Handler(Looper.getMainLooper()){ 
        @Override 
        public void handleMessage(Message msg) { 
            super.handleMessage(msg); 
            textView.setText("Wynik: " + msg.obj); 
        } 
    }; 
 
    new Thread(new Runnable() { 
        @Override 
        public void run() { 
            Message msg = new Message(); 
            msg.obj = "Dane z wÄ…tku drugiego"; 
            //mainHandler.sendMessage(msg); 
            runOnUiThread(new Runnable() { 
                @Override 
                public void run() { 
                    textView.setText("Wynik: " + msg.obj); 
                } 
            }); 
        } 
    }).start(); 
} 
 
 
â€¢ mainHandler.post() 
 
Kiedy uÅ¼ywamy handler.post()? 
â€¢ Gdy masz Handler powiÄ…zany z Looper.getMainLooper() (UI Thread) 
â€¢ Gdy wykonujesz kod z dowolnego miejsca aplikacji 
â€¢ Gdy masz wÅ‚asny mechanizm komunikacji miÄ™dzy wÄ…tkami 
â€¢ Gdy chcesz odroczyÄ‡ wykonanie lub wysyÅ‚aÄ‡ wiadomoÅ›ci seryjnie 
 
GÅ‚Ã³wne cechy: 
â€¢ dziaÅ‚a wszÄ™dzie: wÄ…tki, klasy, serwisy, worker threads 
â€¢ Handler moÅ¼e obsÅ‚ugiwaÄ‡ kolejkÄ™ zdarzeÅ„ 
â€¢ moÅ¼na uÅ¼yÄ‡ postDelayed() 
â€¢ jest podstawÄ… pracy wÄ…tkÃ³w w Androidziess 
 
handler.post(Runnable r) - umieszcza Runnable na koÅ„cu kolejki Looper i wykonuje go jak 
najszybciej, gdy kolejka do niego dotrze. 
handler.postDelayed(Runnable r, long delayMillis) - umieszcza Runnable w kolejce, ale z 
opÃ³Åºnieniem delayMillis milisekund (wykona siÄ™ po upÅ‚ywie tego czasu, gdy Looper 
przetworzy wiadomoÅ›Ä‡). 
 
 
PrzykÅ‚ad 3  
TextView textView = findViewById(R.id.textView); 
Handler mainHandler = new Handler(Looper.getMainLooper()); 
 
new Thread(new Runnable() { 
    @Override 
    public void run() { 
        String message = "Dane z wÄ…tku drugiego"; 
        mainHandler.post(() -> textView.setText("Wynik: " + message)); 
    } 
}).start(); 
 
Lub 
TextView textView = findViewById(R.id.textView); 
Handler mainHandler = new Handler(Looper.getMainLooper()); 
 
new Thread(new Runnable() { 
    @Override 
    public void run() { 
        String message = "Dane z wÄ…tku drugiego"; 
        mainHandler.post(new Runnable() { 
            @Override 
            public void run() { 
                textView.setText("Wynik: " + message); 
            } 
        }); 
    } 
}).start(); 
 
PrzykÅ‚ad, w ktÃ³rym przesyÅ‚ane jest dwie wartoÅ›ci z dwÃ³ch dodatkowych wÄ…tkÃ³w (klasa 
MainActivity): 
 
import androidx.appcompat.app.AppCompatActivity; 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Message; 
import android.widget.TextView; 
 
public class MainActivity extends AppCompatActivity { 
 
    Handler handler; // Obiekt handler sÅ‚uÅ¼y do przekazywania wiadomoÅ›ci pomiÄ™dzy wÄ…tkami 
    TextView textView1; 
    private TextView textView2; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        textView1 = (TextView) findViewById(R.id.textView1); 
        textView2 = (TextView) findViewById(R.id.textView2); 
 
        // W tym miejscu handler zdefiniowany jest jako odbiorca z metodÄ… handleMessage 
wywoÅ‚ywanÄ… wtedy, gdy nadchodzi wiadomoÅ›Ä‡ np. z innego wÄ…tku 
        handler = new Handler(Looper.myLooper()){ 
            @Override 
            public void handleMessage(Message msg) { 
                super.handleMessage(msg); 
 
                Bundle bundle = msg.getData(); 
                int licznik1 = bundle.getInt("LICZNIK_1"); 
                int licznik2 = bundle.getInt("LICZNIK_2"); 
 
                if(bundle.get("LICZNIK_1")!=null) 
                    textView1.setText("Licznik 1: "+licznik1); 
                if(bundle.get("LICZNIK_2")!=null) 
                    textView2.setText("Licznik 2: "+licznik2); 
            } 
        }; 
 
        // Instancja obiektu wÄ…tku stworzonego w oddzielnym pliku Watek2.java 
        new Watek2(handler); 
 
        // instancja obiektu wÄ…tku stworzonego w tej samej klasie, w ktÃ³rej obsÅ‚ugiwany jest 
interfejs uÅ¼ytkownika 
        new Thread (new Runnable() { 
            int licznik=0; 
 
            @Override 
            public void run() { 
                while(true){ 
                    try { 
                        licznik++; 
                        Message message = new Message();    // obiekt wiadomoÅ›ci 
                        message.obj=licznik;                // dodanie wartoÅ›ci do wiadomoÅ›ci 
                        Bundle bundle = new Bundle();       //"ToboÅ‚ek", do ktÃ³rego wrzucane bÄ™dÄ… dane 
przesyÅ‚ane handlerem. Bundle pozwala przesyÅ‚aÄ‡ dane w formie klucz â€“ wartoÅ›Ä‡, rÃ³Å¼nego 
typu. 
                        bundle.putInt("LICZNIK_1", licznik);// Wstawienie wartoÅ›ci licznika do obiektu 
bundle z kluczem "LICZNIK_1" 
                        message.setData(bundle);            // Wstawienie obiektu bundle do wiadomoÅ›ci 
                        handler.sendMessage(message);       // przesÅ‚anie wiadomoÅ›ci do Handlera 
 
                        Thread.sleep(1000);            // opÃ³Åºnienie 1 sekunda 
                    } catch (InterruptedException e) { 
                        e.printStackTrace(); 
                    } 
                } 
            } 
        }).start(); 
    } 
} 
 
Klasa zawierajÄ…cy oddzielny wÄ…tek (Watek2.java): 
 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Message; 
 
public class Watek2 implements Runnable { 
    Handler handler; 
    int licznik =0; 
    Thread thread; 
 
    Watek2(Handler handler){ 
        this.handler=handler; 
        thread=new Thread(this); 
        thread.start(); 
    } 
 
    @Override 
    public void run() { 
        while(true){ 
            licznik++; 
            Message message = new Message(); 
            message.obj=licznik; 
            Bundle bundle = new Bundle(); 
            bundle.putInt("LICZNIK_2", licznik); 
            message.setData(bundle); 
            handler.sendMessage(message); 
 
            try { 
                Thread.sleep(500); 
            } catch (InterruptedException e) { 
                e.printStackTrace(); 
            } 
        } 
    } 
} 
 
plik activity_main.xml: 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:orientation="vertical" 
    android:gravity="center" 
    tools:context=".MainActivity"> 
 
    <TextView 
    android:id="@+id/textView1" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:text="Czas 1" 
    android:textSize="32dp" 
    android:textColor="#00f"/> 
 
    <TextView 
        android:id="@+id/textView2" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Czas 2" 
        android:textSize="32dp" 
        android:textColor="#f00"/> 
 
</LinearLayout> 
 
â€¢ postInvalidate() 
 
Do odÅ›wieÅ¼enia wyglÄ…du widoku z innego wÄ…tku niÅ¼ UI sÅ‚uÅ¼y metoda postInvalidate(). 
Ustawia flagÄ™, Å¼e widok wymaga odÅ›wieÅ¼enia (ponownego narysowania). 
WysyÅ‚a to Å¼Ä…danie BEZPOÅšREDNIO do gÅ‚Ã³wnego wÄ…tku, nawet jeÅ›li wywoÅ‚asz jÄ… z wÄ…tku 
roboczego. 
Powoduje wywoÅ‚anie onDraw() w najbliÅ¼szym cyklu renderowania UI. 
 
--------------------------------------------------------------------------------------------------- 
âœ“ Executors 
  
Executors to klasa dostarczajÄ…ca gotowe pule wÄ…tkÃ³w, ktÃ³re: 
â€¢ zarzÄ…dzajÄ… tworzeniem i ponownym uÅ¼yciem wÄ…tkÃ³w, 
â€¢ automatycznie kolejkujÄ… zadania, 
â€¢ sÄ… bezpieczne i bardziej efektywne niÅ¼ rÄ™czne tworzenie wielu new Thread(). 
 
-  Executors - zarzÄ…dza wÄ…tkami za Ciebie. 
-  ExecutorService - wykonuje kod w tle. 
 
 
Najpopularniejsze typy ExecutorÃ³w: 
 
1. Single Thread Executor 
Jeden wÄ…tek, zadania wykonujÄ… siÄ™ po kolei: 
 
ExecutorService executor = Executors.newSingleThreadExecutor(); 
 
2. Fixed Thread Pool 
OkreÅ›lona liczba wÄ…tkÃ³w pracujÄ…cych rÃ³wnolegle: 
 
ExecutorService executor = Executors.newFixedThreadPool(4); 
 
3. Cached Thread Pool 
Tworzy nowe wÄ…tki dynamicznie, gdy ich potrzebuje: 
 
ExecutorService executor = Executors.newCachedThreadPool(); 
 
----------------------------------------------------------------------------------------------------------------- 
PrzykÅ‚ad wykorzystania klasy ExecutorService oraz Executors.newSingleThreadExecutor(): 
 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Looper; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.ExecutorService; 
import java.util.concurrent.Executors; 
 
public class MainActivity extends AppCompatActivity { 
    ExecutorService executor; 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
        TextView textView = findViewById(R.id.textView); 
         
        // Executor â€“ praca w tle 
         executor = Executors.newSingleThreadExecutor(); 
 
        // Handler â€“ do aktualizacji UI 
        Handler handler = new Handler(Looper.getMainLooper()); 
 
        executor.execute(new Runnable() { 
            @Override 
            public void run() { 
                // ---- [MÃ“J WÄ„TEK] ---- 
                // CiÄ™Å¼ka operacja (np. obliczenia, pobieranie danych) 
                String wynik = "Dane z wÄ…tku roboczego"; 
 
                // Przekazanie wyniku na wÄ…tek gÅ‚Ã³wny 
                handler.post(new Runnable() { 
                    @Override 
                    public void run() { 
                        // ---- [WÄ„TEK UI] ---- 
                        textView.setText(wynik); 
                    } 
                }); 
            } 
        }); 
    } 
 
    @Override 
    protected void onDestroy() { 
        super.onDestroy(); 
        // NiezbÄ™dne do poprawnego zamkniÄ™cia wÄ…tkÃ³w 
        if (executor != null) { 
            executor.shutdown(); 
        } 
} 
 
Dobrze jest wyÅ‚Ä…czyÄ‡ executor, kiedy Activity siÄ™ niszczy executor.shutdown(); 
 
----------------------------------------------------------------------------------------------------------------- 
PrzykÅ‚ad wykorzystania klasy ExecutorService oraz Executors.newFixedThreadPool(3): 
 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Looper; 
import android.os.SystemClock; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.ExecutorService; 
import java.util.concurrent.Executors; 
 
public class MainActivity extends AppCompatActivity { 
 
    ExecutorService executor; 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
        TextView textView = findViewById(R.id.textView); 
 
        executor = Executors.newFixedThreadPool(3); 
 
// Handler do aktualizacji UI 
        Handler uiHandler = new Handler(Looper.getMainLooper()); 
 
// Zadanie 1 
        executor.execute(new Runnable() { 
            @Override 
            public void run() { 
                // ---- WÄ…tek tÅ‚a ---- 
                int wynik1 = 10 + 20; // symulacja 
                SystemClock.sleep(1000); 
 
                uiHandler.post(() -> textView.append("Wynik 1: " + wynik1 + "\n")); 
            } 
        }); 
 
// Zadanie 2 
        executor.execute(new Runnable() { 
            @Override 
            public void run() { 
                // ---- WÄ…tek tÅ‚a ---- 
                String wynik2 = "Dane pobrane z serwera"; 
                SystemClock.sleep(1500); 
                uiHandler.post(() -> textView.append("Wynik 2: " + wynik2 + "\n")); 
            } 
        }); 
 
// Zadanie 3 
        executor.execute(new Runnable() { 
            @Override 
            public void run() { 
                // ---- WÄ…tek tÅ‚a ---- 
                double wynik3 = Math.sqrt(12345); 
                SystemClock.sleep(500); 
                uiHandler.post(() -> textView.append("Wynik 3: " + wynik3 + "\n")); 
            } 
        }); 
    } 
 
    @Override 
    protected void onDestroy() { 
        super.onDestroy(); 
        // NiezbÄ™dne do poprawnego zamkniÄ™cia wÄ…tkÃ³w 
        if (executor != null) { 
            executor.shutdown(); 
        } 
} 
 
JeÅ›li zadaÅ„ bÄ™dzie wiÄ™cej niÅ¼ wÄ…tkÃ³w (czyli 3 w naszym przykÅ‚adzie) NOWE zadania NIE 
utworzÄ… nowych wÄ…tkÃ³w. ZostanÄ… umieszczone w kolejce i bÄ™dÄ… czekaÄ‡, aÅ¼ zwolni siÄ™ 
ktÃ³ryÅ› z 3 wÄ…tkÃ³w. 
Czyli zadania nie zginÄ…, nic siÄ™ nie wysypie â€” po prostu bÄ™dÄ… wykonane pÃ³Åºniej. 
 
----------------------------------------------------------------------------------------------------------------- 
PrzykÅ‚ad uÅ¼ycia ExecutorService + Future + Callable w Androidzie (Java). 
To jeden ze sposobÃ³w na wykonanie zadania w tle i odebranie wartoÅ›ci zwrotnej. 
PrzykÅ‚ad: wykonywanie zadaÅ„ w tle i pobieranie wynikÃ³w przez Future 
 
- Callable - pozwala zwrÃ³ciÄ‡ wartoÅ›Ä‡ 
- Future - odbieramy wynik, gdy zadanie siÄ™ wykona 
- Handler(Looper.getMainLooper()) - bezpieczna aktualizacja UI 
 
Future stosujemy zawsze wtedy, gdy chcemy uruchomiÄ‡ zadanie w tle i ODEBRAÄ† od niego 
wynik. 
W przeciwieÅ„stwie do Runnable, ktÃ³ry niczego nie zwraca â€” Future umoÅ¼liwia: 
â€¢ odebranie wartoÅ›ci zwrotnej, 
â€¢ sprawdzenie czy zadanie zostaÅ‚o wykonane, 
â€¢ anulowanie go, 
â€¢ czekanie na wynik z timeoutem. 
To sprawia, Å¼e Future jest idealne do zadaÅ„, ktÃ³re coÅ› zwracajÄ…, np. dane z sieci, wynik 
obliczeÅ„, treÅ›Ä‡ pliku itd. 
 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Looper; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.Callable; 
import java.util.concurrent.ExecutorService; 
import java.util.concurrent.Executors; 
import java.util.concurrent.Future; 
 
public class MainActivity extends AppCompatActivity { 
    ExecutorService executor; 
    
 protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
        TextView textView = findViewById(R.id.textView); 
 
        executor = Executors.newSingleThreadExecutor(); 
        Handler uiHandler = new Handler(Looper.getMainLooper()); 
 
 
// Zadanie zwracajÄ…ce wynik 
        Callable<String> zadanie = new Callable<String>() { 
            @Override 
            public String call() throws Exception { 
                Thread.sleep(1500); // symulacja ciÄ™Å¼kiej pracy 
                return "Wynik z wÄ…tku: " + (10 + 20); 
            } 
        }; 
 
// WysyÅ‚amy zadanie i dostajemy Future 
        Future<String> future = executor.submit(zadanie); 
 
 
// Osobny wÄ…tek sprawdza wynik Future (Å¼eby nie blokowaÄ‡ UI) 
        executor.execute(new Runnable() { 
            @Override 
            public void run() { 
                try { 
                    // Blokuje tylko WÄ„TEK TÅA, nie UI 
                    String wynik = future.get(); 
 
                    // Przekazanie wyniku na wÄ…tek gÅ‚Ã³wny 
                    uiHandler.post(() -> { 
                        textView.setText(wynik); 
                    }); 
 
                } catch (Exception e) { 
                    e.printStackTrace(); 
                } 
            } 
        }); 
    } 
    @Override 
    protected void onDestroy() { 
        super.onDestroy(); 
        // NiezbÄ™dne do poprawnego zamkniÄ™cia wÄ…tkÃ³w 
        if (executor != null) { 
            executor.shutdown(); 
        } 
} 
Wersja z lambda:  
 
import android.os.Bundle; 
import android.os.Handler; 
import android.os.Looper; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.Callable; 
import java.util.concurrent.ExecutorService; 
import java.util.concurrent.Executors; 
import java.util.concurrent.Future; 
 
public class MainActivity extends AppCompatActivity { 
    ExecutorService executor; 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
        TextView textView = findViewById(R.id.textView); 
 
 
        executor = Executors.newSingleThreadExecutor(); 
        Handler uiHandler = new Handler(Looper.getMainLooper()); 
 
        // Lambda dla zadania (Callable) 
        Callable<String> zadanie = () -> { 
            Thread.sleep(1500); // symulacja ciÄ™Å¼kiej pracy 
            return "Wynik z wÄ…tku (Lambda): " + (10 + 20); 
        }; 
 
        Future<String> future = executor.submit(zadanie); 
 
        // Lambda dla wÄ…tku sprawdzajÄ…cego wynik (Runnable) 
        executor.execute(() -> { 
            try { 
                String wynik = future.get(); 
 
                // Lambda dla Handler.post (aktualizacja UI) 
                uiHandler.post(() -> textView.setText(wynik)); 
 
            } catch (Exception e) { 
                e.printStackTrace(); 
            } 
        }); 
    } 
 
    @Override 
    protected void onDestroy() { 
        super.onDestroy(); 
        // NiezbÄ™dne do poprawnego zamkniÄ™cia wÄ…tkÃ³w 
        if (executor != null) { 
            executor.shutdown(); 
        } 
    } 
 
 
Future uÅ¼ywany gdy: 
 
1. Zadanie zwraca wartoÅ›Ä‡ 
Np. pobieranie danych z API, z pliku, z bazy: 
 
Future<String> wynik = executor.submit(() -> pobierzDane()); 
 
2. Chcemy poczekaÄ‡ na wynik â€” ale nie w UI Thread 
 
String dane = future.get(); // oczekiwanie na zakoÅ„czenie 
 
3. Chcemy anulowaÄ‡ zadanie 
 
future.cancel(true); 
 
4. Chcemy sprawdziÄ‡, czy zadanie siÄ™ skoÅ„czyÅ‚o 
 
if (future.isDone()) { ... } 
 
5. Potrzebujemy timeout-u 
 
future.get(2, TimeUnit.SECONDS); 
 
JeÅ›li zadanie siÄ™ nie wykona w 2 sekundy pojawi siÄ™ wyjÄ…tek TimeoutException. 
 
NajwaÅ¼niejsza rÃ³Å¼nica miÄ™dzy Future, a Runnable polega na tym Å¼e Future gwarantuje wynik a 
Runntime nie.  
 
---------------------------------------------------------------------------------------- 
Inny sposÃ³b na zwracanie wartoÅ›ci i przekazywanie wyniku do wÄ…tku gÅ‚Ã³wnego. 
Wykorzystanie klasy CompletableFuture oraz wykorzystanie puli wÄ…tkÃ³w systemowych przez 
mechanizm ForkJoinPool  
 
CompletableFuture 
        .supplyAsync(() -> { 
            try { 
                Thread.sleep(1500); 
            } catch (InterruptedException e) { 
                throw new RuntimeException(e); 
            } 
            return "Wynik: " + (10 + 20); 
        }) 
        .thenAccept(result -> 
                runOnUiThread(() -> textView.setText(result)) 
        ); 
 
To samo bez lambdy: 
 
CompletableFuture.supplyAsync(new Supplier<String>() { 
    @Override 
    public String get() { 
        try { 
            Thread.sleep(1500); 
        } catch (InterruptedException e) { 
            e.printStackTrace(); 
        } 
        return "Wynik: " + (10 + 20); 
    } 
}).thenAccept(new Consumer<String>() { 
    @Override 
    public void accept(final String result) { 
 
        runOnUiThread(new Runnable() { 
            @Override 
            public void run() { 
                textView.setText(result); 
            } 
        }); 
    } 
}); 
 
---------------------------------------------------------------------------------------------------------------------
------- 
---------------------------------------------------------------------------------------------------------------------
------- 
PrzykÅ‚ad wykorzystania klasy  CompletableFuture,  ExecutorService oraz 
Executors.newFixedThreadPool(3): 
 
PoniÅ¼szy przykÅ‚ad wykorzystuje klasÄ™  CompletableFuture oraz wÅ‚asnÄ… pulÄ™ wÄ…tkÃ³w 
zarzÄ…dzanych przez  ExecutorService. 
Jest zalecana metoda programowania wielowÄ…tkowego.   
 
package com.example.localdatabaseroom; 
import android.os.Bundle; 
import android.os.SystemClock; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.CompletableFuture; 
import java.util.concurrent.ExecutorService; 
import java.util.concurrent.Executors; 
 
public class MainActivity extends AppCompatActivity { 
 
    private TextView textView; 
    // Pula wÄ…tkÃ³w dla 3 rÃ³wnolegÅ‚ych zadaÅ„ 
    private ExecutorService executor = Executors.newFixedThreadPool(3); 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        textView = findViewById(R.id.textView); 
        textView.setText("--- ROZPOCZÄ˜TO PRACÄ˜ ASYNCHRONICZNÄ„ (UI PÅYNNE) ---\n"); 
 
        // ZADANIE 1 (1000 ms) 
        CompletableFuture 
                .supplyAsync(() -> { 
                    SystemClock.sleep(1000); 
                    return 10 + 20; 
                }, executor) 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 1 (1000ms): Liczba: " + wynik + "\n")) 
                ); 
 
        // ZADANIE 2 (1500 ms) 
        CompletableFuture 
                .supplyAsync(() -> { 
                    SystemClock.sleep(1500); 
                    return "Dane pobrane z serwera"; 
                }, executor) 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 2 (1500ms): Tekst: " + wynik + "\n")) 
                ); 
 
        // ZADANIE 3 (500 ms) 
        CompletableFuture 
                .supplyAsync(() -> { 
                    SystemClock.sleep(500); 
                    return Math.sqrt(12345); 
                }, executor) 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 3 (500ms): Pierwiastek: " + wynik + 
"\n")) 
                ); 
    } 
 
    @Override 
    protected void onDestroy() { 
        super.onDestroy(); 
        // ZAWSZE zamykaj pulÄ™ wÄ…tkÃ³w, aby uniknÄ…Ä‡ wyciekÃ³w pamiÄ™ci 
        if (executor != null) { 
            executor.shutdown(); 
        } 
    } 
} 
 
---------------------------------------------------------------------------------------------------------------------
----- 
PoniÅ¼szy przykÅ‚ad nie jest zalecany dla androida poniewaÅ¼ wykorzystuje pulÄ™ wÄ…tkÃ³w 
systemowych ForkJoinPool.commonPool.  
 
- Nadal uÅ¼ywana jest pula wÄ…tkÃ³w, ale jest to pula systemowa, wspÃ³lna dla caÅ‚ej maszyny 
wirtualnej Javy. 
- Liczba wÄ…tkÃ³w jest zdeterminowana przez liczbÄ™ rdzeni procesora w urzÄ…dzeniu. 
- Tracisz kontrolÄ™ nad pulÄ… (nie moÅ¼esz jej zamknÄ…Ä‡, nie wiesz, jakie inne zadania z niej 
korzystajÄ…). 
 
Thread (klasa java.lang.Thread) sam w sobie nie jest wÄ…tkiem z puli 
ForkJoinPool.commonPool(). 
 
1. WÄ…tek Systemowy (OS Thread / WÄ…tek Natywny) 
WÄ…tek systemowy to natywny zasÃ³b zarzÄ…dzany bezpoÅ›rednio przez jÄ…dro systemu 
operacyjnego (np. Linux, Windows, Android). 
â€¢ Implementacja: Stanowi rzeczywistÄ… jednostkÄ™ wykonawczÄ…, ktÃ³rÄ… system operacyjny 
planuje i przydziela jej czas procesora. 
â€¢ Koszty: Tworzenie, niszczenie i przeÅ‚Ä…czanie kontekstu wÄ…tkÃ³w systemowych jest 
operacjÄ… kosztownÄ… (ang. heavyweight). 
â€¢ Android: W Androidzie wszystkie zadania asynchroniczne, w tym te z ExecutorService 
czy tradycyjne Thread, sÄ… ostatecznie realizowane przez wÄ…tki systemowe. 
 
2. ExecutorService (MenedÅ¼er) 
ExecutorService to interfejs. Jest menedÅ¼erem, ktÃ³ry odrywa CiÄ™ od rÄ™cznego tworzenia 
Thread. Przyjmuje zadania do kolejki i recyklingu juÅ¼ istniejÄ…ce wÄ…tki, zamiast tworzyÄ‡ je od 
nowa, co znacznie zwiÄ™ksza wydajnoÅ›Ä‡. 
 
3. ForkJoinPool (Specjalista) 
To jest wyspecjalizowana implementacja interfejsu ExecutorService. Jest zaprojektowany 
do: 
â€¢ Åamania duÅ¼ych problemÃ³w na maÅ‚e. 
â€¢ Maksymalizacji uÅ¼ycia CPU dziÄ™ki algorytmowi "Work Stealing" (bezczynny wÄ…tek 
kradnie pracÄ™ od zajÄ™tego wÄ…tku). 
Jest to idealny wybÃ³r dla operacji obliczeniowych (np. sortowanie duÅ¼ych tablic), ale zÅ‚y 
dla zadaÅ„ blokujÄ…cych (np. operacji sieciowych). 
 
â€¢ ForkJoinPool to mechanizm zarzÄ…dzajÄ…cy pulÄ… wÄ…tkÃ³w, ktÃ³re zostaÅ‚y juÅ¼ utworzone i sÄ… 
wspÃ³Å‚dzielone (recyklingowane) przez wiele zadaÅ„. 
â€¢ Jest on uÅ¼ywany domyÅ›lnie przez nowoczesne mechanizmy Javy, takie jak 
CompletableFuture, gdy nie podasz wÅ‚asnego ExecutorService. 
â€¢ Koszty: Uruchomienie zadania w puli jest szybkie i tanie, poniewaÅ¼ system nie musi 
tworzyÄ‡ nowego wÄ…tku OS; uÅ¼ywa juÅ¼ istniejÄ…cego, bezczynnego wÄ…tku z puli. 
â€¢ Zastosowanie: Idealny do zadaÅ„ intensywnie korzystajÄ…cych z CPU (obliczenia). 
 
 
Thread tworzy wÄ…tek 
ForkJoinPool zarzÄ…dza grupÄ… wÄ…tkÃ³w, ktÃ³re juÅ¼ istniejÄ…. 
 
 
Dlaczego Podajemy WÅ‚asny ExecutorService 
 
Gdy nie podasz wÅ‚asnego ExecutorService (czyli uÅ¼yjesz tylko supplyAsync(zadanie)), 
CompletableFuture domyÅ›lnie uÅ¼yje ForkJoinPool.commonPool(). 
 
Podanie wÅ‚asnego wykonawcy daje Ci kilka kluczowych korzyÅ›ci i kontroli: 
1. Kontrola nad Zasobami (Izolacja) 
â€¢ Cel: Izolowanie rÃ³Å¼nych typÃ³w pracy. 
â€¢ Dla operacji I/O (blokujÄ…cych): Tworzysz pulÄ™ z nieograniczonÄ… (lub duÅ¼Ä…) liczbÄ… 
wÄ…tkÃ³w, np. Executors.newCachedThreadPool() lub 
Executors.newFixedThreadPool(20). Jest to bezpieczniejsze, poniewaÅ¼ blokujÄ…ce 
zadania (np. operacje sieciowe, zapis do bazy danych, Thread.sleep) nie zablokujÄ… 
systemowej puli commonPool(), ktÃ³ra jest przeznaczona dla zadaÅ„ obliczeniowych. 
â€¢ Dla operacji obliczeniowych (CPU-bound): Tworzysz pulÄ™ dopasowanÄ… do liczby 
rdzeni, np. 
Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors()). 
 
2. ZarzÄ…dzanie Cyklem Å»ycia  
â€¢ Cel: Zapobieganie wyciekom pamiÄ™ci. 
â€¢ W Androidzie i Javie standardowy ForkJoinPool.commonPool() dziaÅ‚a tak dÅ‚ugo, jak 
dÅ‚ugo dziaÅ‚a program, i nie moÅ¼esz go zamknÄ…Ä‡. 
â€¢ TworzÄ…c wÅ‚asny ExecutorService, musisz i moÅ¼esz go zamknÄ…Ä‡ (executor.shutdown()) 
w odpowiednim momencie (np. w metodzie onDestroy() aktywnoÅ›ci Androida). To 
kluczowe, aby wÄ…tki nie dziaÅ‚aÅ‚y w tle po zamkniÄ™ciu komponentu, co prowadziÅ‚oby do 
wyciekÃ³w pamiÄ™ci. 
 
3. WpÅ‚yw na Nowoczesne WÄ…tki  
â€¢ GdybyÅ› pracowaÅ‚ w nowszej Javie (21+), podanie wykonawcy 
Executors.newVirtualThreadPerTaskExecutor() jest jedynym sposobem na jawne 
uruchomienie zadania na wÄ…tku wirtualnym, co zapewnia ekstremalnÄ… skalowalnoÅ›Ä‡. 
 
package com.example.localdatabaseroom; 
 
import android.os.Bundle; 
import android.os.SystemClock; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import java.util.concurrent.CompletableFuture; 
// UWAGA: UsuniÄ™to importy dla ExecutorService i Executors 
 
public class MainActivity extends AppCompatActivity { 
 
    private TextView textView; 
    // USUNIÄ˜TO: DefinicjÄ™ ExecutorService 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        textView = findViewById(R.id.textView); 
        textView.setText("--- ROZPOCZÄ˜TO PRACÄ˜ ASYNCHRONICZNÄ„ (UÅ»YTO commonPool) ---
\n"); 
 
        // ZADANIE 1 (1000 ms) 
        CompletableFuture 
                // supplyAsync BEZ argumentu ExecutorService 
                .supplyAsync(() -> { 
                    SystemClock.sleep(1000); 
                    return 10 + 20; 
                }) // UsuÅ„ ', executor' 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 1 (1000ms): Liczba: " + wynik + "\n")) 
                ); 
 
        // ZADANIE 2 (1500 ms) 
        CompletableFuture 
                // supplyAsync BEZ argumentu ExecutorService 
                .supplyAsync(() -> { 
                    SystemClock.sleep(1500); 
                    return "Dane pobrane z serwera"; 
                }) // UsuÅ„ ', executor' 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 2 (1500ms): Tekst: " + wynik + "\n")) 
                ); 
 
        // ZADANIE 3 (500 ms) 
        CompletableFuture 
                // supplyAsync BEZ argumentu ExecutorService 
                .supplyAsync(() -> { 
                    SystemClock.sleep(500); 
                    return Math.sqrt(12345); 
                }) // UsuÅ„ ', executor' 
                .thenAccept(wynik -> 
                        runOnUiThread(() -> textView.append("Wynik 3 (500ms): Pierwiastek: " + wynik + 
"\n")) 
                ); 
    } 
 
    // USUNIÄ˜TO: MetodÄ™ onDestroy, poniewaÅ¼ nie ma wÅ‚asnego ExecutorService do 
zamkniÄ™cia. 
} 
 
---------------------------------------------------------------------------------------------------------------------
- 
4. Zadania  
 
Zadanie 1.  
Napisz aplikacjÄ™ realizujÄ…cÄ… funkcje stopera. Wymagane funkcje to: 
- start stopera,  
- stop stopera,  
- kasowanie wyniku.  
 
Zadanie 2. 
Zaprojektuj i napisz aplikacjÄ™ realizujÄ…cÄ… funkcje stopera z moÅ¼liwoÅ›ciÄ… pomiaru kilku 
wynikÃ³w jednoczeÅ›nie. UÅ¼yj mechanizmu ExecutorService.  
 
 
 

--- END OF am7.pdf ---

--- START OF am8.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  8 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: ObsÅ‚uga lokalnej bazy danych SQLite â€“ Room oraz 
SQLiteOpenHelper 
Tryb studiÃ³w: 
stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
1. TreÅ›ci programowe:   
Baza danych SQLite, bibliotekÄ™ Room Persistence Library, encje, DAO  (Data Access 
Objects), pobieranie, zapisywanie danych oraz starszej metody SQLiteOpenHelper.  
 
2. Cel zajÄ™Ä‡:  
Celem zajÄ™Ä‡ jest poznanie mechanizmu zarzÄ…dzania informacjami w lokalnej bazie danych 
SQLite uÅ¼ywajÄ…c architektury Room.  
 
3. MateriaÅ‚y dydaktyczne  
SQLite jest bardzo â€lekkimâ€, darmowym systemem zarzÄ…dzania relacyjnÄ… bazÄ… danych 
wykorzystujÄ…cym bibliotekÄ™ napisanÄ… w jÄ™zyku C pozwalajÄ…ca na uÅ¼ywanie jÄ™zyka SQL. 
System uruchamia bazÄ™ danych bez uruchamiania oddzielnego procesu. Jest to podstawa do 
uÅ¼ywania go np. w systemach wbudowanych. Wszystko co jest potrzebne znajdujÄ™ siÄ™ w 
jednym pliku. ProgramujÄ…c w systemie operacyjnym Android moÅ¼emy uÅ¼ywaÄ‡ SQLite bez 
instalowania dodatkowych sterownikÃ³w. BazÄ™ tÄ… moÅ¼emy uÅ¼ywaÄ‡ rÃ³wnieÅ¼ w aplikacjach 
desktopowych w rÃ³Å¼nych jÄ™zykach programowania. SQLite jest rekomendowane przez 
Google jako lokalna baza danych.      
 
Dokumentacja: https://developer.android.com/training/data-storage/room#kts  
 
âœ“ Room 
 
â€¢ Abstrakcja nad SQLite: Room zapewnia warstwÄ™ abstrakcji nad standardowÄ… bazÄ… 
danych SQLite w systemie Android. DziÄ™ki temu praca z danymi staje siÄ™ Å‚atwiejsza, 
bardziej bezpieczna i mniej podatna na bÅ‚Ä™dy niÅ¼ bezpoÅ›rednie uÅ¼ywanie surowych 
zapytaÅ„ SQL. 
 
â€¢ Weryfikacja w Czasie Kompilacji: KluczowÄ… zaletÄ… Room jest to, Å¼e weryfikuje 
zapytania SQL podczas kompilacji. Oznacza to, Å¼e bÅ‚Ä™dy w skÅ‚adni zapytaÅ„ zostanÄ… 
wykryte natychmiast, a nie dopiero podczas dziaÅ‚ania aplikacji, co znacznie 
przyspiesza debugowanie. 
 
â€¢ Trzy GÅ‚Ã³wne Komponenty: DziaÅ‚anie Room opiera siÄ™ na trzech elementach: Encjach 
(@Entity, ktÃ³re definiujÄ… tabele), DAO (Data Access Objects, ktÃ³re zawierajÄ… metody 

dostÄ™pu do danych, np. @Query, @Insert) oraz Klasie Bazy Danych (@Database, 
ktÃ³ra Å‚Ä…czy resztÄ™). 
 
â€¢ Integracja z LiveData/Flow: Room doskonale integruje siÄ™ z innymi komponentami 
Androida, takimi jak LiveData i Kotlin Flow, umoÅ¼liwiajÄ…c tworzenie reaktywnych baz 
danych, ktÃ³re automatycznie aktualizujÄ… interfejs uÅ¼ytkownika, gdy dane w bazie siÄ™ 
zmieniajÄ…. 
 
Room zostaÅ‚ stworzony, aby pomÃ³c deweloperom w tworzeniu solidnych, skalowalnych i 
Å‚atwych w utrzymaniu baz danych na platformie Android. 
 
NiezbÄ™dne zaleÅ¼noÅ›ci (kotlin):  
val room_version = "2.8.3" 
implementation("androidx.room:room-runtime:$room_version") 
annotationProcessor("androidx.room:room-compiler:$room_version") 
 
 
I. Entity  
 
1. Adnotacja @Entity 
â€¢ Umieszczona nad klasÄ… (User). 
â€¢ Informuje Room, Å¼e ta klasa reprezentuje tabelÄ™ w bazie danych SQLite. 
â€¢ Argument tableName = "users" (opcjonalny) pozwala okreÅ›liÄ‡, jak ma nazywaÄ‡ siÄ™ 
tabela. JeÅ›li go pominiemy, Room uÅ¼yje domyÅ›lnej nazwy, czyli nazwy klasy (User). 
 
2. Adnotacja @PrimaryKey 
â€¢ Musi byÄ‡ przypisana do dokÅ‚adnie jednego pola w kaÅ¼dej encji. To pole bÄ™dzie 
kluczem gÅ‚Ã³wnym tabeli, co zapewnia unikalnoÅ›Ä‡ kaÅ¼dego rekordu (wiersza). 
â€¢ Argument autoGenerate = true nakazuje SQLite automatyczne generowanie 
unikalnych, przyrostowych wartoÅ›ci dla tego klucza za kaÅ¼dym razem, gdy nowy rekord 
jest wstawiany do tabeli. 
  
public class User { 
    @PrimaryKey(autoGenerate = true) 
    private int id; 
} 
 
Definicja klucza zÅ‚oÅ¼onego klucza gÅ‚Ã³wnego primaryKeys: 
 
@Entity(primaryKeys = {"firstName", "lastName"}) 
public class User { 
    public String firstName; 
    public String lastName; 
} 
 
3. Adnotacja @ColumnInfo 
â€¢ Umieszczona nad polami klasy, ktÃ³re majÄ… byÄ‡ przechowywane jako kolumny w tabeli. 
â€¢ Argument name = "first_name" (opcjonalny) pozwala okreÅ›liÄ‡ nazwÄ™ kolumny w bazie 
danych. JeÅ›li go pominiemy, Room uÅ¼yje domyÅ›lnej nazwy, czyli nazwy pola 
(firstName). 
â€¢ Pola bez tej adnotacji (ale bÄ™dÄ…ce czÄ™Å›ciÄ… encji) rÃ³wnieÅ¼ stajÄ… siÄ™ kolumnami, ale 
uÅ¼ycie @ColumnInfo jest zalecane dla lepszej czytelnoÅ›ci i kontroli nazw. 
 
@ColumnInfo(name = "first_name") 
private String firstName; 
 
@ColumnInfo(name = "last_name") 
private String lastName; 
 
4. Adnotacja @Ignore 
 
@Entity 
public class User { 
    @PrimaryKey 
    public int id; 
 
    public String firstName; 
    public String lastName; 
 
    @Ignore 
    Bitmap picture; 
} 
 
Gdy klasa gÅ‚Ã³wna dziedziczy pola z klasy nadrzÄ™dnej, zazwyczaj Å‚atwiej jest 
uÅ¼yÄ‡ ignoredColumn wÅ‚aÅ›ciwoÅ›ci atrybutu @Entity 
 
@Entity(ignoredColumns = "picture")  
public class RemoteUser extends User { 
    @PrimaryKey 
    public int id; 
 
    public boolean hasVpn; 
} 
 
------------------------------------------------------------------------ 
Obiekt reprezentujÄ…cy tabelÄ™ â€“ jednostka danych entitiy:  
 
Plik User.java  
 
import androidx.room.ColumnInfo; 
import androidx.room.Entity; 
import androidx.room.PrimaryKey; 
 
// 1. OkreÅ›lamy nazwÄ™ tabeli w bazie danych 
@Entity(tableName = "users") 
public class User { 
 
    // 2. Definicja Klucza GÅ‚Ã³wnego (Primary Key) 
    // autoGenerate = true oznacza, Å¼e SQLite automatycznie wygeneruje unikalny ID 
    @PrimaryKey(autoGenerate = true) 
    private int id; 
 
    // 3. Definicja kolumn tabeli 
    // OkreÅ›lamy nazwÄ™ kolumny w bazie 
    @ColumnInfo(name = "first_name") 
    private String firstName; 
 
    @ColumnInfo(name = "last_name") 
    private String lastName; 
 
    @ColumnInfo(name = "age") 
    private int age;  
    // Konstruktor do tworzenia obiektu 
    // Room uÅ¼yje tego konstruktora do wstawiania danych do bazy 
    // oraz do odczytu danych z bazy (lub konstruktora bez argumentÃ³w, jeÅ›li jest obecny) 
    public User(String firstName, String lastName, int age) { 
        this.firstName = firstName; 
        this.lastName = lastName; 
        this.age = age; 
    } 
 
    // --- Gettery i Settery --- 
    // W Javie sÄ… one niezbÄ™dne, aby Room mÃ³gÅ‚ odczytywaÄ‡ i ustawiaÄ‡ wartoÅ›ci pÃ³l. 
    public int getId() { 
        return id; 
    } 
    // Room wymaga settera dla Primary Key, jeÅ›li uÅ¼ywamy autoGenerate = true 
    public void setId(int id) { 
        this.id = id; 
    } 
    public String getFirstName() { 
        return firstName; 
    } 
    public void setFirstName(String firstName) { 
        this.firstName = firstName; 
    } 
    public String getLastName() { 
        return lastName; 
    } 
    public void setLastName(String lastName) { 
        this.lastName = lastName; 
    } 
    public int getAge() { 
        return age; 
    } 
   public void setAge(int age) { 
        this.age = age; 
    } 
} 
 
 
II. GÅ‚Ã³wny punkt dostÄ™pu    
 
PoniÅ¼szy kod definiuje klasÄ™ AppDatabase, ktÃ³ra jest gÅ‚Ã³wnym punktem dostÄ™pu i 
konfiguracji dla bazy danych Room w systemie Android.  
AppDatabase jest centralnÄ… klasÄ…, ktÃ³ra Å‚Ä…czy Twoje encje (User) i DAO (UserDao), 
zarzÄ…dzajÄ…c bazÄ… danych SQLite. 
 
Plik AppDatabase.java 
 
 
import androidx.room.Database; 
import androidx.room.RoomDatabase; 
 
@Database(entities = {User.class}, version = 2) 
public abstract class AppDatabase extends RoomDatabase { 
    public abstract UserDao userDao(); 
} 
 
 
Element Opis 
extends 
RoomDatabase 
Abstrakcyjna klasa bazy danych Room. Room automatycznie 
generuje jej implementacjÄ™ podczas kompilacji. 
@Database(...) Adnotacja konfigurujÄ…ca bazÄ™ danych. 
entities = {User.class} 
OkreÅ›la, Å¼e w tej bazie danych znajduje siÄ™ jedna tabela, 
reprezentowana przez encjÄ™ User. JeÅ›li byÅ‚oby wiÄ™cej tabel, 
byÅ‚yby one tutaj wymienione. 
version = 1 
Ustala wersjÄ™ schematu bazy danych. Wymaga zwiÄ™kszenia 
tego numeru, jeÅ›li zmieniasz strukturÄ™ tabel (np. dodajesz 
kolumny), co wymusza uruchomienie migracji. 
public abstract 
UserDao userDao(); 
Abstrakcyjna metoda sÅ‚uÅ¼Ä…ca do uzyskiwania dostÄ™pu do DAO 
(UserDao). Pozwala to na wykonywanie operacji na danych 
(zapytaÅ„) w tabeli User. 
 
 
III. DAO (Data Access Objects)   
 
DAO (ang. Data Access Object â€“ Obiekt DostÄ™pu do Danych) to wzorzec projektowy w 
programowaniu oraz kluczowy komponent biblioteki Room w systemie Android. 
 
â€¢ Definicja: Jest to interfejs (lub klasa abstrakcyjna), ktÃ³ry definiuje i grupuje wszystkie 
operacje (metody) potrzebne do interakcji z konkretnÄ… tabelÄ… (encjÄ…) w bazie danych. 
â€¢ Rola: DziaÅ‚a jako poÅ›rednik miÄ™dzy logikÄ… biznesowÄ… Twojej aplikacji a bazÄ… danych. 
Zamiast pisaÄ‡ surowe zapytania SQL w kodzie aplikacji, uÅ¼ywasz prostych metod 
zdefiniowanych w DAO (np. insertUser(user), getAllUsers()). 
â€¢ W Room: W bibliotece Room, DAO jest definiowane jako interfejs z adnotacjÄ… @Dao, 
a metody w nim sÄ… opatrzone adnotacjami takimi jak @Insert, @Query, @Update i 
@Delete. 
 
DAO to "sÅ‚ownik" lub "katalog" wszystkich operacji, ktÃ³re moÅ¼esz wykonaÄ‡ na danych w 
swojej bazie, oddzielajÄ…c w ten sposÃ³b logikÄ™ dostÄ™pu do danych od reszty aplikacji. 
 
-------------------------------------------------------------------------------------------- 
PrzykÅ‚ad pokazujÄ…cy deklaracjÄ™ interfejsu do obsÅ‚ugi danych reprezentowanych przez klasÄ™ 
User: 
 
Plik UserDao.java 
 
import androidx.lifecycle.LiveData; 
import androidx.room.Dao; 
import androidx.room.Delete; 
import androidx.room.Insert; 
import androidx.room.Query; 
import androidx.room.Update; 
import java.util.List; 
 
// Adnotacja @Dao oznacza, Å¼e ten interfejs jest Data Access Object dla Room 
@Dao 
public interface UserDao { 
 
    /** 
     * Wstawia jednego lub wiÄ™cej uÅ¼ytkownikÃ³w do bazy danych. 
     * @param user UÅ¼ytkownik do wstawienia. 
     * @return Zwraca ID nowo wstawionego wiersza. 
     */ 
    @Insert 
    long insert(User user); 
 
    /** 
     * Wstawia wielu uÅ¼ytkownikÃ³w do bazy danych. 
     * @param user obiekty uÅ¼ytkownikÃ³w do wstawienia. 
     */ 
    @Insert 
    void insertUsers(User ... user); 
 
    /** 
     * Wstawia wielu uÅ¼ytkownikÃ³w do bazy danych. 
     * @param users jest listÄ… uÅ¼ytkownikÃ³w do wstawienia. 
     */ 
    @Insert 
    void insertAll(List<User> users); 
 
    /** 
     * Aktualizuje istniejÄ…cego uÅ¼ytkownika. 
     * @param user UÅ¼ytkownik do zaktualizowania (zgodnie z jego ID). 
     * @return Liczba zaktualizowanych wierszy (zazwyczaj 1). 
     */ 
    @Update 
    int update(User user); 
 
    /** 
     * Usuwa uÅ¼ytkownika z bazy danych. 
     * @param user UÅ¼ytkownik do usuniÄ™cia. 
     * @return Liczba usuniÄ™tych wierszy (zazwyczaj 1). 
     */ 
    @Delete 
    int delete(User user); 
 
    // --- Metody zapytaÅ„ 
    /** 
     * Pobiera wszystkich uÅ¼ytkownikÃ³w z tabeli "users". 
     * Zwraca ListÄ™ obiektÃ³w User. 
     */ 
    @Query("SELECT * FROM users ORDER BY last_name ASC") 
    List<User> getAllUsersList(); 
 
    /** 
     * Pobiera wszystkich uÅ¼ytkownikÃ³w z tabeli "users". 
     * Zwraca LiveData, aby umoÅ¼liwiÄ‡ reaktywne obserwowanie zmian w danych. 
     */ 
    @Query("SELECT * FROM users ORDER BY last_name ASC") 
    LiveData<List<User>> getAllUsers(); 
 
    /** 
     * Pobiera pojedynczego uÅ¼ytkownika na podstawie jego ID. 
     * @param userId ID uÅ¼ytkownika. 
     * @return Obiekt User lub null, jeÅ›li nie znaleziono. 
     */ 
    @Query("SELECT * FROM users WHERE id = :userId") 
    User getUserById(int userId); 
 
    /** 
     * Usuwa wszystkie rekordy z tabeli "users". 
     */ 
    @Query("DELETE FROM users") 
    void deleteAll(); 
} 
 
IV. Room Database   
 
Utworzenie instancji bazy danych oraz wykorzystanie zadeklarowanych wczeÅ›niej zasobÃ³w:  
 
Plik MainActivity.java 
 
import android.os.Bundle; 
import android.widget.TextView; 
import androidx.appcompat.app.AppCompatActivity; 
import androidx.room.Room; 
import java.util.ArrayList; 
import java.util.List; 
 
public class MainActivity extends AppCompatActivity { 
 
    private TextView textView; 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        textView = findViewById(R.id.textView); 
 
         // Utworzenie obiektu db reprezentujÄ…cego bazÄ™ danych â€bazaâ€ 
        AppDatabase db = Room.databaseBuilder(getApplicationContext(), 
                AppDatabase.class, "baza").build(); 
 
        // Uchwyt do zasobÃ³w DAO  
        UserDao userDao = db.userDao(); 
 
        new Thread(new Runnable() { 
            @Override 
            public void run() { 
 
//                userDao.deleteAll(); 
                User user1 = new User("Jan", "Ptak", 33); 
                userDao.insert(user1); 
// 
//                user1.setFirstName("Janusz"); 
//                user1.setId(1); 
//                userDao.update(user1); 
 
                User user2 = new User("Wincenty", "Kowalski", 22); 
                User user3 = new User("Monika", "Nowak", 49); 
                userDao.insertUsers(user2, user3); 
 
                User user4 = new User("Mariola", "Zychowaska", 23); 
                User user5 = new User("Monika", "Nowakowska", 44); 
                List<User> lista = new ArrayList<>(); 
                lista.add(user4); 
                lista.add(user5); 
                userDao.insertAll(lista); 
 
                User userNew = userDao.getUserById(1); 
                if (userNew!=null) { 
                    String dane = userNew.toString(); 
                    runOnUiThread(() -> textView.setText(dane)); 
                } 
 
                List<User> users = userDao.getAllUsersList(); 
                for (User user: users) { 
                    runOnUiThread(() -> textView.append(user.toString()+"\n")); 
                } 
 
            } 
        }).start(); 
 
    } 
} 
------------------------------------------------------------------------------------------ 
âœ“ ÅÄ…czenie danych z dwÃ³ch tabel  
 
Tabela users: 
 
 
Tabela Work: 
 
 
 
Plik AppDatabase.java 
 
import androidx.room.Database; 
import androidx.room.RoomDatabase; 
 
@Database(entities = {User.class, Work.class}, version = 4) 
public abstract class AppDatabase extends RoomDatabase { 
    public abstract UserDao userDao(); 
} 
 
 
Klasa Work.java 
 
import androidx.room.Entity; 
import androidx.room.PrimaryKey; 
 
@Entity 
public class Work{ 
    @PrimaryKey(autoGenerate = true) 
    public int id; 
    public String  name; 
    public int id_user; 
    public Work(String  name, int id_user) { 
        this.name = name; 
        this.id_user = id_user; 
    } 
  } 
 
Plik UserDao.java 
//â€¦naleÅ¼y dodaÄ‡ do istniejÄ…cego pliku  
@Query("SELECT first_name, name FROM users INNER JOIN work ON users.id = 
work.id_user") 
List<UserWork> getUserWork(); 
 

 
Plik UserWork.java 
 
public class UserWork { 
    public String first_name; 
    public String name; 
 
} 
 
Plik MainActivity.java 
// â€¦â€¦  
new Thread(new Runnable() { 
    @Override 
    public void run() { 
 
        User user1 = new User("Jan", "Kowalski", 33); 
        User user2 = new User("Janina", "Kowalski", 36); 
        User user3 = new User("Balbina", "Nowak", 41); 
        userDao.insertUsers(user1, user2, user3); 
 
        Work work1 = new Work("Sprzatanie", 2); 
        Work work2 = new Work("Pranie", 3); 
 
        userDao.insertWork(work1); 
        userDao.insertWork(work2); 
 
        List<UserWork> userWorks = userDao.getUserWork(); 
        for (UserWork userWork : userWorks) { 
            runOnUiThread(()->textView.append(userWork.first_name + " " + userWork.name + "\n")); 
        } 
    } 
}).start(); 
 
 
 
-------------------------------------------------------------------------------------------- 
âœ“ Metoda wykorzystujÄ…ca klasÄ™ SQLiteOpenHelper 
 
Tworzenie i modyfikacja bazy danych wspierane jest przez klasÄ™ SQLiteOpenHelper. 
Pusta klasa obsÅ‚ugujÄ…ca bazÄ™ danych wygenerowana automatycznie poprzez narzÄ™dzia InteliJ 
Idea: 

 
public class BazaDanych extends SQLiteOpenHelper{ 
 
    public BazaDanych(Context context, String name, SQLiteDatabase.CursorFactory factory, int 
version) { 
        super(context, name, factory, version); 
    } 
 
    @Override 
    public void onCreate(SQLiteDatabase db) { 
    } 
 
    @Override 
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { 
 
    } 
} 
 
StaÅ‚e  
Definicja staÅ‚ych pozwala na zebranie wszystkich wykorzystywanych w bazie danych nazw 
tabel, kolumn, jak rÃ³wnieÅ¼ samej bazy danych na poczÄ…tku klasy. W przypadku zmiany np. 
nazwy tabeli musimy tej zmiany dokonaÄ‡ raz przy deklaracji. Jest to dobry zwyczaj, ktÃ³ry na 
dÅ‚uÅ¼szÄ… metÄ™ sprawia, iÅ¼ zmiany dokonujemy w jednym miejscu zwiÄ™kszajÄ…c tym samym 
czytelnoÅ›Ä‡ kodu.  
StaÅ‚a DATABASE_VERSION okreÅ›la wersjÄ™ bazy danych. JeÅ›li numer nie bÄ™dzie siÄ™ zgadzaÅ‚ z 
tym ostatnio uÅ¼ytym program wywoÅ‚a metodÄ™ onUpdate co spowoduje zamianÄ™ istniejÄ…cej 
bazy na nowÄ… pusta w nowej wersji.  
 
    private static final int DATABASE_VERSION = 1; 
    private static final String DATABASE_NAME = "lista_zakupow"; 
    private static final String TABLE_ARTICLES = "baza_towarow"; 
 
    private static final String KEY_ID = "id"; 
    private static final String KEY_NAME = "name"; 
    private static final String KEY_CHECK = "checkk"; 
    private static final String KEY_NR_LIST = "nr_list"; 
 
 
Modyfikacja konstruktora 
PoniewaÅ¼ nazwa tabeli oraz wersja sÄ… zdefiniowane w klasie BazaDanych modyfikujemy 
konstruktor tak aby podczas wywoÅ‚ywania przekazywany byÅ‚ tyko kontekst klasy, w ktÃ³rej 
tworzona jest instancja bazy danych. Kontekst to obiekt przechowujÄ…cy informacjÄ™ o stanie 
obiektu. W naszym przypadku przekazujemy kontekst do aktywnoÅ›ci, w ktÃ³rej uÅ¼ywaÄ‡ 
bÄ™dziemy bazy danych.   
 
    public BazaDanych(Context context) { 
        super(context, DATABASE_NAME, null, DATABASE_VERSION); 
    } 
 
Modyfikacja metody onCreate w klasie BazaDanych:  
Metoda onCreate wywoÅ‚ywana jest na poczÄ…tku wtedy, gdy baza danych jeszcze nie istnieje.   
 
 String CREATE_CONTACTS_TABLE = "CREATE TABLE " + TABLE_ARTICLES + "("+  
KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT," +  
KEY_NAME + " TEXT,"+  
KEY_CHECK+ " INTEGER," + 
KEY_NR_LIST+" INTEGER"+ ")"; 
 
        db.execSQL(CREATE_CONTACTS_TABLE); 
 
Modyfikacja klasy onUpdate 
onUpdate â€“ metoda Å›ciÅ›le zwiÄ…zana z wersjÄ… bazy danych. Zawarty tu kod powoduje 
usuniÄ™cie istniejÄ…cej tabeli oraz wywoÅ‚ujÄ…c metody onCreate tworzy nowÄ… pustÄ…. ZmieniajÄ…c 
wartoÅ›Ä‡ staÅ‚ej DATABASE_VERSION (przed kompilacjÄ…) musimy pamiÄ™taÄ‡ o zrobieniu kopi 
tabeli. Najlepiej zrobiÄ‡ kopiÄ™ caÅ‚ej bazy danych     
 
        db.execSQL("DROP TABLE IF EXISTS " + TABLE_ARTICLES); 
        onCreate(db); 
 
Pomocnicza klasa Towar 
Klasa pomocna w organizowaniu danych zebranych w ramach jednego towaru.  
 
public class Towar { 
 
    private String nazwa; 
    private boolean check=false; 
 
    public Towar(String nazwa, boolean check) { 
        super(); 
        this.nazwa = nazwa; 
        this.check=check; 
    } 
    public String getNazwa() { 
        return nazwa; 
    } 
    public boolean isCheck() { 
        return check; 
    } 
    public void setCheck(boolean check) { 
        this.check = check; 
    } 
    public void setNazwa(String nazwa) { 
        this.nazwa = nazwa; 
    } 
} 
 
Metoda dodajÄ…ca dane do bazy danych: 
 
public void dodajTowar(Towar towar, int nrListy) { 
    SQLiteDatabase db = this.getWritableDatabase(); 
 
    ContentValues values = new ContentValues(); 
 
    values.put(KEY_NAME, towar.getNazwa()); 
    values.put(KEY_CHECK, towar.isCheck()); 
    values.put(KEY_NR_LIST, nrListy); 
 
    //db.insert(TABLE_ARTICLES, null, values); 
    db.insertOrThrow(TABLE_ARTICLES, null, values); 
 
    db.close(); 
    Log.d(">>>> Baza danych: ", "Dodano dane !!!"); 
} 
 
Metoda usuwajÄ…ca dane z bazy danych:  
 
public void deleteTowar(Towar towar, int nrListy) { 
    SQLiteDatabase db = this.getWritableDatabase(); 
    db.delete(TABLE_ARTICLES, KEY_NAME + " = ? and " + KEY_NR_LIST + " =?", new 
String[]{String.valueOf(towar.getNazwa()), "" + nrListy}); 
    db.close(); 
} 
 
Metoda pobierajÄ…ca dane z bazy danych w formie ciÄ…gu znakÃ³w:  
 
public String getAllRecords(int nrListy) { 
    SQLiteDatabase db = this.getReadableDatabase(); 
    String string=""; 
 
    Cursor cursor = db.query(TABLE_ARTICLES, null, KEY_NR_LIST + "=?", 
            new String[] { String.valueOf(nrListy) }, null, null, null, null); 
 
    cursor.moveToFirst(); 
    int nr=1; 
 
    do{ 
        boolean check =false; 
        if(cursor.getInt(2)>1) 
            check=true; 
 
        string+=nr+". "+cursor.getString(1)+" "+check +"\n"; 
        nr++; 
        Log.d(">>>> Baza danych", "Pobrano dane: "+ string); 
    } while(cursor.moveToNext()); 
    return string; 
} 
 
Metoda pobierajÄ…ca dane z bazy danych w formie listy:  
 
public int updateTowar(Towar towar, String staraNazwa, int nr_listy) { 
    SQLiteDatabase db = this.getWritableDatabase(); 
 
    ContentValues values = new ContentValues(); 
    values.put(KEY_NAME, towar.getNazwa()); 
 
    int check=0; 
    if(towar.isCheck()) check=1; 
    values.put(KEY_CHECK, check); 
 
    return db.update(TABLE_ARTICLES, values, KEY_NAME + " = ? and "+KEY_NR_LIST+" =?" , new 
String[] {staraNazwa, ""+nr_listy}); 
} 
 
Metoda aktualizujÄ…ca dane w bazy danych:  
 
public int updateTowar(Towar towar, String staraNazwa, int nr_listy) { 
    SQLiteDatabase db = this.getWritableDatabase(); 
 
    ContentValues values = new ContentValues(); 
    values.put(KEY_NAME, towar.getNazwa()); 
 
    int check=0; 
    if(towar.isCheck()) check=1; 
    values.put(KEY_CHECK, check); 
 
    return db.update(TABLE_ARTICLES, values, KEY_NAME + " = ? and "+KEY_NR_LIST+" =?" , new 
String[] {staraNazwa, ""+nr_listy}); 
} 
PrzykÅ‚adowa klasa AktywnoÅ›ci z jednym komponentem graficznym TextView wykorzystujÄ…ca 
obiekt bazy danych (zapisywanie, pobieranie i wyÅ›wietlanie danych): 
 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        TextView textView = (TextView) findViewById(R.id.textView2); 
        BazaDanych bazaDanych = new BazaDanych(this); 
 
        Towar towar1 = new Towar("Mleko", false); 
        bazaDanych.dodajTowar(towar1, 1); 
        Towar towar2 = new Towar("Maslo", false); 
        bazaDanych.dodajTowar(towar2, 1); 
 
        Towar towar3 = new Towar("Woda", false); 
        bazaDanych.dodajTowar(towar3, 2); 
        Towar towar4 = new Towar("Sok", false); 
        bazaDanych.dodajTowar(towar4, 2); 
 
        List<Towar> towarList = new ArrayList<Towar>(); 
        towarList=bazaDanych.getAllTowary(1); 
 
        for (int i = 0; i < towarList.size(); i++) { 
            System.out.println(towarList.get(i)); 
            textView.append(towarList.get(i).getNazwa().toString()+â€ â€œ+towarList.get(i).isCheck()+"\n"); 
        } 
    } 
 
 
PRZYKÅADOWY PROGRAM:  
 
  
 
Klasa BazaDanych: 
 
import android.content.ContentValues; 
import android.content.Context; 
import android.database.Cursor; 
import android.database.sqlite.SQLiteDatabase; 
import android.database.sqlite.SQLiteOpenHelper; 
 
public class BazaDanych extends SQLiteOpenHelper { 
 
    private static final int DATABASE_VERSION = 2; 
    private static final String DATABASE_NAME = "lista_zakupow"; 
    private static final String TABLE_ARTICLES = "baza_towarow"; 
    private static final String KEY_ID = "id"; 
    private static final String KEY_NAME = "name"; 
    private static final String KEY_CHECK = "checkk"; 
    private static final String KEY_NR_LIST = "nr_list"; 
 
    public BazaDanych(Context context) { 
        super(context, DATABASE_NAME, null, DATABASE_VERSION); 
    } 
 
    @Override 

    public void onCreate(SQLiteDatabase db) { 
        String CREATE_CONTACTS_TABLE = "CREATE TABLE " + BazaDanych.TABLE_ARTICLES + "("+ 
                BazaDanych.KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT," + 
                BazaDanych.KEY_NAME + " TEXT,"+ 
                BazaDanych.KEY_CHECK+ " INTEGER," + 
                BazaDanych.KEY_NR_LIST+" INTEGER"+ ")"; 
        db.execSQL(CREATE_CONTACTS_TABLE); 
    } 
 
    @Override 
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { 
        db.execSQL("DROP TABLE IF EXISTS " + TABLE_ARTICLES); 
        onCreate(db); 
    } 
 
    public void dodajTowar(Towar towar, int nrListy) { 
        SQLiteDatabase db = this.getWritableDatabase(); 
        ContentValues values = new ContentValues(); 
        values.put(KEY_NAME, towar.getNazwa()); 
        values.put(KEY_CHECK, towar.isCheck()); 
        values.put(KEY_NR_LIST, nrListy); 
        //db.insert(TABLE_ARTICLES, null, values); 
        db.insertOrThrow(TABLE_ARTICLES, null, values); 
        db.close(); 
     } 
 
    public void deleteTowar(Towar towar, int nrListy) { 
 
        SQLiteDatabase db = this.getWritableDatabase(); 
        db.delete(TABLE_ARTICLES, KEY_NAME + " = ? and " + KEY_NR_LIST + " =?", new 
String[]{String.valueOf(towar.getNazwa()), "" + nrListy}); 
        db.close(); 
    } 
 
    public String getAllRecords(int nrListy) { 
        SQLiteDatabase db = this.getReadableDatabase(); 
        String string=""; 
        Cursor cursor = db.query(TABLE_ARTICLES, null, KEY_NR_LIST + "=?", 
                new String[] { String.valueOf(nrListy) }, null, null, null, null); 
        cursor.moveToFirst(); 
        int nr=1; 
        do{ 
            boolean check =false; 
            if(cursor.getInt(2)>1) 
                check=true; 
            string+=nr+". "+cursor.getString(1)+" "+check +"\n"; 
            nr++; 
        } while(cursor.moveToNext()); 
        return string; 
    } 
} 
 
Klasa Towar:  
 
public class Towar { 
 
    private String nazwa; 
    private boolean check=false; 
 
    public Towar(String nazwa, boolean check) { 
        super(); 
        this.nazwa = nazwa; 
        this.check=check; 
    } 
 
    public String getNazwa() { 
        return nazwa; 
    } 
 
    public boolean isCheck() { 
        return check; 
    } 
 
    public void setCheck(boolean check) { 
        this.check = check; 
    } 
 
    public void setNazwa(String nazwa) { 
        this.nazwa = nazwa; 
    } 
} 
 
 
Klasa gÃ³wna MainActivity: 
 
import androidx.appcompat.app.AppCompatActivity; 
 
import android.os.Bundle; 
import android.widget.TextView; 
 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
        setContentView(R.layout.activity_main); 
 
        BazaDanych db = new BazaDanych(this); 
 
       Towar mleko = new Towar("Mleko", true); 
        db.dodajTowar(mleko, 1); 
        Towar chleb = new Towar("Chleb", true); 
        db.dodajTowar(chleb, 1); 
 
        String towary = db.getAllRecords(1); 
        TextView textViewTowar = (TextView)findViewById(R.id.textViewTowar); 
 
        textViewTowar.setText(towary); 
    } 
} 
 
plik activity_main.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<androidx.constraintlayout.widget.ConstraintLayout 
xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:background="#123" 
    tools:context=".MainActivity"> 
 
    <TextView 
        android:id="@+id/textView2" 
        android:layout_width="wrap_content" 
        android:layout_height="36dp" 
        android:layout_marginTop="16dp" 
        android:text="Lista zakupÃ³w" 
        android:textColor="#fff" 
        android:textSize="27dp" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintLeft_toLeftOf="parent" 
        app:layout_constraintRight_toRightOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        app:layout_constraintVertical_bias="0.04000002" /> 
 
    <TextView 
        android:id="@+id/textViewTowar" 
        android:layout_width="0dp" 
        android:layout_height="0dp" 
        android:layout_marginTop="24dp" 
        android:layout_marginBottom="16dp" 
        android:text="TextView" 
        android:textSize="24dp" 
        android:textColor="#fff" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toBottomOf="@+id/textView2" /> 
 
</androidx.constraintlayout.widget.ConstraintLayout> 
 
------------------------------------------------------------------- 
4. Zadania  
 
Zadanie 1. 
Napisz aplikacjÄ™ przechowujÄ…cÄ… i zarzÄ…dzajÄ…cÄ… danymi studenta: imie, nazwisko, kierunek, 
rok_studiow. Wszystkie dane powinny byÄ‡ wprowadzane z widoku. DostÄ™pne funkcje 
to: dodawanie, usuwanie, aktualizacja, pobieranie rekordÃ³w z poziomu interfejsu 
uÅ¼ytkownika.  
  
Zadanie 2. 
Napisz aplikacjÄ™, ktÃ³ra pozwoli przechowywaÄ‡ dane w dwÃ³ch tabelach bazy danych o nazwie 
â€serwis_komputerowyâ€ .  
Pierwsza tabela to â€naprawyâ€, w ktÃ³rym moÅ¼emy zapisaÄ‡ takie dane, jak:  
- nazwa_naprawy,  
- cena, 
- id_klienta.  
 
Druga tabela to klient z nastÄ™pujÄ…cymi polami:  
- imie,  
- nazwisko, 
- pesel.  
Zaprojektuj interfejs uÅ¼ytkownika, ktÃ³ry pozwoli zarzÄ…dzaÄ‡ danymi, tzn. wprowadzaÄ‡ dane do 
obu tabel oraz wyÅ›wietlaÄ‡ dane Å‚Ä…czÄ…c dwie tabele.  

--- END OF am8.pdf ---

--- START OF am9.pdf ---
  
Kierunek Informatyka 
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:  9 Nazwa przedmiotu:  
Programowanie aplikacji mobilnych  
Temat: Tryb graficzny w systemie android, grafika, animacje    
Tryb studiÃ³w: 
stacjonarne 
Czas trwanie Ä‡w. 
2x45 min 
Autor materiaÅ‚Ã³w: dr Marcin Skuba 
 
1. TreÅ›ci programowe:  
Tryb graficzny, rysowanie figur, wyÅ›wietlanie obrazkÃ³w pochodzÄ…cych z pliku, kolory, konfiguracja 
piÃ³ra, pÅ‚Ã³tno, obsÅ‚uga zdarzeÅ„ zwiÄ…zanych z dotykowym ekranem, skalowanie.  
 
2. Cel zajÄ™Ä‡: 
Celem zajÄ™Ä‡ jest zapoznanie studentÃ³w z mechanizmami grafiki dwuwymiarowej oraz obsÅ‚uga 
zdarzeÅ„ zwiÄ…zanych z ekranem. Ten sposÃ³b programowania moÅ¼e byÄ‡ wykorzystany do tworzenia 
prostych gier lub aplikacji w trybie graficznym.  
 
3. MateriaÅ‚y dydaktyczne  
 
PrzykÅ‚ad przedstawiajÄ…cy rysowanie wÅ‚asnych ksztaÅ‚tÃ³w na widoku przypiÄ™tym do aktywnoÅ›ci: 
 

 
 
Metoda onDraw(Canvas canvas) jest podstawowym elementem do tworzenia niestandardowych 
elementÃ³w graficznych w Androidzie. Jest to funkcja wywoÅ‚ywana przez system, gdy widok (lub jego 
czÄ™Å›Ä‡) musi zostaÄ‡ ponownie narysowany. GÅ‚Ã³wnÄ… ideÄ… jest to, Å¼e musisz nadpisaÄ‡ tÄ™ metodÄ™ w 
swojej niestandardowej klasie dziedziczÄ…cej po View, aby zdefiniowaÄ‡, jak widok ma wyglÄ…daÄ‡. 
Metoda ta otrzymuje obiekt Canvas, ktÃ³ry dziaÅ‚a jak pÅ‚Ã³tno malarskie, oraz obiekt Paint, ktÃ³ry jest jak 
narzÄ™dzie malarskie (okreÅ›la kolor, styl, gruboÅ›Ä‡ linii itp.). Wszystkie niestandardowe ksztaÅ‚ty â€“ takie 
jak linie, okrÄ™gi, prostokÄ…ty, Å‚uki czy zÅ‚oÅ¼one Å›cieÅ¼ki â€“ sÄ… rysowane przez wywoÅ‚anie odpowiednich 
metod na obiekcie Canvas, zdefiniowanych przez styl i atrybuty obiektu Paint. CaÅ‚y proces rysowania 
odbywa siÄ™ w wÄ…tku gÅ‚Ã³wnym UI, dlatego kod w onDraw musi byÄ‡ szybki, aby nie blokowaÄ‡ interfejsu. 
 
Plik MainActivity.java 
 
import android.os.Bundle; 
import androidx.appcompat.app.AppCompatActivity; 
public class MainActivity extends AppCompatActivity { 
 
    @Override 
    protected void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState); 
      //setContentView(R.layout.activity_main); 
        setContentView(new Grafika(this, null)); 
 
    } 
} 
 

Klasa widoku Grafika.java dziedziczy z klawy View: 
 
import android.content.Context; 
import android.graphics.Canvas; 
import android.graphics.Color; 
import android.graphics.Paint; 
import android.graphics.Path; 
import android.graphics.RectF; 
import android.util.AttributeSet; 
import android.view.View; 
 
import androidx.annotation.NonNull; 
 
public class Grafika extends View { 
    Context context; 
    private static final String TAG = "TouchHandler"; 
    int x,y; 
    public Grafika(Context context, AttributeSet attrs) { 
        super(context, attrs); 
        this.context = context; 
    } 
 
    @Override 
    protected void onDraw(@NonNull Canvas canvas) { 
        super.onDraw(canvas); 
 
        // --- 1. Ustawienia poczÄ…tkowe --- 
        canvas.drawRGB(99, 99, 99); // TÅ‚o: szare (RGB) 
        Paint paint = new Paint(); 
 
        // --- 2. Tekst i Linia (Zielony) --- 
        paint.setColor(Color.GREEN); 
        paint.setTextSize(80); 
        canvas.drawText("Tryb graficzny Android", 10, 190, paint); 
 
        canvas.drawLine(0, 300, getWidth(), 300, paint); 
 
        paint.setStrokeWidth(100); 
        paint.setStyle(Paint.Style.FILL); // WypeÅ‚nienie 
        canvas.drawCircle(200, 420, 100, paint); 
 
        // --- 3. ProstokÄ…t z ZasobÃ³w (UÅ¼ycie Aktualnego API) --- 
 
        // Aktualny i bezpieczny sposÃ³b pobierania koloru 
        int color = context.getColor(R.color.colorPrimary); 
        paint.setColor(color); 
 
        // PrawidÅ‚owe pobieranie wymiarÃ³w z pliku zasobÃ³w dimen.XML 
        float szerokosc = context.getResources().getDimension(R.dimen.szerokosc); 
        float wysokosc = context.getResources().getDimension(R.dimen.wysokosc); 
        int x = getWidth() / 2; 
        int y = getHeight() / 2; 
 
        // Rysowanie prostokÄ…ta wypeÅ‚nionego (uÅ¼ywa koloru z XML) 
        canvas.drawRect(x, y, x + szerokosc, y + wysokosc, paint); 
 
        // --- 4. Elipsa i ProstokÄ…t F (Niebieski/Zielony) --- 
 
        RectF shape = new RectF(100, 600, 300, 800); 
        paint.setColor(Color.BLUE); 
        canvas.drawRect(shape, paint); // ProstokÄ…t wypeÅ‚niony 
 
        paint.setColor(Color.GREEN); 
        canvas.drawOval(shape, paint); // Elipsa wypeÅ‚niona (nadpisuje prostokÄ…t) 
 
        // --- 5. NOWY OBIEKT: ZaokrÄ…glony ProstokÄ…t (drawRoundRect) --- 
 
        // Zmiana na czerwony kolor 
        paint.setColor(Color.RED); 
        // Wymiary zaokrÄ…glonego prostokÄ…ta 
        RectF roundRect = new RectF(50, 850, 450, 1050); 
        float radius = 40f; // PromieÅ„ zaokrÄ…glenia 
 
        canvas.drawRoundRect(roundRect, radius, radius, paint); 
 
        // --- 6. NOWY OBIEKT: Åuk (drawArc) --- 
 
        paint.setColor(Color.YELLOW); 
        // Obszar wpisania Å‚uku 
        RectF arcRect = new RectF(500, 850, 900, 1050); 
        float startAngle = 90f; // KÄ…t poczÄ…tkowy (na dole) 
        float sweepAngle = 180f; // Zakres kÄ…ta (pÃ³Å‚kole) 
        boolean useCenter = true; // Czy Å‚uk ma byÄ‡ poÅ‚Ä…czony ze Å›rodkiem (jak wycinek tortu) 
 
        canvas.drawArc(arcRect, startAngle, sweepAngle, useCenter, paint); 
 
        // --- 7. NOWY OBIEKT: ÅšcieÅ¼ka (drawPath) - Niestandardowy TrÃ³jkÄ…t (tylko kontur) --- 
 
        paint.setColor(Color.CYAN); 
        paint.setStyle(Paint.Style.STROKE); // Ustawienie RYSOWANIA KONTURU 
        paint.setStrokeWidth(15); 
 
        Path trianglePath = new Path(); 
        trianglePath.moveTo(500, 1200); // Punkt startowy 
        trianglePath.lineTo(800, 1300); // Linia do punktu 2 
        trianglePath.lineTo(500, 1400); // Linia do punktu 3 
        trianglePath.close(); // ZamkniÄ™cie Å›cieÅ¼ki (powrÃ³t do punktu startowego) 
 
        canvas.drawPath(trianglePath, paint); 
    } 
} 
 
Plik zasobÃ³w z wymiarami dimen.xml 
 
 
 
<?xml version="1.0" encoding="utf-8"?> 
<resources> 
    <dimen name="szerokosc">50dp</dimen> 
    <dimen name="wysokosc">50dp</dimen> 
</resources> 
 
Plik zasobÃ³w z wymiarami colors.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<resources> 
    <color name="colorPrimary">#008577</color> 
    <color name="colorPrimaryDark">#00574B</color> 
    <color name="colorAccent">#D81B60</color> 
    <color name="color">#ff00ff</color> 
</resources> 
 
 
ObsÅ‚uga zdarzeÅ„ zwiÄ…zanych z obsÅ‚ugÄ… ekranu dotykowego:  
 
import android.content.Context; 
import android.graphics.Canvas; 
import android.graphics.Color; 
import android.graphics.Paint; 
import android.graphics.Path; 
import android.graphics.RectF; 
import android.util.AttributeSet; 
import android.util.Log; 
import android.view.MotionEvent; 
import android.view.View; 
 
import androidx.annotation.NonNull; 
 
public class Grafika extends View { 
    Context context; 
    private static final String TAG = "TouchHandler"; 
    int x=100,y=150; 
 
    public Grafika(Context context, AttributeSet attrs) { 
        super(context, attrs); 
        this.context = context; 
    } 
 
    @Override 
    protected void onDraw(@NonNull Canvas canvas) { 

        super.onDraw(canvas); 
 
        canvas.drawRGB(99, 99, 99); // TÅ‚o: szary (RGB) 
        Paint paint = new Paint(); 
 
        paint.setStrokeWidth(100); 
        paint.setColor(Color.BLUE); 
        canvas.drawCircle(x, y, 60, paint); 
    } 
 
    @Override 
    public boolean onTouchEvent(MotionEvent event) { 
        // Pobranie wspÃ³Å‚rzÄ™dnych dotyku 
        this.x=(int)event.getX(); 
        this.y=(int)event.getY(); 
 
        invalidate(); // OdÅ›wieÅ¼enie widoku po wykonaniu akcji 
        // Kluczowa konstrukcja switch do identyfikacji akcji 
        switch (event.getAction()) { 
 
            case MotionEvent.ACTION_DOWN: 
                // 1. Zdarzenie POJEDYNCZEGO dotkniÄ™cia (pierwszy palec) 
                Log.d(TAG, "ACTION_DOWN: DotkniÄ™cie ekranu. X=" + x + ", Y=" + y); 
                // NaleÅ¼y zwrÃ³ciÄ‡ true, aby system wiedziaÅ‚, Å¼e interesuje nas to zdarzenie 
                return true; 
 
            case MotionEvent.ACTION_MOVE: 
                // 2. Zdarzenie PRZESUNIÄ˜CIA (palec przesuwa siÄ™ po ekranie) 
                Log.d(TAG, "ACTION_MOVE: PrzesuniÄ™cie. X=" + x + ", Y=" + y); 
                break; 
 
            case MotionEvent.ACTION_UP: 
                // 3. Zdarzenie ZWOLNIENIA dotyku (palec zostaÅ‚ podniesiony) 
                Log.d(TAG, "ACTION_UP: Zwolnienie dotyku."); 
                break; 
 
            case MotionEvent.ACTION_CANCEL: 
                // 4. Zdarzenie ANULOWANIA (np. system przejÄ…Å‚ kontrolÄ™ nad gestem) 
                Log.d(TAG, "ACTION_CANCEL: Anulowanie zdarzenia."); 
                break; 
        } 
 
        // Zwracamy wynik metody nadrzÄ™dnej dla nieobsÅ‚uÅ¼onych zdarzeÅ„ 
        return super.onTouchEvent(event); 
    } 
} 
 
PrzykÅ‚ad wyÅ›wietlania i skalowania obrazu Bitmap pobranego z pliku zasobÃ³w:  
 
Pliki graficzne (drawable): 
pwsz.jpg 
 
       
 
 
import android.content.Context; 
import android.graphics.Bitmap; 
import android.graphics.BitmapFactory; 
import android.graphics.Canvas; 
import android.util.AttributeSet; 
import android.view.View; 
 
import androidx.annotation.NonNull; 
 
public class Grafika extends View { 
    Context context; 
    int x=-200, y=-200; 
    int s=getWidth(); 
    int w=getHeight(); 
    Bitmap bitmap; 

 
    public Grafika(Context context, AttributeSet attrs) { 
        super(context, attrs); 
        this.context = context; 
        bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.pwsz); 
    } 
 
    @Override 
    protected void onDraw(@NonNull Canvas canvas) { 
        super.onDraw(canvas); 
        if(bitmap!=null) 
            canvas.drawBitmap(bitmap, 0, 0, null); 
    } 
 
    @Override 
    public void onSizeChanged (int ww, int hh, int oldw, int oldh) { 
        super.onSizeChanged(ww, hh, oldw, oldh); 
        s = ww; 
        w = hh; 
        bitmap=bitmap.createScaledBitmap(bitmap, s, w, true); // Skalowanie obrazka 
    } 
} 
 
 
PrzykÅ‚ad obrazujÄ…cy umieszczanie widoku pochodzÄ…cego z klasy Java w pliku XML 
 
 
 

Plik widoku xml z zaimplementowanym widokiem pochodzÄ…cym z klasy java 
 
<?xml version="1.0" encoding="utf-8"?> 
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto" 
    xmlns:tools="http://schemas.android.com/tools" 
    android:id="@+id/main" 
    android:orientation="vertical" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    tools:context=".MainActivity">s 
 
    <TextView 
        android:layout_marginTop="20dp" 
        android:layout_gravity="center" 
        android:layout_width="wrap_content" 
        android:layout_height="wrap_content" 
        android:text="Program graficzny" 
        android:textSize="24dp"/> 
 
    <com.example.grafika.Grafika 
        android:layout_weight="1" 
        android:layout_width="match_parent" 
        android:layout_height="match_parent"/> 
    <com.example.grafika.Grafika 
        android:layout_weight="1" 
        android:layout_width="match_parent" 
        android:layout_height="match_parent"/> 
 
<Button 
    android:id="@+id/button" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:text="Zamknij" 
    android:layout_marginBottom="20dp" 
    android:layout_gravity="center"/> 
 
</LinearLayout> 
 
CzÄ™Å›Ä‡ pliku MainActivity:  
 
@Override 
protected void onCreate(Bundle savedInstanceState) { 
    super.onCreate(savedInstanceState); 
  setContentView(R.layout.activity_main); 
  //  setContentView(new Grafika(this, null)); 
} 
 
Animacje  
System Animation (np. AlphaAnimation, TranslateAnimation) to starszy system, skupiajÄ…cy siÄ™ na 
efektach wizualnych na poziomie widoku (ang. tweening). 
 
Ograniczenie: Ten system zmienia tylko to, gdzie widok jest rysowany. Prawdziwa pozycja i obszar 
klikalny (bounding box) pozostajÄ… w pierwotnym miejscu. 
 
PrzykÅ‚ad: JeÅ›li animujesz przycisk za pomocÄ… TranslateAnimation od lewej do prawej, zobaczysz, jak 
przycisk przesuwa siÄ™ w prawo, ale jeÅ›li sprÃ³bujesz go kliknÄ…Ä‡, system oczekuje klikniÄ™cia w 
pierwotnym miejscu, z ktÃ³rego widok wystartowaÅ‚. 
Wniosek: Zawsze, gdy jest to moÅ¼liwe, naleÅ¼y uÅ¼ywaÄ‡ nowoczesnego systemu Animator (Property 
Animation). 
 
Android udostÄ™pnia mechanizm tworzenia animacji opisanych w plikach XML w katalogu: 
 
 
 
Animacje widoku (View Animation) â€“ folder res/anim/ 
Te animacje dziaÅ‚ajÄ… na widokach (np. ImageView, Button) i obejmujÄ…: 
â€¢ translate â€“ przesuwanie 
â€¢ scale â€“ skalowanie 
â€¢ rotate â€“ obrÃ³t 
â€¢ alpha â€“ przezroczystoÅ›Ä‡ 
MoÅ¼na je Å‚Ä…czyÄ‡ w AnimationSet. 
 
PrzykÅ‚ad 1 â€” Prosta animacja zanikania (fade_out.xml) 
res/anim/fade_out.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<alpha xmlns:android="http://schemas.android.com/apk/res/android" 
    android:fromAlpha="1.0" 
    android:toAlpha="0.0" 
    android:duration="1000" /> 
 
WywoÅ‚anie w Java: 
Animation fade = AnimationUtils.loadAnimation(this, R.anim.fade_out); 
imageView.startAnimation(fade); 
 
PrzykÅ‚ad 2 â€” Animacja przesuniÄ™cia 
res/anim/slide_in.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<translate xmlns:android="http://schemas.android.com/apk/res/android" 
    android:fromXDelta="-100%" 
    android:toXDelta="0%" 
    android:duration="600" /> 
 
WywoÅ‚anie w Java: 
Animation slide = AnimationUtils.loadAnimation(this, R.anim.slide_in); 
view.startAnimation(slide); 
 
 
PrzykÅ‚ad 3 â€” Zestaw animacji 
res/anim/anim_set.xml 
 

<?xml version="1.0" encoding="utf-8"?> 
<set xmlns:android="http://schemas.android.com/apk/res/android" 
    android:interpolator="@android:anim/accelerate_decelerate_interpolator"> 
 
    <scale 
        android:fromXScale="0.5" 
        android:toXScale="1" 
        android:fromYScale="0.5" 
        android:toYScale="1" 
        android:duration="400"/> 
 
    <alpha 
        android:fromAlpha="0" 
        android:toAlpha="1" 
        android:duration="400"/> 
</set> 
 
WywoÅ‚anie w Java: 
 
Animation animSet = AnimationUtils.loadAnimation(this, R.anim.anim_set); 
view.startAnimation(animSet); 
 
Animacje wÅ‚aÅ›ciwoÅ›ci (Property Animation) â€“ folder res/animator/ 
 
System Animator (np. ValueAnimator, ObjectAnimator) jest nowoczesny i potÄ™Å¼ny. Zmienia on 
rzeczywistÄ… wartoÅ›Ä‡ wÅ‚aÅ›ciwoÅ›ci obiektu, a nie tylko jego wyglÄ…d. 
â€¢ ValueAnimator: Animuje wartoÅ›ci (np. od 0 do 100). Musisz rÄ™cznie zaktualizowaÄ‡ wÅ‚aÅ›ciwoÅ›Ä‡ 
obiektu. 
â€¢ ObjectAnimator: Rozszerza ValueAnimator, automatycznie zmieniajÄ…c nazwÄ™ wÅ‚aÅ›ciwoÅ›ci 
obiektu (np. rotation) i wywoÅ‚ujÄ…c odpowiedni setter (np. setRotation()). 
 
JeÅ›li animujesz przycisk za pomocÄ… ObjectAnimator od lewej do prawej, jego nowa, koÅ„cowa pozycja 
jest rzeczywista â€“ uÅ¼ytkownik moÅ¼e go kliknÄ…Ä‡ w nowym miejscu. 
 
 
PrzykÅ‚ad 4 â€” Animacja obrotu 
res/animator/rotate.xml 
 
<?xml version="1.0" encoding="utf-8"?> 
<objectAnimator xmlns:android="http://schemas.android.com/apk/res/android" 
    android:propertyName="rotation" 
    android:duration="1000" 
    android:valueFrom="0" 
    android:valueTo="360" 
    android:valueType="floatType" /> 
 
WywoÅ‚anie w Javie: 
 
Animator animator = AnimatorInflater.loadAnimator(this, R.animator.rotate); 
animator.setTarget(button); 
animator.start(); 
 
interpolator 
Interpolator definiuje jak zmienia siÄ™ postÄ™p animacji w funkcji czasu. 
Animacja zawsze ma â€uÅ‚amekâ€ postÄ™pu f od 0.0 do 1.0 (prosty liniowy przebieg: rÃ³wnomierny wzrost). 
Interpolator przeksztaÅ‚ca ten uÅ‚amek f na wartoÅ›Ä‡ g(f) uÅ¼ywanÄ… do wyliczenia aktualnej wartoÅ›ci 
animowanej wÅ‚asnoÅ›ci. Innymi sÅ‚owy: interpolator decyduje o tempo animacji â€” przyspiesza, 
zwalnia, odbija, itp. 
 
Typy: 
â€¢ linear - rÃ³wne tempo (prostoliniowo) 
â€¢ accelerate - zaczyna powoli, potem przyspiesza (krzywa rosnÄ…ca coraz szybciej) 
â€¢ decelerate - zaczyna szybko, potem zwalnia 
â€¢ accelerate_decelerate - start wolno, przyspieszenie w Å›rodku, koniec wolniej 
â€¢ bounce - odbicia na koÅ„cu (jak piÅ‚ka) 
â€¢ overshoot / anticipate - najpierw cofniÄ™cie (anticipate) lub przekroczenie celu (overshoot) â†’ 
dynamiczny efekt 
 
Interpolator umieszczamy w: 
1. W XML animacji (atrybut): 
o w res/anim/ (View Animation) uÅ¼ywasz android:interpolator="@android:anim/..." 
o w res/animator/ (Property Animator) moÅ¼esz uÅ¼yÄ‡ android:interpolator="..." lub 
ustawiÄ‡ w kodzie 
2. W kodzie Java: wywoÅ‚anie setInterpolator(...) na Animation lub Animator. 
 
PrzykÅ‚ady (XML i Java) 
bounce_button.xml (res/animator/bounce_button.xml) 
 
<?xml version="1.0" encoding="utf-8"?> 
<objectAnimator xmlns:android="http://schemas.android.com/apk/res/android" 
    android:propertyName="translationY" 
    android:valueFrom="0" 
    android:valueTo="-120" 
    android:duration="600" 
    android:interpolator="@android:anim/bounce_interpolator" 
    android:valueType="floatType" /> 
 
WywoÅ‚anie w Javie: 
Animator anim = AnimatorInflater.loadAnimator(this, R.animator. bounce_button); 
anim.setTarget(button); 
anim.start(); 
 
Inne  przykÅ‚ady:  
 
<objectAnimator xmlns:android="http://schemas.android.com/apk/res/android" 
    android:propertyName="rotation" 
    android:duration="2000" 
    android:valueFrom="0" 
    android:valueTo="360" 
    android:interpolator="@android:anim/linear_interpolator" 
    android:valueType="floatType"/> 
 
 
4. Zadania  
 
Zadanie 1. 
Napisz program wykorzystujÄ…cy tryb graficzny, w ktÃ³rym utwÃ³rz dowolny obraz graficzny, poczÄ…tkowo 
wyÅ›wietlany na Å›rodku ekranu. Program powinien udostÄ™pniaÄ‡ funkcjÄ™, ktÃ³re pozwolÄ… na przesuwanie 
obrazka palem po ekranie.  
 
Zadanie 2. 
Napisz program wykorzystujÄ…cy tryb graficzny oraz wÄ…tki aby stworzyÄ‡  grÄ™ pozwalajÄ…cÄ… odbijaÄ‡ 
piÅ‚eczkÄ™ belkÄ… oraz zbijaÄ‡ umieszczone powyÅ¼ej cegÅ‚y.  
 


--- END OF am9.pdf ---

--- START OF am10.pdf ---
 
Kierunek Informatyka
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:10 Nazwa przedmiotu:
Programowanie aplikacji mobilnych
Temat: Cykl Å¼ycia aktywnoÅ›ci â€“ zabezpieczanie danych
formularza, okna dialogowe 
Tryb studiÃ³w: stacjonarne
Czas trwanie Ä‡w.
2x45 min
Autor materiaÅ‚Ã³w: dr Marcin Skuba
1. TreÅ›ci programowe:
Cykl Å¼ycia aktywnoÅ›ci, wybrane funkcje aktywnoÅ›ci, uÅ¼ycie funkcji onSaveInstanceState do
zapisywania danych tymczasowych, okna dialogowe.
 
2. Cel zajÄ™Ä‡:
Celem zajÄ™Ä‡ jest poznanie kolejnoÅ›ci wykonywania podstawowych metod aktywnoÅ›ci,
wyrobienie umiejÄ™tnoÅ›ci tworzenia i uÅ¼ywania okien dialogowych oraz zabezpieczanie danych
w formularzu przed utratÄ… podczas obracania ekranu.
 
3. MateriaÅ‚y dydaktyczne
 
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.i("Test", "OnCreate()");
 
        //Alternatywa dla void onDestroy ()
getOnBackPressedDispatcher().addCallback(this, new OnBackPressedCallback(true) {
    @Override
    public void handleOnBackPressed() {
        Log.i("Test", "OnBackPressed()");
        finish();
    }
});
    }
    @Override
    protected void onStart() {
        super.onStart();
        Log.i("Test", "OnStart()");
    }
    @Override
    protected void onResume() {
        super.onResume();
        Log.i("Test", "OnResume()");
    }
    @Override
    protected void onPause() {
        super.onPause();
        Log.i("Test", "OnPause()");
    }
    @Override
    protected void onStop() {
        super.onStop();
        Log.i("Test> ", "OnStop()");
    }
        @Override
        protected void onDestroy () {
            super.onDestroy();
            Log.i("Test", "OnDestroy()");
    }
    @Override
    public void onSaveInstanceState(Bundle savedInstanceState) {
        Log.i("Test", "OnSaveInstanceState()");
        super.onSaveInstanceState(savedInstanceState);
    }
    @Override
    public void onBackPressed() {
        super.onBackPressed();
        Log.i("Test", "OnBackPressed()");
    }
}
 
 
a). Uruchomienie nowej aplikacji
 
 
b) UÅ¼ycie przycisku
 
 
 
 
c). powrÃ³t
 
 
 
d) UÅ¼ycie przycisku
 
 
 
e). powrÃ³t
 
 
 
f) UÅ¼ycie przycisku
 
 
 
g) PowrÃ³t
 
 
 
h) ObrÃ³t
 
 
 
PrzykÅ‚ad aplikacji zapisujÄ…cej dane z formularz poprzez metodÄ™ onSaveInstanceState():
 
 
Plik activity_main.xml
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical"
    android:padding="20dp"
    android:gravity="center">
    <TextView
        android:id="@+id/textViewDaneZBazy"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="20dp"
        android:textSize="22dp"
        android:text="Dane " />
    <EditText
        android:id="@+id/editTextImie"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:inputType="text"
        android:layout_margin="20dp"
        android:text="Name" />
    <EditText
        android:id="@+id/editTextWiek"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:inputType="number"
        android:layout_margin="20dp"
        android:text="Name" />
    <CheckBox
        android:id="@+id/checkBox"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Opcja do wyboru "/>
</LinearLayout>
 
Plik MainActivity.java
 
import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;
import android.os.Bundle;
import android.widget.CheckBox;
import android.widget.EditText;
public class MainActivity extends AppCompatActivity {
    EditText editTextImie;
    EditText editTextWiek;
    CheckBox checkBox;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        editTextImie = findViewById(R.id.editTextImie);
        editTextWiek = findViewById(R.id.editTextWiek);
        checkBox = findViewById(R.id.checkBox);
        if (savedInstanceState != null) {
            editTextImie.setText(savedInstanceState.getString("KEY_IMIE"));
            editTextWiek.setText(savedInstanceState.getString("KEY_WIEK"));
            checkBox.setChecked(savedInstanceState.getBoolean("KEY_OPCJA"));
        }
    }
    @Override
    protected void onSaveInstanceState(@NonNull Bundle outState) {
        super.onSaveInstanceState(outState);
        outState.putString("KEY_IMIE", editTextImie.getText().toString());
        outState.putString("KEY_WIEK", editTextWiek.getText().toString());
        outState.putBoolean("KEY_OPCJA", checkBox.isChecked());
    }
}
 
Metoda budujÄ…ca okno dialogowe z moÅ¼liwoÅ›ciÄ… udzielenia odpowiedzi TAK NIE
 
 
private void Dialog() {
    AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle("Uwaga")
               .setMessage("TreÅ›Ä‡ pytania....")
                .setIcon(R.drawable.ic_baseline_beach_access_24)
            .setPositiveButton("TAK", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int id) {
                   
                }
            })
            .setNegativeButton("NIE", new DialogInterface.OnClickListener() {
                public void onClick(DialogInterface dialog, int id) {
                   
                }
            }).show();
}
 
PrzykÅ‚ad ukazujÄ…cy deklaracjÄ™ przycisku w postaci przeÅ‚Ä…cznika z zapisaniem stanu w czasie
zmiany orientacji ekranu:
 
 
import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.ImageButton;
public class MainActivity extends AppCompatActivity {
    final boolean  STOP = false;
    final boolean  START = true;
    boolean startStop=START;
    ImageButton imageButton;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.i("Test: ", "onCreate");
        imageButton = findViewById(R.id.imageButton);
        imageButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                if(startStop==START){
                    startStop=STOP;
                }else if(startStop==STOP){
                    startStop=START;
                }
                setIconButton();
            }
        });
        if(savedInstanceState!=null){
            startStop = savedInstanceState.getBoolean("KEY_BUTTON");
            setIconButton();
        }
    }
    private void setIconButton(){
        if(startStop==START){
            imageButton.setBackgroundResource(R.drawable.on_ic_baseline_cast_24);
        }else if(startStop==STOP){
           
imageButton.setBackgroundResource(R.drawable.off_ic_baseline_cast_connected_24);
        }
    }
    @Override
    protected void onSaveInstanceState(@NonNull Bundle outState) {
        super.onSaveInstanceState(outState);
        outState.putBoolean("KEY_BUTTON", startStop);
    }
}
 
4. Zadania
 
Zadanie 1.
Napisz program, w ktÃ³rym zdeklaruj pola tekstowe do wprowadzenia danych studenta: imiÄ™,
nazwisko, rok studiÃ³w, email oraz pole pojedynczego wyboru do prowadzenia informacji czy
student ma zaliczenie (true/false). Zabezpiecz formularz tak aby dane nie znikaÅ‚y podczas
obracania ekranu. UÅ¼ywajÄ…c przycisku systemowego â€<â€ â€wsteczâ€ wyÅ›wietl pole dialogowe z
pytanie â€Czy chcesz wyÅ‚Ä…czyÄ‡ program?â€ JeÅ›li zostanie uÅ¼yty przycisk TAK program powinien
siÄ™ zakoÅ„czyÄ‡.
 

--- END OF am10.pdf ---

--- START OF am11.pdf ---
 
Kierunek Informatyka
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr:11 Nazwa przedmiotu:
Programowanie aplikacji mobilnych
Temat: Powiadomienia   
Tryb studiÃ³w: stacjonarne
Czas trwanie Ä‡w.
2x45 min
Autor materiaÅ‚Ã³w: dr Marcin Skuba
1. TreÅ›ci programowe:
Powiadomienia, blokada powiadomieÅ„, obsÅ‚uga zdarzenia dotyczÄ…ca klikniÄ™cia
powiadomienia
 
2. Cel zajÄ™Ä‡:
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci tworzenia powiadomieÅ„ oraz zarzÄ…dzania nimi.
 
3. MateriaÅ‚y dydaktyczne
Android Developers
 
PrzykÅ‚ad 1
PrzykÅ‚ad ukazujÄ…cy tworzenie nowych powiadomieÅ„ poprzez klikniÄ™cie przycisku w widoku
aplikacji
 
 
 
import androidx.activity.EdgeToEdge;
import androidx.annotation.RequiresPermission;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.app.NotificationCompat;
import androidx.core.app.NotificationManagerCompat;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
import android.Manifest;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Build;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);
        setContentView(R.layout.activity_main);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -
> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right,
systemBars.bottom);
            return insets;
        });
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            int importance = NotificationManager.IMPORTANCE_DEFAULT;
            NotificationChannel channel = new NotificationChannel("CHANNEL_ID", "Moje
powiadomienie", importance);
            channel.setDescription("moj description");
            NotificationManager notificationManager =
getSystemService(NotificationManager.class);
            notificationManager.createNotificationChannel(channel);
        }
        Button button = findViewById(R.id.button);
        button.setOnClickListener(new View.OnClickListener() {
            @RequiresPermission(Manifest.permission.POST_NOTIFICATIONS)
            @Override
            public void onClick(View view) {
                Bitmap bitmap = BitmapFactory.decodeResource(getResources(),
R.drawable.off_ic_baseline_cast_connected_24);
                NotificationCompat.Builder builder = new
NotificationCompat.Builder(MainActivity.this, "CHANNEL_ID");
                builder.setContentTitle("Moja widamosc");
                builder.setContentText("TreÅ›Ä‡ mojej wiadomoÅ›ci ");
                builder.setSmallIcon(R.drawable.on_ic_baseline_cast_24);
                builder.setLargeIcon(bitmap);
                builder.setAutoCancel(true);
                NotificationManagerCompat managerCompat =
NotificationManagerCompat.from(MainActivity.this);
                managerCompat.notify(1, builder.build());
                Log.d("TAG", "onClick: ");
            }
        });
    }
}
 
1.      Sprawdzenie wersji systemu
 
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O)
 
KanaÅ‚y powiadomieÅ„ zostaÅ‚y wprowadzone w Androidzie 8.0 (Oreo). Ta instrukcja sprawdza,
czy telefon, na ktÃ³rym uruchomiona jest aplikacja, ma system w wersji 8.0 lub nowszej. Na
starszych systemach (np. Android 7) kanaÅ‚y nie istniaÅ‚y, wiÄ™c ten blok kodu zostanie tam
pominiÄ™ty.
 
2. Ustalenie waÅ¼noÅ›ci (Importance)
 
int importance = NotificationManager.IMPORTANCE_DEFAULT;
 
Definiujesz, jak bardzo "przeszkadzajÄ…ce" ma byÄ‡ powiadomienie:
IMPORTANCE_DEFAULT: Powiadomienie wyda dÅºwiÄ™k, ale nie "wyskoczy" nagle na
gÃ³rze ekranu (no banner).
IMPORTANCE_HIGH: Powiadomienie wyda dÅºwiÄ™k i pokaÅ¼e siÄ™ jako baner na gÃ³rze
ekranu (head-up notification).
 
3. Konfiguracja kanaÅ‚u:
"CHANNEL_ID": Unikalny identyfikator (ID). Musisz uÅ¼yÄ‡ dokÅ‚adnie tego samego ID
pÃ³Åºniej, gdy budujesz powiadomienie (NotificationCompat.Builder).
"Moje powiadomienie": Nazwa widoczna dla uÅ¼ytkownika w ustawieniach telefonu
(rysunek poniÅ¼ej).
importance: Poziom waÅ¼noÅ›ci ustalony wczeÅ›niej.
 
NotificationChannel channel = new NotificationChannel("CHANNEL_ID", "Moje
powiadomienie", importance);
 
      
 
4. Opis kanaÅ‚u.
To opcjonalny tekst, ktÃ³ry uÅ¼ytkownik moÅ¼e przeczytaÄ‡ w ustawieniach aplikacji, aby
dowiedzieÄ‡ siÄ™, jakiego rodzaju powiadomienia wysyÅ‚a ten konkretny kanaÅ‚ (rysunek
powyÅ¼ej).
 
channel.setDescription("moj description");
 
5. Rejestracja kanaÅ‚u w systemie.
 
NotificationManager notificationManager = getSystemService(NotificationManager.class);
notificationManager.createNotificationChannel(channel);
 
Pobierasz systemowÄ… usÅ‚ugÄ™ zarzÄ…dzania powiadomieniami i "meldujesz" jej swÃ³j kanaÅ‚.
Dopiero od tego momentu system Android wie, Å¼e Twoja aplikacja ma prawo wysyÅ‚aÄ‡
powiadomienia przypisane do identyfikatora "CHANNEL_ID".
 
Od Androida 8.0 uÅ¼ytkownik ma peÅ‚nÄ… kontrolÄ™ nad kanaÅ‚ami. MoÅ¼e wejÅ›Ä‡ w ustawienia
telefonu i wyÅ‚Ä…czyÄ‡ np. "Powiadomienia marketingowe", ale zostawiÄ‡ wÅ‚Ä…czone
"Powiadomienia o wiadomoÅ›ciach" â€“ o ile programista stworzyÅ‚ dla nich osobne kanaÅ‚y.
PamiÄ™taj: JeÅ›li zmienisz parametry kanaÅ‚u (np. z DEFAULT na HIGH) w kodzie, a kanaÅ‚
zostaÅ‚ juÅ¼ raz utworzony na telefonie, system nie zaktualizuje go. MusiaÅ‚byÅ› zmieniÄ‡ ID
kanaÅ‚u lub odinstalowaÄ‡ i zainstalowaÄ‡ aplikacjÄ™ ponownie, aby zmiany weszÅ‚y w Å¼ycie.
 
 
Wymagane pozwolenie:
 
 
<uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>
 
 
PrzykÅ‚ad ukazujÄ…cy zmodyfikowanÄ… metodÄ™ tworzÄ…cÄ… powiadomienie, ktÃ³re po klikniÄ™ciu
uruchamia AktywnoÅ›Ä‡:
 
button.setOnClickListener(new View.OnClickListener() {
    @RequiresPermission(Manifest.permission.POST_NOTIFICATIONS)
    @Override
    public void onClick(View view) {
        Intent intent = new Intent(MainActivity.this, MainActivity.class);
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, 0, intent,
PendingIntent.FLAG_IMMUTABLE);
        Bitmap bitmap = BitmapFactory.decodeResource(getResources(),
R.drawable.off_ic_baseline_cast_connected_24);
        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this,
"CHANNEL_ID");
        builder.setContentTitle("Moja widamosc");
        builder.setContentText("TreÅ›Ä‡ mojej wiadomoÅ›ci ");
        builder.setSmallIcon(R.drawable.on_ic_baseline_cast_24);
        builder.setLargeIcon(bitmap);
        builder.setAutoCancel(true);
        builder.setContentIntent(pendingIntent);
        NotificationManagerCompat managerCompat =
NotificationManagerCompat.from(MainActivity.this);
        managerCompat.notify(1, builder.build());
    }
});
 
4. Zadania
 
Zadanie 1.
Napisz program wedÅ‚ug wÅ‚asnego pomysÅ‚u generujÄ…cy powiadomienia.
 
 

--- END OF am11.pdf ---

--- START OF am12.pdf ---
 
 
Kierunek Informatyka
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr: 12 Nazwa przedmiotu:
Programowanie aplikacji mobilnych
Temat: Prezentacja danych w formie list dynamicznych RecyclerView
Tryb studiÃ³w: stacjonarne
Czas trwanie Ä‡w.
2x45 min
Autor materiaÅ‚Ã³w: dr Marcin Skuba
 
 
1. TreÅ›ci programowe:
Tworzenie list dynamicznych przeznaczonych do przechowywania serii danych.
 
2. Cel zajÄ™Ä‡:
Celem zajÄ™Ä‡ jest zapoznanie studentÃ³w z mechanizmami tworzenia list dynamicznych RecyclerView.
 
3. MateriaÅ‚y dydaktyczne
Lista rozwijana RecyclerView jest nastÄ™pca klasy ListView. ZostaÅ‚a ulepszona i zoptymalizowana pod kÄ…tem wydajnoÅ›ci. Lepiej radzi
sobie z duÅ¼Ä… iloÅ›ciÄ… danych. 
 
PRZYKÅAD 1.
 
PoniÅ¼ej przedstawiono prosty przykÅ‚ad aplikacji wykorzystujÄ…cy listÄ™ RecyclerView. Jest to przykÅ‚ad, od ktÃ³rego naleÅ¼y zaczÄ…Ä‡ analizÄ™
dziaÅ‚ania mechanizmu listy. 
 
 
Layout gÅ‚Ã³wny zawierajÄ…cy listÄ™ RecyclerView (activity_main.xml):
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_margin="10dp"
    android:orientation="vertical"
    tools:context=".MainActivity">
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Lista RecyclerView"
        android:textStyle="bold"/>
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/my_recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="10dp"/>
</LinearLayout>
 
 
Layout z jednÄ… pozycjÄ… listy (recyclerview_row.xml) zawierajÄ…cy tylko jedno pole tekstowe textView:
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="10dp">
    <TextView
        android:id="@+id/textView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="18dp"
        android:textColor="#f00"
        />
</LinearLayout>
 
 
Klasa MyRectclerViewAdapter.java deï¬niujÄ…ca adapter jako klasÄ™ pomocniczÄ… do zarzÄ…dzania listÄ…:
 
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import java.util.List;
import androidx.recyclerview.widget.RecyclerView;
class MyRecyclerViewAdapter extends RecyclerView.Adapter<MyRecyclerViewAdapter.ViewHolder> {
    private List<String> mData;
    private LayoutInflater mInflater;
    private ItemClickListener mClickListener;
    // dane sÄ… przekazywane do konstruktora
    MyRecyclerViewAdapter(Context context, List<String> data) {
        this.mInflater = LayoutInflater.from(context);
        this.mData = data;
    }
    // w razie potrzeby wypeÅ‚nia ukÅ‚ad wiersza xml
    @Override
    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        View view = mInflater.inflate(R.layout.recyclerview_row, parent, false);
        return new ViewHolder(view);
    }
    // wiÄ…Å¼e dane z TextView w kaÅ¼dym wierszu
    @Override
    public void onBindViewHolder(ViewHolder holder, int position) {
        String text = mData.get(position);
        holder.myTextView.setText(text);
    }
    // Zwraca informacjÄ™, ile elementÃ³w jest w liÅ›cie.
    // DziÄ™ki temu RecyclerView wie, jak dÅ‚ugi ma byÄ‡ suwak przewijania.
    @Override
    public int getItemCount() {
        return mData.size();
    }
    // Pozwala Å‚atwo wyciÄ…gnÄ…Ä‡ dane z konkretnego miejsca listy.
    String getItem(int id) {
        return mData.get(id);
    }
    // umoÅ¼liwia przechwytywanie zdarzeÅ„ zwiÄ…zanych z klikniÄ™ciami
    void setClickListener(ItemClickListener itemClickListener) {
        this.mClickListener = itemClickListener;
    }
    // dziaÅ‚anie nadrzÄ™dne wdroÅ¼y tÄ™ metodÄ™, aby reagowaÄ‡ na zdarzenia zwiÄ…zane z klikniÄ™ciem
    public interface ItemClickListener {
        void onItemClick(View view, int position);
    }
 
    // Przechowuje i przetwarza widoki po ich przewiniÄ™ciu poza ekran.
    // Zamiast ciÄ…gle szukaÄ‡ przycisku czy tekstu za pomocÄ… findViewById
    // (co jest wolne), adapter szuka ich raz, zapisuje w ViewHolderze i szybko do nich wraca
podczas przewijania.
    // Implementuje teÅ¼ OnClickListener, aby wykrywaÄ‡ klikniÄ™cia w dany wiersz.
    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {
        TextView myTextView;
        ViewHolder(View itemView) {
            super(itemView);
            myTextView = itemView.findViewById(R.id.textView);
            itemView.setOnClickListener(this);
        }
        @Override
        public void onClick(View view) {
            if (mClickListener != null) mClickListener.onItemClick(view,
getBindingAdapterPosition());
        }
    }
}
 
 
GÅ‚Ã³wna klasa AktywnoÅ›ci  MainActivity.java:
 
import android.os.Bundle;
import android.view.View;
import android.widget.Toast;
import androidx.activity.EdgeToEdge;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import java.util.ArrayList;
public class MainActivity extends AppCompatActivity  implements
MyRecyclerViewAdapter.ItemClickListener{
    MyRecyclerViewAdapter adapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);
        setContentView(R.layout.activity_main);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
        // dane do wypeÅ‚nienia RecyclerView
        ArrayList<String> dane = new ArrayList<>();
        dane.add("Piersza");
        dane.add("Druga");
        dane.add("Trzecia");
        dane.add("Czwarta");
        dane.add("PiÄ…ta");
        // konfiguracja RecyclerView
        RecyclerView recyclerView = findViewById(R.id.my_recycler_view);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));
        adapter = new MyRecyclerViewAdapter(this, dane);
        adapter.setClickListener(this);
        recyclerView.setAdapter(adapter);
    }
    @Override
    public void onItemClick(View view, int position) {
        Toast.makeText(this, "Wybrano pozycjÄ™:  " + adapter.getItem(position) + " nr: " +
position, Toast.LENGTH_SHORT).show();
    }
}
 
 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------
PRZYKÅAD 2.
 
Kolejny przykÅ‚ad przedstawia listÄ™ zÅ‚oÅ¼onÄ… z dwÃ³ch obiektÃ³w w postaci pola tekstowego (TextView) i obiektu graï¬cznego
(ImageView).
Dane dotyczÄ…ce przedmiotu zgrupowane sÄ… w klasie Przedmiot i zawierajÄ… dwie zmienne. Zmienna tekstowa przechowuje wartoÅ›Ä‡
tekstowÄ… wyÅ›wietlanÄ… pÃ³Åºniej w liÅ›cie oraz
zmiennÄ… caÅ‚kowitÄ… przechowujÄ…cÄ… identyï¬kator obrazka.
 
                   
 
Plik activity_main.xml:
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_margin="10dp"
    android:orientation="vertical"
    tools:context=".MainActivity">
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Lista RecyclerView"
        android:textStyle="bold"/>
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/my_recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="10dp"/>
</LinearLayout>
 
 
Plik recyclerview_row.xml:
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="10dp">
    <ImageView
        android:id="@+id/imageView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginRight="5dp"
        />
    <TextView
        android:id="@+id/textView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textSize="18dp"
        android:textColor="#f00"
        />
</LinearLayout>
 
Plik Przedmiot.java:
 
public class Przedmiot {
    private int icona;
    private String nazwa;
    public Przedmiot(int icon, String nazwa) {
        this.icona = icon;
        this.nazwa = nazwa;
    }
    public int getIcona() {
        return icona;
    }
    public void setIcona(int icona) {
        this.icona = icona;
    }
    public String getNazwa() {
        return nazwa;
    }
    public void setNazwa(String nazwa) {
        this.nazwa = nazwa;
    }
}
 
 
Plik MyRecyclerViewAdapter.java
 
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.TextView;
import java.util.List;
import androidx.recyclerview.widget.RecyclerView;
class MyRecyclerViewAdapter extends RecyclerView.Adapter<MyRecyclerViewAdapter.ViewHolder> {
    private List<Przedmiot> mData;
    private LayoutInflater mInflater;
    private ItemClickListener mClickListener;
    MyRecyclerViewAdapter(Context context, List<Przedmiot> data) {
        this.mInflater = LayoutInflater.from(context);
        this.mData = data;
    }
    @Override
    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
        View view = mInflater.inflate(R.layout.recyclerview_row, parent, false);
        return new ViewHolder(view);
    }
    @Override
    public void onBindViewHolder(ViewHolder holder, int position) {
        Przedmiot przedmiot= mData.get(position);
        holder.myTextView.setText(przedmiot.getNazwa());
        holder.imageView.setImageResource(przedmiot.getIcona());
    }
    @Override
    public int getItemCount() {
        return mData.size();
    }
    Przedmiot getItem(int id) {
        return mData.get(id);
    }
    void setClickListener(ItemClickListener itemClickListener) {
        this.mClickListener = itemClickListener;
    }
    public interface ItemClickListener {
        void onItemClick(View view, int position);
    }
    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {
        TextView myTextView;
        ImageView imageView;
        ViewHolder(View itemView) {
            super(itemView);
            myTextView = itemView.findViewById(R.id.textView);
            imageView = itemView.findViewById(R.id.imageView);
            itemView.setOnClickListener(this);
        }
        @Override
        public void onClick(View view) {
            if (mClickListener != null) mClickListener.onItemClick(view,
getBindingAdapterPosition());
        }
    }
}
 
 
Plik MainActivity.java:
 
import android.os.Bundle;
import android.view.View;
import android.widget.Toast;
import androidx.activity.EdgeToEdge;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import java.util.ArrayList;
public class MainActivity extends AppCompatActivity  implements
MyRecyclerViewAdapter.ItemClickListener{
    MyRecyclerViewAdapter adapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);
        setContentView(R.layout.activity_main);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
        ArrayList<Przedmiot> dane = new ArrayList<>();
        dane.add(new Przedmiot(R.drawable.cpp_icon, "C++"));
        dane.add(new Przedmiot(R.drawable.java_icon, "Java"));
        dane.add(new Przedmiot(R.drawable.android_icon, "Android"));
        dane.add(new Przedmiot(R.drawable.math_icon, "Matematyka"));
        // konfiguracja RecyclerView
        RecyclerView recyclerView = findViewById(R.id.my_recycler_view);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));
        adapter = new MyRecyclerViewAdapter(this, dane);
        adapter.setClickListener(this);
        recyclerView.setAdapter(adapter);
    }
    @Override
    public void onItemClick(View view, int position) {
        Przedmiot przedmiot = adapter.getItem(position);
        Toast.makeText(this, "Wybrano pozycjÄ™:  " + przedmiot.getNazwa() + " nr: " + position,
Toast.LENGTH_SHORT).show();
    }
}
 
 
                  
Pliki graï¬czne (drawable):
 
android_icon.png
cpp_icon.png
java_icon.png
math_icon.png
 
4. Zadania
 
Zadanie 1.
Napisz program, w ktÃ³rym dodaj jeszcze jedno pole tekstowe w pozycji listy, w ktÃ³rym zapisany bÄ™dzie opis przedmiotu.
 
Zadanie 2.
Napisz program wedÅ‚ug wÅ‚asnego pomysÅ‚u, w ktÃ³rym zaprojektuj listÄ™ wyÅ›wietlajÄ…cÄ… wartoÅ›ci tekstowe oraz graï¬kÄ™.
W jednym wierszy powinno byÄ‡ co najmniej cztery elementy.
 
 
 

--- END OF am12.pdf ---

--- START OF am13.pdf ---
 
 
Kierunek Informatyka
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr: 13 Nazwa przedmiotu:
Programowanie aplikacji mobilnych
Temat: Lista rozwijana â€“ Spinner. Deklaracja ksztaÅ‚tu obiektu  
Tryb studiÃ³w: stacjonarne
Czas trwanie Ä‡w.
2x45 min
Autor materiaÅ‚Ã³w: dr Marcin Skuba
 
1. TreÅ›ci programowe:
Lista rozwijana, spinner, obsÅ‚uga zdarzeÅ„ podczas wyboru listy, pobieranie danycssh i pozycji z listy bez
obsÅ‚ugi zdarzenia listy, deï¬niowanie ksztaÅ‚tu obiektu.
 
2. Cel zajÄ™Ä‡:
Celem zajÄ™Ä‡ jest poznanie obiektu listy rozwijanej â€“ Spinner oraz jego obsÅ‚ugi (obsÅ‚ug zdarzeÅ„ podczas
wyboru listy). Tworzenie szablonu ksztaÅ‚tu dla obiektu.
 
3. MateriaÅ‚y dydaktyczne
 
 
Plik activity_main.xml
 
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center"
    android:layout_margin="10dp"
    android:id="@+id/main"
    tools:context=".MainActivity">
    <Button
        android:id="@+id/button"
        android:layout_marginBottom="30dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Set"/>
    <Spinner
        android:id="@+id/spinner"
        android:layout_width="match_parent"
        android:layout_height="40sp"
        android:background="@drawable/shape_fields"
        android:popupBackground="@drawable/shape_fields"
        />
</LinearLayout>
 
Plik shapes_ï¬elds.xml
 
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
<item>
    <shape android:shape="rectangle" >
    <stroke android:width="2dp"
        android:color="#0f0"/>
    <solid android:color="#BAA0BA"/>
    <corners android:radius="5dp"/>
</shape>
</item>
</layer-list>
 
Plik MainActivity.java
 
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.Spinner;
import android.widget.Toast;
import androidx.activity.EdgeToEdge;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
public class MainActivity extends AppCompatActivity {
    Spinner spinner;
    MyRecyclerViewAdapter adapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);
        setContentView(R.layout.activity_main);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
        String tab[] = {"StyczeÅ„", "Luty", "Marzec", "KwiecieÅ„", "Maj"};
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
android.R.layout.simple_spinner_dropdown_item, tab);
        spinner = (Spinner) findViewById(R.id.spinner);
        spinner.setAdapter(adapter);
        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id)
{
                String item = parent.getSelectedItem().toString();
                Toast.makeText(MainActivity.this, item + " id=" + id,
Toast.LENGTH_SHORT).show();
            }
            @Override
            public void onNothingSelected(AdapterView<?> adapterView) {
                Log.i("Spinner", "Spinner nothing selected");
                return;
            }
        });
        Button button = findViewById(R.id.button);
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                String item = spinner.getSelectedItem().toString();
                int position = spinner.getSelectedItemPosition();
                Toast.makeText(MainActivity.this, item + " position=" + position,
Toast.LENGTH_SHORT).show();
            }
        });
    }
}
 
 
Kod w pliku shapes_ï¬elds.xml to deï¬nicja Drawable w formacie XML, ktÃ³ra tworzy prostokÄ…tne tÅ‚o z
obramowaniem i zaokrÄ…glonymi rogami. Jest to bardzo popularny sposÃ³b na stylowanie przyciskÃ³w lub
wierszy na liÅ›cie bez uÅ¼ywania gotowych plikÃ³w graï¬cznych.
 
1. <layer-list>
To kontener, ktÃ³ry pozwala nakÅ‚adaÄ‡ na siebie wiele warstw (obrazkÃ³w, ksztaÅ‚tÃ³w). KaÅ¼dy element
<item> wewnÄ…trz to kolejna warstwa. W tym przypadku jest tylko jedna warstwa, wiÄ™c sÅ‚uÅ¼y ona jako
gÅ‚Ã³wny pojemnik.
 
2. <item>
Deï¬niuje pojedynczy obiekt w liÅ›cie warstw.
 
3. <shape android:shape="rectangle">
OkreÅ›la, Å¼e rysujemy konkretny ksztaÅ‚t â€“ w tym przypadku prostokÄ…t.
 
4. <stroke> (Obramowanie)
Ten znacznik odpowiada za krawÄ™dzie ksztaÅ‚tu:
android:width="2dp": GruboÅ›Ä‡ linii obramowania wynosi 2 gÄ™stoÅ›ci pikseli (dp).
android:color="#0f0": Kolor obramowania to soczysty zielony (skrÃ³cony zapis HEX, odpowiednik
#00FF00).
 
5. <solid> (WypeÅ‚nienie)
Deï¬niuje jednolity kolor wnÄ™trza ï¬gury:
android:color="#BAA0BA
 
6. <corners> (Rogi)
Odpowiada za zaokrÄ…glenie rogÃ³w prostokÄ…ta:
android:radius="5dp": Wszystkie cztery rogi zostanÄ… delikatnie zaokrÄ…glone o promieÅ„ 5dp, co
nadaje elementowi nowoczesny, miÄ™kki wyglÄ…d.
 
----------------------------------------------------------------------------
PrzykÅ‚ad pobierajÄ…cy dane do listy z pliku zasobÃ³w XML
 
 
Plik arrays.xml:
 
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string-array name="miesiace_array">
        <item>StyczeÅ„</item>
        <item>Luty</item>
        <item>Marzec</item>
        <item>KwiecieÅ„</item>
        <item>Maj</item>
        <item>Czerwiec</item>
    </string-array>
</resources>
 
Plik MainActivity.java:
 
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Spinner;
import android.widget.Toast;
import androidx.activity.EdgeToEdge;
import androidx.appcompat.app.AppCompatActivity;
import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowInsetsCompat;
public class MainActivity extends AppCompatActivity {
    Spinner spinner;
    MyRecyclerViewAdapter adapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EdgeToEdge.enable(this);
        setContentView(R.layout.activity_main);
        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
            return insets;
        });
        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this,
                R.array.miesiace_array, android.R.layout.simple_spinner_item);
        // Ustawiamy layout dla rozwijanej listy
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner = (Spinner) findViewById(R.id.spinner);
        spinner.setAdapter(adapter);
        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id)
{
                String item = parent.getSelectedItem().toString();
                Toast.makeText(MainActivity.this, item + " id=" + id,
Toast.LENGTH_SHORT).show();
            }
            @Override
            public void onNothingSelected(AdapterView<?> adapterView) {
                Log.i("Spinner", "Spinner nothing selected");
                return;
            }
        });
    }
}
 
4. Zadania
 
Zadanie 1.
Napisz program wedÅ‚ug wÅ‚asnego pomysÅ‚u, w ktÃ³rym wykorzystaj obiekt listy rozwijanej.
 

--- END OF am13.pdf ---

--- START OF am14.pdf ---
 
Kierunek Informatyka
 
Instrukcja do Ä‡wiczeÅ„ laboratoryjnych nr: 14 Nazwa przedmiotu:
Programowanie aplikacji mobilnych
Temat: Fragmenty, ViewModel
Tryb studiÃ³w: stacjonarne
Czas trwanie Ä‡w.
2x45 min
Autor materiaÅ‚Ã³w: dr Marcin Skuba
 
1. TreÅ›ci programowe:
Fragmenty, przekazywanie danych pomiÄ™dzy fragmentami.
 
2. Cel zajÄ™Ä‡:
Celem zajÄ™Ä‡ jest opanowanie umiejÄ™tnoÅ›ci tworzenia interfejsu uÅ¼ytkownika z wykorzystaniem fragmentÃ³w. 
 
3. MateriaÅ‚y dydaktyczne
 
Fragmenty (Fragments) w Android Studio: najwaÅ¼niejsze cechy:
Fragment to czÄ™Å›Ä‡ interfejsu uÅ¼ytkownika w Activity (taki â€mini-ekranâ€).
Pozwala dzieliÄ‡ UI na moduÅ‚y i Å‚atwo je wymieniaÄ‡ (np. w tabletach, ViewPager, Navigation).
Fragment zawsze dziaÅ‚a wewnÄ…trz Activity â€“ sam nie istnieje.
Ma wÅ‚asny cykl Å¼ycia, ale zaleÅ¼ny od cyklu Å¼ycia Activity.
UI fragmentu deï¬niujesz w osobnym pliku XML.
Fragmenty moÅ¼na dynamicznie dodawaÄ‡, usuwaÄ‡ i zastÄ™powaÄ‡ (FragmentManager).
UÅ‚atwiajÄ… wielokrotne uÅ¼ycie kodu i czytelniejszÄ… architekturÄ™ aplikacji.
 
Cykl Å¼ycia fragmentu
 
PrzykÅ‚ad 1
PrzykÅ‚ad ukazujÄ…cy sposÃ³b wyÅ›wietlania i zamiany fragmentÃ³w w aktywnoÅ›ci. -------------------------------------------------------
-------------------------------------------------------------------
 
 
Plik â€activity_main.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">
    <FrameLayout
        android:id="@+id/frame_layout"
        android:layout_width="match_parent"
        android:layout_height="500dp"
        android:layout_margin="10dp"
        />
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:layout_below="@+id/frame_layout"
        android:gravity="center">
        <Button
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Fragment 1"
            android:layout_margin="10dp"
            android:padding="10dp" />
        <Button
            android:id="@+id/button2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:padding="10dp"
            android:layout_margin="10dp"
            android:text="Fragment 2" />
    </LinearLayout>
</RelativeLayout>
 
 
 
 
Plik â€MainActivity.javaâ€
 
import androidx.appcompat.app.AppCompatActivity;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.fragment.app.FragmentTransaction;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        getSupportFragmentManager().beginTransaction().add(R.id.frame_layout, new
Fragment1()).commit();
        Button button1 = findViewById(R.id.button1);
        button1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                replaceFragment(new Fragment1());
            }
        });
        Button button2 = findViewById(R.id.button2);
        button2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                replaceFragment(new Fragment2());
            }
        });
    }
    private void replaceFragment(Fragment fragment){
        FragmentManager fragmentManager = getSupportFragmentManager();
        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
        fragmentTransaction.replace(R.id.frame_layout, fragment);
        fragmentTransaction.commit();                                         
    }
}
 
 
1.     getSupportFragmentManager() To wywoÅ‚anie menedÅ¼era, ktÃ³ry zarzÄ…dza fragmentami w Twojej aktywnoÅ›ci
(Activity). Wersja "Support" zapewnia kompatybilnoÅ›Ä‡ ze starszymi wersjami systemu Android.
2.     .beginTransaction() Operacje na fragmentach (dodawanie, usuwanie, zamiana) muszÄ… odbywaÄ‡ siÄ™ w ramach
tzw. transakcji.
3.     .add(R.id.frame_layout, new Fragment1()) To jest serce operacji. Metoda add przyjmuje dwa parametry:
4.     R.id.frame_layout: To ID kontenera (zazwyczaj FrameLayout w pliku XML), w ktÃ³rym ma siÄ™ pojawiÄ‡ fragment.
5.     new Fragment1(): To instancja klasy Twojego fragmentu, ktÃ³ry chcesz wyÅ›wietliÄ‡.
6.     .commit() To ostateczne zatwierdzenie. Bez tej metody nic siÄ™ nie stanie. MÃ³wi ona systemowi: "Wszystkie
powyÅ¼sze instrukcje sÄ… gotowe, wykonaj je teraz".
 
JeÅ›li chcesz zmieniÄ‡ jeden fragment na drugi (np. po klikniÄ™ciu w menu), zamiast .add() lepiej uÅ¼yÄ‡ metody .replace().
DziÄ™ki temu nowy fragment zastÄ…pi stary, zamiast nakÅ‚adaÄ‡ siÄ™ jeden na drugi.
 
Plik â€fragment_1.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".Fragment1">
    <TextView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:text="Fragment 1"
        android:textSize="44dp"
        android:gravity="center"
        android:background="#ff0"/>
</FrameLayout>
 
Plik â€fragment_2.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".Fragment2">
    <TextView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:text="Fragment 2"
        android:textSize="44dp"
        android:gravity="center"
        android:background="#f00"/>
</FrameLayout>
 
Plik â€Fragment1.javaâ€
 
import android.os.Bundle;
import androidx.fragment.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
public class Fragment1 extends Fragment {
    public Fragment1() {
        // Required empty public constructor
    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_1, container, false);
    }
}
 
Plik â€Fragment2.javaâ€
 
import android.os.Bundle;
import androidx.fragment.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
public class Fragment2 extends Fragment {
    public Fragment2() {
        // Required empty public constructor
    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_2, container, false);
    }
}
 
Metoda wywoÅ‚ywana po utworzeniu widoku
 
@Override
public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    TextView textView;
    textView = (TextView) getView().findViewById(R.id.textView);
    Executor executor = Executors.newSingleThreadExecutor();
    Handler handler = new Handler(Looper.getMainLooper());
    executor.execute(new Runnable() {
        @Override
        public void run() {
            int licznik=0;
            while (true) {
                int finalLicznik = licznik;
                handler.post(new Runnable() {
                    @Override
                    public void run() {
                        textView.setText(""+ finalLicznik);
                    }
                });
                licznik++;
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    throw new RuntimeException(e);
                }
            }
        }
    });
}
 
 
 
PrzykÅ‚ad 2
PrzykÅ‚ad ukazujÄ…cy sposÃ³b przekazywania danych miÄ™dzy fragmentami w trakcie tworzenia nowego fragmentu
(jeden fragment w widoku) ----------------------------------------------------------------
 
 
Plik â€MainActivity.javaâ€
 
import androidx.appcompat.app.AppCompatActivity;
import android.os.Bundle;
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        getSupportFragmentManager().beginTransaction().add(R.id.frame_layout, new
Fragment1()).commit();
    }
}
 
Plik â€activity_main.javaâ€
 
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">
    <FrameLayout
        android:id="@+id/frame_layout"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        >
    </FrameLayout>
</RelativeLayout>
 
Plik â€fragment_1.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="20dp"
    tools:context=".Fragment1">
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:background="#0af"
        android:gravity="center">
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Fragment nr 1"
            android:textSize="23dp"
            android:gravity="center"
            android:layout_marginBottom="50dp"/>
        <EditText
            android:id="@+id/edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:textSize="22dp"
            android:gravity="center"
            android:layout_margin="10dp"
            android:hint="podaj wartosc parametru dla fragmentu nr 2"
            android:background="#ff0"/>
        <Button
            android:id="@+id/button_go"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:layout_gravity="center"
            android:text="Go"/>
    </LinearLayout>
</FrameLayout>
 
Plik â€fragment_2.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ff0"
    android:padding="10dp"
    tools:context=".Fragment2">
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:background="#0f0"
        android:gravity="center">
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Fragment nr 2"
            android:textSize="23dp"
            android:gravity="center"
            android:layout_marginBottom="50dp"/>
        <EditText
            android:id="@+id/edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:textSize="22dp"
            android:gravity="center"
            android:layout_margin="10dp"
            android:background="#ff0"/>
        <Button
            android:id="@+id/button_back"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:layout_gravity="center"
            android:text="Back"/>
    </LinearLayout>
</FrameLayout>
 
Plik â€Fragment1.javaâ€
 
import android.os.Bundle;
import androidx.fragment.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
public class Fragment1 extends Fragment {
    Button buttonGo;
    EditText editText;
    // TODO: Rename parameter arguments, choose names that match
    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
    private static final String ARG_PARAM1 = "param1";
    private static final String ARG_PARAM2 = "param2";
    // TODO: Rename and change types of parameters
    private String mParam1;
    private String mParam2;
    public Fragment1() {
        // Required empty public constructor
    }
    // TODO: Rename and change types and number of parameters
    public static Fragment1 newInstance(String param1, String param2) {
        Fragment1 fragment = new Fragment1();
        Bundle args = new Bundle();
        args.putString(ARG_PARAM1, param1);
        args.putString(ARG_PARAM2, param2);
        fragment.setArguments(args);
        return fragment;
    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (getArguments() != null) {
            mParam1 = getArguments().getString(ARG_PARAM1);
            mParam2 = getArguments().getString(ARG_PARAM2);
        }
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        View v = inflater.inflate(R.layout.fragment_1, container, false);
        editText = (EditText)v.findViewById(R.id.edit_text);
        buttonGo = (Button)v.findViewById(R.id.button_go);
        buttonGo.setOnClickListener(new View.OnClickListener(){
            @Override
            public void onClick(View v) {
                ///------------- PrzykÅ‚ad przesyÅ‚ania caÅ‚ej paczki bundle do drugiego
fragmentu2-------------------
                ///   Bundle bundle = new Bundle();
                ///   bundle.putString("KEY_1", editText.getText().toString());
                ///   Fragment2 fragment2 = new Fragment2();
                ///   fragment2.setArguments(bundle);
                Fragment2 fragment2 =
Fragment2.newInstance(mParam1,editText.getText().toString());
                getParentFragmentManager().beginTransaction().replace(R.id.frame_layout,
fragment2).commit();
            }
        });
        editText.setText(mParam2);
        return v;
    }
}
 
Plik â€Fragment2.javaâ€
 
import android.os.Bundle;
import androidx.fragment.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
/**
 * A simple {@link Fragment} subclass.
 * Use the {@link Fragment2#newInstance} factory method to
 * create an instance of this fragment.
 *
 */
public class Fragment2 extends Fragment {
    // TODO: Rename parameter arguments, choose names that match
    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
    private static final String ARG_PARAM1 = "param1";
    private static final String ARG_PARAM2 = "param2";
    // TODO: Rename and change types of parameters
    private String mParam1;
    private String mParam2;
    /**
     * Use this factory method to create a new instance of
     * this fragment using the provided parameters.
     *
     * @param param1 Parameter 1.
     * @param param2 Parameter 2.
     * @return A new instance of fragment Fragment2.
     */
    // TODO: Rename and change types and number of parameters
    public static Fragment2 newInstance(String param1, String param2) {
        Fragment2 fragment = new Fragment2();
        Bundle args = new Bundle();
        args.putString(ARG_PARAM1, param1);
        args.putString(ARG_PARAM2, param2);
        fragment.setArguments(args);
        return fragment;
    }
    public Fragment2() {
    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        if (getArguments() != null) {
            mParam1 = getArguments().getString(ARG_PARAM1);
            mParam2 = getArguments().getString(ARG_PARAM2);
        }
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle
savedInstanceState) {
        View v =  inflater.inflate(R.layout.fragment_2, container, false);
        EditText editText=(EditText)v.findViewById(R.id.edit_text);
        Button buttonBack = (Button)v.findViewById(R.id.button_back);
        buttonBack.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Fragment1 fragment1 =
Fragment1.newInstance("KEY_1",editText.getText().toString());
                getParentFragmentManager().beginTransaction().replace(R.id.frame_layout,
fragment1).commit();
            }
        });
        ///----------- PrzykÅ‚ad odbierania caÅ‚ej praczki z fragmentu 1 ------------------------
        /// Bundle bundle = getArguments();
        /// String mParam = bundle.getString("KEY_1","");
        /// editText.setText(mParam);
        editText.setText(mParam2);
        return v;
    }
}
 
PrzykÅ‚ad 3
PrzykÅ‚ad ukazujÄ…cy sposÃ³b przekazywania danych miÄ™dzy fragmentami widocznymi w widoku
 
 
 
 
Plik â€MainActivity.javaâ€
 
import androidx.appcompat.app.AppCompatActivity;
import android.os.Bundle;
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        getSupportFragmentManager().beginTransaction().add(R.id.frame_layout1, new
Fragment1()).commit();
        getSupportFragmentManager().beginTransaction().add(R.id.frame_layout2, new
Fragment2()).commit();
    }
}
 
 
Plik â€activity_main.xmlâ€
 
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity">
    <FrameLayout
        android:id="@+id/frame_layout1"
        android:layout_width="match_parent"
        android:layout_height="400dp"
        >
    </FrameLayout>
    <FrameLayout
        android:id="@+id/frame_layout2"
        android:layout_below="@+id/frame_layout1"
        android:layout_width="match_parent"
        android:layout_height="400dp"
        >
    </FrameLayout>
</RelativeLayout>
 
Plik â€fragment_1.javaâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="20dp"
    tools:context=".Fragment1">
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:background="#0af"
        android:gravity="center">
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Fragment nr 1"
            android:textSize="23dp"
            android:gravity="center"
            android:layout_marginBottom="50dp"/>
        <EditText
            android:id="@+id/edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:textSize="22dp"
            android:gravity="center"
            android:layout_margin="10dp"
            android:hint="podaj wartosc parametru dla fragmentu nr 2"
            android:background="#ff0"/>
        <Button
            android:id="@+id/button_go"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="20dp"
            android:layout_gravity="center"
            android:text="Go"/>
    </LinearLayout>
</FrameLayout>
 
Plik â€fragment_2.javaâ€
 
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ff0"
    android:padding="10dp"
    tools:context=".Fragment2">
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:background="#0f0"
        android:gravity="center">
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Fragment nr 2"
            android:textSize="23dp"
            android:gravity="center"
            android:layout_marginBottom="50dp"/>
        <EditText
            android:id="@+id/edit_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:textSize="22dp"
            android:gravity="center"
            android:layout_margin="10dp"
            android:background="#ff0"/>
    </LinearLayout>
</FrameLayout>
 
Plik â€Fragment1.javaâ€
 
import android.os.Bundle;
import androidx.fragment.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
public class Fragment1 extends Fragment {
    public Fragment1() {
    }
    // TODO: Rename and change types and number of parameters
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        View v = inflater.inflate(R.layout.fragment_1, container, false);
        EditText editText = v.findViewById(R.id.edit_text);
        Button buttonGo = v.findViewById(R.id.button_go);
        buttonGo.setOnClickListener(new View.OnClickListener(){
            @Override
            public void onClick(View v) {
                Bundle bundle = new Bundle();
                bundle.putString("KEY_VALUE_1", editText.getText().toString());
                getParentFragmentManager().setFragmentResult("KEY_MESSAGE_1", bundle);
            }
        });
        return v;
    }
}
 
 
Plik â€Fragment2.javaâ€
 
import android.os.Bundle;
import androidx.annotation.NonNull;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentResultListener;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.EditText;
public class Fragment2 extends Fragment {
    public Fragment2() {
    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle
savedInstanceState) {
        View v =  inflater.inflate(R.layout.fragment_2, container, false);
        EditText editText=v.findViewById(R.id.edit_text);
        getParentFragmentManager().setFragmentResultListener("KEY_MESSAGE_1", this, new
FragmentResultListener() {
            @Override
            public void onFragmentResult(@NonNull String requestKey, @NonNull Bundle result) {
                editText.setText(result.getString("KEY_VALUE_1"));
            }
        });
        return v;
    }
}
 
 
ViewModel
 
ViewModel  to obecnie standard w Androidzie. Pozwala on na komunikacjÄ™ miÄ™dzy fragmentami bez koniecznoÅ›ci
rÄ™cznego pakowania danych do Bundle i bez ryzyka wyciekÃ³w pamiÄ™ci.
ViewModel to jedna z najwaÅ¼niejszych klas wchodzÄ…cych w skÅ‚ad biblioteki Android Jetpack. ZostaÅ‚a stworzona, aby
rozwiÄ…zaÄ‡ dwa gÅ‚Ã³wne problemy: utratÄ™ danych przy obracaniu ekranu oraz zbyt skomplikowany kod w AktywnoÅ›ciach.
 
GÅ‚Ã³wnÄ… zaletÄ… jest to, Å¼e ViewModel Å¼yje tak dÅ‚ugo, jak dÅ‚ugo Å¼yje Activity (czyli "rodzic" Twoich fragmentÃ³w). JeÅ›li
jeden fragment wpisze coÅ› do ViewModel, drugi fragment moÅ¼e to natychmiast odczytaÄ‡.
NajwaÅ¼niejsze cechy ViewModel:
1. OdpornoÅ›Ä‡ na zmiany konï¬guracji (np. obrÃ³t ekranu) Standardowe zmienne w AktywnoÅ›ci lub Fragmencie sÄ…
niszczone podczas obracania telefonu. ViewModel zostaje w pamiÄ™ci tak dÅ‚ugo, jak dÅ‚ugo trwa sesja danego
ekranu. DziÄ™ki temu dane (np. tekst wpisany w pole, lista pobrana z sieci) nie znikajÄ… po zmianie orientacji ekranu.
2. Oddzielenie logiki od interfejsu (Separation of Concerns) Zgodnie z zasadÄ… czystego kodu, Fragment powinien
zajmowaÄ‡ siÄ™ tylko wyÅ›wietlaniem widokÃ³w, a ViewModel powinien trzymaÄ‡ dane i logikÄ™ biznesowÄ…. DziÄ™ki temu
kod jest Å‚atwiejszy w testowaniu i utrzymaniu.
3. Bezpieczna komunikacja miÄ™dzy fragmentami UÅ¼ywajÄ…c wspÃ³Å‚dzielonego ViewModelu (shared), fragmenty mogÄ…
â€rozmawiaÄ‡â€ ze sobÄ… bez bezpoÅ›redniego wywoÅ‚ywania swoich metod. Jeden fragment zmienia dane w
ViewModelu, a drugi automatycznie to zauwaÅ¼a dziÄ™ki obserwatorom (LiveData).
4. Brak wyciekÃ³w pamiÄ™ci (Memory Leaks) ViewModel nigdy nie powinien przechowywaÄ‡ referencji do Context,
Activity ani View. DziÄ™ki temu, nawet jeÅ›li proces tÅ‚a w ViewModelu trwa dÅ‚uÅ¼ej, nie zablokuje on usuniÄ™cia
AktywnoÅ›ci z pamiÄ™ci, co zapobiega zawieszaniu aplikacji.
 
Implementacja:
1. UtwÃ³rz klasÄ™ ViewModel
Ta klasa bÄ™dzie przechowywaÄ‡ Twoje dane (np. tekst z EditText).
 
Plik SharedViewModel.java
import androidx.lifecycle.MutableLiveData;
import androidx.lifecycle.ViewModel;
public class SharedViewModel extends ViewModel {
    // LiveData pozwala fragmentom "obserwowaÄ‡" zmiany w czasie rzeczywistym
    private final MutableLiveData<String> selectedText = new MutableLiveData<>();
    public void setText(String text) {
        selectedText.setValue(text);
    }
    public MutableLiveData<String> getText() {
        return selectedText;
    }
}
 
 
Plik zawierajÄ…cy klasÄ™ fragmentu pierwszego:
 
// WewnÄ…trz onClick w Fragment1
SharedViewModel viewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);
viewModel.setText(editText.getText().toString());
 
Plik zawierajÄ…cy klasÄ™ fragmentu drugiego:
 
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle
savedInstanceState) {
    View v =  inflater.inflate(R.layout.fragment_2, container, false);
    EditText editText=v.findViewById(R.id.edit_text);
    SharedViewModel viewModel = new
ViewModelProvider(requireActivity()).get(SharedViewModel.class);
    viewModel.getText().observe(getViewLifecycleOwner(), text -> {
        // Tu tekst pojawi siÄ™ automatycznie!
        editText.setText(text);
    });
    return v;
}
 
 
ViewModel â€“ obserwowanie zmian
 
Wykorzystanie metody observe() to kluczowy element programowania reaktywnego w Androidzie. DziÄ™ki niej
Fragment2 nie musi pytaÄ‡ o dane â€“ on â€nasÅ‚uchujeâ€, aÅ¼ dane same do niego â€przypÅ‚ynÄ…â€.
Oto kompletny przykÅ‚ad implementacji komunikacji miÄ™dzy fragmentami.
1. WspÃ³lny SharedViewModel
To jest nasz poÅ›rednik. Kluczowe jest uÅ¼ycie MutableLiveData, ktÃ³ra pozwala na obserwowanie zmian.
 
Plik SharedViewModel.java:
import androidx.lifecycle.LiveData;
import androidx.lifecycle.MutableLiveData;
import androidx.lifecycle.ViewModel;
public class SharedViewModel extends ViewModel {
    private final MutableLiveData<String> message = new MutableLiveData<>();
    // Metoda do wysyÅ‚ania danych
    public void sendMessage(String text) {
        message.setValue(text);
    }
    // Metoda do nasÅ‚uchiwania (obserwowania) danych
    public LiveData<String> getMessage() {
        return message;
    }
}
 
 
fragment kodu w Fragment1:
 
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
                         Bundle savedInstanceState) {
    View v = inflater.inflate(R.layout.fragment_1, container, false);
    EditText editText = v.findViewById(R.id.edit_text);
    Button buttonGo = v.findViewById(R.id.button_go);
    buttonGo.setOnClickListener(new View.OnClickListener(){
        @Override
        public void onClick(View v) {
            // ÅÄ…czymy siÄ™ z ViewModelem przypisanym do AKTYWNOÅšCI (requireActivity)
            SharedViewModel viewModel = new
ViewModelProvider(requireActivity()).get(SharedViewModel.class);
            // Przekazujemy tekst z EditText
            viewModel.sendMessage(editText.getText().toString());
        }
    });
    return v;
}
 
 
Fragment kodu w Fragment2:
 
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle
savedInstanceState) {
    View v = inflater.inflate(R.layout.fragment_2, container, false);
    EditText editText = v.findViewById(R.id.edit_text);
    // Pobieramy ten sam ViewModel co w Fragment1
    SharedViewModel viewModel = new
ViewModelProvider(requireActivity()).get(SharedViewModel.class);
    // USTAWIANIE OBSERWATORA
    viewModel.getMessage().observe(getViewLifecycleOwner(), new Observer<String>() {
        @Override
        public void onChanged(String s) {
            // Ta metoda wykona siÄ™ automatycznie, gdy tylko dane w ViewModelu siÄ™ zmieniÄ…
            editText.setText(s);
        }
    });
    return v;
}
 
 
Â·       Automatyzacja: Metoda onChanged wykona siÄ™ natychmiast po wywoÅ‚aniu sendMessage w pierwszym
fragmencie.
Â·       BezpieczeÅ„stwo cyklu Å¼ycia: DziÄ™ki getViewLifecycleOwner(), obserwator zostanie automatycznie usuniÄ™ty, gdy
fragment zostanie zniszczony. To zapobiega wyciekom pamiÄ™ci i prÃ³bom aktualizacji widoku, ktÃ³ry juÅ¼ nie
istnieje.
Â·       Brak Bundle: Nie musisz deï¬niowaÄ‡ kluczy ARG_PARAM1, ARG_PARAM2 ani pilnowaÄ‡, czy typy danych siÄ™
zgadzajÄ….
 
4. Zadania
 
Zadanie 1.
Napisz program wedÅ‚ug wÅ‚asnego pomysÅ‚u, w ktÃ³rym umieÅ›Ä‡ dwa fragmenty obok siebie.
W pierwszym fragmencie powinny znaleÅºÄ‡ siÄ™ formularze do wprowadzenia danych o studencie: imiÄ™, nazwisko, kierunek_studiÃ³w,
rok, nazwa specjalnoÅ›ci.
W drugim fragmencie powinny znaleÅºÄ‡ siÄ™ pola tekstowe wyÅ›wietlajÄ…ce dane studenta wprowadzone w pierwszym fragmencie.
Dane powinny pojawiÄ‡ siÄ™ w momencie naciÅ›niÄ™cia przycisku â€Ustawâ€ w pierwszym fragmencie.
 
Zadanie 2.
Napisz program wedÅ‚ug wÅ‚asnego pomysÅ‚u, w ktÃ³rym wykorzystaj reaktywne programowanie do przekazywania danych miedzy
fragmentami. Fragmenty powinny byÄ‡ zamieniane w gÅ‚Ã³wnym widoku aplikacji.
 

--- END OF am14.pdf ---

